<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nutzungsvorgaben :: IsyFact Dokumentation</title>
    <link rel="canonical" href="https://isyfact.github.io/isyfact-jsf-doku/latest/isy-web/nutzungsvorgaben/nutzungsvorgaben.html">
    <meta name="generator" content="Antora 3.0.1">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="stylesheet" href="../../../../_/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../../../_/css/isyfact.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://isyfact.github.io">IsyFact Dokumentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="isyfact-jsf-doku" data-version="5.3">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../konzept/konzept.html">JavaServer Faces (JSF)</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../konzept/konzept.html">Konzept</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../konzept/anhaenge.html">Anhänge</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="nutzungsvorgaben.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">JavaServer Faces (JSF)</span>
    <span class="version">5.3</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../glossary/latest/glossary/master.html">Glossar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../glossary/latest/glossary/master.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../isyfact-standards-doku/latest/einstieg/einstieg.html">IsyFact Standards</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../isyfact-standards-doku/latest/einstieg/einstieg.html">3.0 (DEV)</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../konzept/konzept.html">JavaServer Faces (JSF)</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../konzept/konzept.html">5.3</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../isyfact-standards-doku/latest/einstieg/einstieg.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../konzept/konzept.html">JavaServer Faces (JSF)</a></li>
    <li><a href="nutzungsvorgaben.html">Nutzungsvorgaben</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Inhalt" data-levels="3">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Nutzungsvorgaben</h1>
<div id="preamble">
<div class="sectionbody">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><span class="image left"><img src="../../../../glossary/latest/licence/_images/IFS-Logo.png" alt="IFS-Logo" width="150"></span> Diese Seite ist ein Teil der IsyFact-Standards.
Alle Inhalte der Seite, insbesondere Texte und Grafiken, sind urheberrechtlich geschützt.
Alle urheberrechtlichen Nutzungs- und Verwertungsrechte liegen beim Bundesverwaltungsamt.</p>
</div>
<div class="paragraph">
<p><span class="image right"><img src="../../../../glossary/latest/licence/_images/CC-BY.png" alt="Creative Commons Namensnennung" width="150"></span>
Die Nutzung ist unter den <a href="../../../../glossary/latest/literaturextern/inhalt.html#litextern-cc-licence" class="xref page">Lizenzbedingungen</a> der <a href="../../../../glossary/latest/literaturextern/inhalt.html#litextern-cc-short" class="xref page">Creative Commons Namensnennung 4.0 International</a> gestattet.</p>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>Java Bibliothek / IT-System</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 20%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Art</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>isy-web</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bibliothek</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v5.3.0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="Einleitung"><a class="anchor" href="#Einleitung"></a>1. Einleitung</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Im Dokument <a href="../../../../isyfact-standards-doku/latest/blaupausen/referenzarchitektur-it-system/master.html" class="xref page">Softwaretechnische Architektur</a> ist der Aufbau von <a href="../../../../glossary/latest/glossary/master.html#glossar-it-system" class="xref page">IT-Systemen</a> in fünf Komponenten beschrieben.
Eine davon ist die Komponente GUI (s. <a href="#image-IFRefArcITSysGUI">Softwaretechnische Architektur eines IT-Systems (GUI hervorgehoben)</a>).</p>
</div>
<div id="image-IFRefArcITSysGUI" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/IFRefArcITSysGUI.png" alt="IFRefArcITSysGUI">
</div>
<div class="title">Abbildung 1. Softwaretechnische Architektur eines IT-Systems (GUI hervorgehoben)</div>
</div>
<div class="paragraph">
<p>Die Nutzungsvorgaben bauen auf dem <a href="../../../../isyfact-standards-doku/latest/blaupausen/detailkonzept-komponente-web-gui/master.html" class="xref page">Detailkonzept Web-GUI</a> sowie dem <a href="../konzept/konzept.html" class="xref page">Konzept JSF</a> auf und beschreiben die Umsetzung der GUI-Komponente mit den Technologien JSF und Spring Web Flow.
Sie enthalten konkrete, technische Vorgaben, die bei der Umsetzung der GUI-Komponente zu beachten sind.
Die folgenden Kapitel verwenden Begrifflichkeiten von JSF und Spring Web Flow, ohne sie zu erklären, und setzen so eine gewisse Vorkenntnis voraus.</p>
</div>
<div class="paragraph">
<p>Zielgruppe dieses Dokuments sind Entwickler, die sich einen Überblick über den Baustein JSF verschaffen und wissen möchten, wie genau die technische Umsetzung der GUI-Komponente geschieht.</p>
</div>
<div class="paragraph">
<p>Das Dokument ist in mehrere Teile gegliedert.
Zunächst beschreibt es, wie sich der Baustein in eine Anwendung integriert.
Danach beschreibt es die Erstellung der GUI-Komponente mit ihren Bestandteilen (Flows, Controller, Models &amp; Views).
Es folgen generelle Vorgaben zum Arbeiten mit JSF, insbesondere zu den Themen, die durch andere IsyFact-Bausteine abgedeckt sind (u.a. Fehlerbehandlung und Sicherheit).
Diese Vorgaben umfassen sowohl Hinweise zur Programmierung als auch Konfiguration.
Es folgt eine detaillierte Beschreibung der bereitgestellten Seiten- und Bedienelemente auf Basis von JSF.</p>
</div>
<div class="paragraph">
<p>Allgemeine Angaben zur Gestaltung von Oberflächen finden sich im <a href="#isyfact-style-doku:isy-style:styleguide.adoc" class="xref unresolved">Styleguide</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="benoetigte-bibliotheken"><a class="anchor" href="#benoetigte-bibliotheken"></a>2. Benötigte Bibliotheken</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Die Bibliothek <code>isy-web</code> enthält alle notwendigen Abhängigkeiten, Spring-Konfigurationen, JSF-Komponenten (Composite Components) sowie zugehörige XHTML-Templates, CSS-, JavaScript-, Bilddateien und Schriftarten zur Erstellung der GUI-Komponente.
Sie wird über eine Maven-Abhängigkeit eingebunden.
Bei Verwendung des IsyFact-BOMs wird die Version automatisch ermittelt.</p>
</div>
<div id="listing-jsfMavenIsy" class="listingblock">
<div class="title">Listing 1. Einbindung der Bibliothek isy-web in Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
   &lt;groupId&gt;de.bund.bva.isyfact&lt;/groupId&gt;
   &lt;artifactId&gt;isy-web&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Für die Erstellung von Web-GUIs existieren Vorgaben in Form eines <a href="#isyfact-style-doku:isy-style:styleguide.adoc" class="xref unresolved">Styleguides</a>.
Der Baustein Styleguide legt Anforderungen an die Gestaltung und Nutzbarkeit von Oberflächen fest.
Die Bibliothek <code>isy-web</code> enthält die CSS-, JavaScript-, Bilddateien und  Schriftarten des Styleguides zur produktiven Nutzung aufbereitet.</p>
</div>
<div class="paragraph">
<p>Die CSS-Dateien für eine zum Styleguide konforme Anwendung werden bei Nutzung der Bibliothek <code>isy-web</code> automatisch geladen und eingebunden.
Zur anwendungsspezifischen Anpassung der Stylesheets dienen folgende, innerhalb der Anwendung liegende, Dateien:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/css/custom-styles.css</code> - spezielle CSS Klassen für die Anwendung,</p>
</li>
<li>
<p><code>/css/custom-print.css</code> - spezielle CSS Klassen für die Druckansicht der Anwendung.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="erstellung-der-gui-komponente"><a class="anchor" href="#erstellung-der-gui-komponente"></a>3. Erstellung der GUI-Komponente</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Die folgenden Abschnitte erklären, wie die GUI-Komponente nach dem MVC-Muster, mit der Erweiterung um Flows, mit dem JSF-Baustein erstellt wird.</p>
</div>
<div class="sect2">
<h3 id="basis-konfiguration-jsf"><a class="anchor" href="#basis-konfiguration-jsf"></a>3.1. Basis-Konfiguration von JSF</h3>
<div class="paragraph">
<p>Dieses Kapitel enthält alle notwendigen Basiskonfigurationen für die Verwendung von JSF.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Verwendung der Autokonfiguration</dt>
<dd>
<p>Das Isy-Web-Modul liefert den größten Teil der benötigten Konfiguration für JSF, Spring Webflow und Spring MVC in seiner Autokonfiguration bereits mit.
Um darauf zuzugreifen, muss in der Hauptklasse der Anwendung die Autokonfiguration entsprechend aktiviert sein.</p>
</dd>
</dl>
</div>
<div id="listing-SnipConfigjava" class="listingblock">
<div class="title">Listing 2. Ausschnitt BeispielApplication.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
@EnableAutoConfiguration
public class IsyWebguiApplication extends SpringBootServletInitializer {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Um ein deployen als WAR-Archiv auf einem Tomcat zu ermöglichen, erbt die Haupt-Applikationsklasse von SpringBootServletInitializer.
Die Autokonfiguration wird enabled.
Die genauere Securitykonfiguration wird weiter unten im Abschnitt <a href="#sicherheit">Sicherheit</a> erklärt.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Abschalten der Ausgabe von Kommentaren</dt>
<dd>
<p>Die Ausgabe von HTML-Kommentaren, die in der Flow-Definition und im View zur Dokumentation der Software eingebettet wurden, wird abgeschaltet.</p>
</dd>
<dt class="hdlist1">Konfiguration von Konvertern (<code>faces-config.xml</code>)</dt>
<dd>
<p>Alle Konverter müssen einzeln nach folgendem Muster konfiguriert werden.</p>
</dd>
</dl>
</div>
<div id="listing-SnipFacesConfigxml" class="listingblock">
<div class="title">Listing 3. Definition eines Konverters</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;converter&gt;
	&lt;converter-for-class&gt;java.util.Date&lt;/converter-for-class&gt;
	&lt;converter-class&gt;de.msg.terminfindung.gui.util.DateConverter&lt;/converter-class&gt;
&lt;/converter&gt;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Aktivieren von „Partial State Saving“</dt>
<dd>
<p>Das mit JSF 2.0 eingeführte Feature „Partial State Saving“ muss aktiviert bleiben.
Hintergrund ist, dass JSF 2.0 ansonsten im Zusammenhang mit der Replikation der Session die IDs für JSF-Komponenten doppelt vergibt und es dadurch zu Fehlern in der Anwendung kommt.</p>
</dd>
<dt class="hdlist1">Konfiguration der Widget-Renderer (<code>faces-config.xml</code>)</dt>
<dd>
<p>Zur Darstellung von Radio Buttons und Checkboxen ohne Labels überschreibt der JSF-Baustein die Standard-Renderer der Bibliothek Tomahawk mit IsyFact-spezifischen Implementierungen.</p>
</dd>
</dl>
</div>
<div id="listing-jsfRenderer" class="listingblock">
<div class="title">Listing 4. Konfiguration der IsyFact-spezifischen Renderer</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;render-kit&gt;
    &lt;renderer&gt;
        &lt;component-family&gt;org.apache.myfaces.Radio&lt;/component-family&gt;
        &lt;renderer-type&gt;org.apache.myfaces.Radio&lt;/renderer-type&gt;
        &lt;renderer-class&gt;
            de.bund.bva.isyfact.common.web.jsf.renderer.NoLabelHtmlRadioRenderer
        &lt;/renderer-class&gt;
    &lt;/renderer&gt;

    &lt;renderer&gt;
        &lt;component-family&gt;org.apache.myfaces.Checkbox&lt;/component-family&gt;
        &lt;renderer-type&gt;org.apache.myfaces.Checkbox&lt;/renderer-type&gt;
        &lt;renderer-class&gt;
            de.bund.bva.isyfact.common.web.jsf.renderer.NoLabelHtmlCheckboxRenderer
        &lt;/renderer-class&gt;
    &lt;/renderer&gt;
&lt;/render-kit&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="der-flow"><a class="anchor" href="#der-flow"></a>3.2. Erstellung der Flows</h3>
<div class="paragraph">
<p>Für eine GUI-Komponente wird zunächst die Definition des Flow als XML-Datei erstellt.
Spring Web Flow sucht und findet den Flow selbständig und nimmt ihn in die Flow-Registry auf.</p>
</div>
<div class="paragraph">
<p>Je nach Seitentyp muss entweder der <code>detailseiteParentFlow</code> oder der <code>applikationseiteParentFlow</code> als Parent-Flow angegeben werden.
Die Definition des Parent-Flows muss mit der Wahl der Parent-View (s. <a href="#der-view">Erstellung der Views</a>) aller Views des Flows einhergehen, da Applikations- und Detailseiten unterschiedliche Anforderungen an die Darstellung besitzen.
Das Model wird als Variable definiert und damit im Flow erzeugt (hier: <code>auskunftModel</code>).
Im Tag <code>on-start</code> wird, falls nötig, der Controller aufgerufen, um das Model zu initialisieren.</p>
</div>
<div id="listing-bspFlowDatei" class="listingblock">
<div class="title">Listing 5. Beispiel einer Flow Datei</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;flow
  xmlns="http://www.springframework.org/schema/webflow"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.springframework.org/schema/webflow
	  http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd"
  parent="applikationseiteParentFlow"
  abstract="true"&gt;

  &lt;!-- Absichern des Flows. --&gt;
  &lt;secured attributes="Auskunft_Nutzen" /&gt;

  &lt;!-- Erzeugung der UI-Models. --&gt;
  &lt;var name="auskunftModel" class="de.packagepfad.AuskunftModel" /&gt;
  &lt;var name="abcModel" class="de.packagepfad.MeldungWizardModel" /&gt;

  &lt;!-- Initialisieren des auskunftModels. --&gt;
  &lt;on-start&gt;
    &lt;evaluate expression="auskunftController.setzeStartseite(auskunftModel)"/&gt;
    &lt;evaluate expression="auskunftController.initModel(auskunftModel)"/&gt;
    &lt;evaluate expression="basisModel.toolbarModel.setAnzeigen(true)"/&gt;
  &lt;/on-start&gt;

  &lt;view-state id="auskunftViewState" model="auskunftModel"&gt;
    &lt;on-render&gt;
      &lt;evaluate expression="auskunftController.initViewState(auskunftModel)" /&gt;
    &lt;/on-render&gt;

    &lt;!-- Die verschiedenen Suchen --&gt;
    &lt;transition on="sucheAbc" to="_abcsuche"&gt;
      &lt;evaluate expression="auskunftController.fuehreAuskunftDurch(auskunftModel)" /&gt;
    &lt;/transition&gt;
    &lt;transition on="sucheAbc" to="_abcsuche"&gt;
      &lt;evaluate expression="..." /&gt;
    &lt;/transition&gt;
    ...

  &lt;/view-state&gt;
&lt;/flow&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Charakteristisch sind hier die folgenden Elemente:</p>
</div>
<div class="paragraph">
<p><strong>Flow-Tag</strong>: Deklariert alle verwendeten Taglibs und Namespaces sowie den Parent Flow.
Dieser enthält anwendungsübergreifend einheitliche Vorgaben zu global gültigen Regeln, Fehler-Handler und Layoutkonfigurationen.</p>
</div>
<div class="paragraph">
<p><strong>Flow Model</strong>: Definition des Models unter Angabe der Model-Bean-Klasse als Flow-Variable.</p>
</div>
<div class="paragraph">
<p><strong>On-Start-Handler</strong>: Das Model sollte immer über die standardisierte Initialisierungsmethode beim Starten des Flows initialisiert werden.
Weiterhin können weitere, spezifische Methoden aufgerufen werden, um z.B. Eingabeparameter in das Model einzuarbeiten.</p>
</div>
<div class="paragraph">
<p><strong>View States</strong>: Definieren die Zustände des Flows.
Der Name des View-State verknüpft die Komponente auch mit dem gleichnamigen View (z.B. <code>auskunftViewState.xhtml</code>), der automatisch beim Rendern aufgerufen wird.
Falls die Komponente mehrere Views (z.B. aufeinanderfolgende Eingabemasken zu einem zu erfassenden Datentyp) verwaltet, enthält die Flow-Definition weitere View-States.
Für jeden View-State kann ein <code>on-entry</code>-Handler definiert werden.</p>
</div>
<div class="paragraph">
<p><strong>Transitionen</strong>: Für jeden View-State werden die ausgehenden Transitionen im Sinne eines Zustandsautomaten definiert.
Für jede Transition wird ein Zielzustand festgelegt. Diese können sein:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>der eigene View-State (zur Aktualisierung des Views),</p>
</li>
<li>
<p>ein untergeordneter Subflow (führt zur Anzeige einer anderen GUI-Komponente, nach Ausführung des Subflows kehrt die Anwendung in den aktuellen Flow zurück),</p>
</li>
<li>
<p>ein Action-State oder ein Decision-State, in denen der Flow entweder Aktionen (z.B. Aufrufe des Anwendungskerns) oder Entscheidungen zum weiteren Flow-Ablauf trifft, oder</p>
</li>
<li>
<p>keine Angabe eines Zielzustands: Dadurch verbleibt der Flow im aktuellen View-State.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Wichtig"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Wenn der Zielzustand dem aktuellen View State entspricht, wird er aktualisiert.
Der vorherige Zustand kann <em>NICHT</em> mehr über den Browser-Back-Button erreicht werden.
Für AJAX-Aufrufe, welche nur einen bestimmten Teil der Seite aktualisieren sollen, darf kein Zielzustand angegeben werden.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Für jede Transition kann hinterlegt werden, ob die Browser-Historie (für Back Button Handling) zurückgesetzt werden soll.
Kommt man also nach Anzeigen einer Trefferliste über das Löschen eines Eintrags wieder zur Trefferliste, so sollte die Möglichkeit der Bereinigung der Historie genutzt werden.</p>
</div>
<div class="paragraph">
<p><strong>Aufruf von Subflows</strong>: Beim Aufruf von Subflows müssen meist Parameter übergeben werden.
Dazu wird ein Input-Tag verwendet, welches ein Schlüssel/Wertpaar an den Subflow übergibt.
Im Subflow wird der Parameter über ein Input-Tag entgegengenommen und steht dann als Flow-Variable zur Verfügung und sollte im <code>on-start</code>-Handler per Controller in das Model übernommen werden.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Wichtig"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Um die Kapselung der GUI-Komponenten zu bewahren, ist es wichtig, dass GUI-Komponenten ihre Parameter immer über ein Input-Tag erhalten und nicht frei auf fremde Models und Controller zugreifen.</p>
</div>
<div class="paragraph">
<p>Bei der Übergabe eines Parameters (z.B. Liste) ist immer eine Kopie der Datenstruktur zu übergeben, damit Änderungen an der Datenstruktur durch einen Subflow sich nicht auf den aufrufenden Flow auswirken.
In diesem Sinne ist auch verboten, ein ganzes Model-Bean zu übergeben.
Müssen mehrere Informationen übergeben werden, so können natürlich auch mehrere Input-Parameter verwendet werden.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Auch die Rückgabe von Out-Parametern ist über ein Output-Tag möglich.
Es gelten die gleichen Richtlinien wie bei Input-Parametern.</p>
</div>
<div class="paragraph">
<p><strong>Aufruf von Spring-Beans</strong>: An nahezu allen Stellen der Flow-Definition ist der Aufruf von Spring-Beans per <code>evaluate</code>-Tag möglich.
Genutzt wird die Möglichkeit ausschließlich zum Aufruf des zustandslosen Controller-Beans – meist unter Bereitstellung des Model-Beans.
Das Ergebnis kann in einer neuen Flow-Variablen hinterlegt werden. Üblicherweise aktualisieren die Aufrufe des Controllers aber direkt das zentrale Flow Model.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Achtung"></i>
</td>
<td class="content">
Im <code>evaluate</code>-Tag wird die Java-Expression-Language verwendet, nicht die deutlich leistungsfähigere Spring Expression Language!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Flow-Definitionen bietet weitaus mehr Möglichkeiten, die im Regelfall allerdings seltener benötigt und daher hier nicht erläutert werden.</p>
</div>
</div>
<div class="sect2">
<h3 id="der-controller"><a class="anchor" href="#der-controller"></a>3.3. Erstellung der Controller</h3>
<div class="paragraph">
<p>Jede GUI-Komponente verfügt über einen Controller.
Der Controller ist der „verlängerte Arm“ des Flow, denn im Flow darf keine GUI-Logik ausgeführt werden.
Jegliche zu programmierende GUI-Logik wird im Controller in zustandslosen Methoden bereitgestellt.
Typische Methoden im Controller sind:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Methoden zur Initialisierung des Models,</p>
</li>
<li>
<p>Methoden zum Aufruf des Anwendungskerns,</p>
</li>
<li>
<p>Methoden zur Aufbereitung von Daten des Models vor dem Rendern.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Der Controller wird in der Spring Konfiguration als einfaches Spring-Bean definiert und ist somit im Flow automatisch sichtbar und nutzbar.
Jeder Controller muss von <code>AbstractGuiController</code> erben.
Da der Controller zustandslos ist, benötigt jeder Aufruf das zugehörige Model.
Der Controller kann auch eine eigene Fehlerbehandlung enthalten.
In seltenen Fällen schreibt er selbst Meldungen in den <code>FlowRequestContext</code>, die dann als Fehler- oder Hinweismeldung ausgegeben werden.</p>
</div>
<div class="paragraph">
<p>Eine Rückgabe von Zielzuständen zur Steuerung des Flow in Methoden des Controllers ist zu vermeiden.
Sinnvoll ist die Rückgabe eines Ergebnistokens (Erfolg oder Fehler), um dann im Flow den Zielzustand festzulegen und anzusteuern.
Solche Entscheidungen können im Flow auch per Action- oder Decision-State umgesetzt werden, wobei im Controller eine Methode <code>is…</code> mit Rückgabewert <code>boolean</code> verwendet wird.</p>
</div>
<div class="paragraph">
<p>Die häufig gesehene Umsetzung von einfachen <code>geheZu</code>-Methoden des Controllers, die lediglich einen Rückgabewert aus einer Konstanten zurückliefern, erbringt keinen Mehrwert.
Der Wert sollte in diesem Fall direkt in der Flow-Definition festgelegt werden.</p>
</div>
</div>
<div class="sect2">
<h3 id="das-model"><a class="anchor" href="#das-model"></a>3.4. Erstellung der Models</h3>
<div class="paragraph">
<p>Das Model enthält alle temporären Daten, die ein Flow zur erfolgreichen Durchführung benötigt.
Es wird, wie im <a href="#der-flow">Abschnitt über Flows</a> beschrieben, immer durch einen Flow instanziiert und verwaltet.
Ein Model für eine Maske muss von <code>AbstractMaskenModel</code> erben.</p>
</div>
<div class="sect3">
<h4 id="befuellung-eines-models"><a class="anchor" href="#befuellung-eines-models"></a>3.4.1. Befüllung eines Models</h4>
<div class="paragraph">
<p>Wie im <a href="#der-controller">Abschnitt über Controller</a> beschrieben, wird das Model durch den Controller bei Bedarf initialisiert und mit Daten aus dem Anwendungskern befüllt.
Auch die Aufbereitung von Daten des Models kann durch den Controller erfolgen (alternativ über View-Konverter).
Das Konvertieren von Model-Inhalten durch Logik im Model-Bean soll möglichst vermieden werden.
Insbesondere ist Logik zu vermeiden, bei der Fehler auftreten können.
Ein Model soll vor dem Rendern möglichst alle anzuzeigenden Daten passgenau für das Rendering vorhalten.</p>
</div>
</div>
<div class="sect3">
<h4 id="abgleichen-eines-models"><a class="anchor" href="#abgleichen-eines-models"></a>3.4.2. Abgleichen eines Models</h4>
<div class="paragraph">
<p>Der Abgleich des Models mit dem View (nach Submit einer Maske) erfolgt automatisch durch JSF.
Alle Seiteninhalte, die beim Rendern aus einem Model gelesen wurden, werden nach dem Submit wieder in das Model rückübertragen und stehen dann zur weiteren Verarbeitung für den Controller oder erneutes Rendering zur Verfügung.</p>
</div>
</div>
<div class="sect3">
<h4 id="speichern-der-daten-eines-models"><a class="anchor" href="#speichern-der-daten-eines-models"></a>3.4.3. Speichern der Daten eines Models</h4>
<div class="paragraph">
<p>Das Model-Bean wird vom Flow im Flow Scope gehalten.
Daher wird die Datenstruktur zwischen den einzelnen Dialogschritten in der Session persistiert (für Details zur Conversation-Persistierung siehe <a href="../konzept/konzept.html#spring-web-flow" class="xref page">Spring Web Flow</a>).</p>
</div>
<div class="paragraph">
<p>Für die Ablage im Flow Scope werden die Daten in serialisierter Form abgelegt.
Daher muss das Model-Bean das Interface Serializable implementieren.</p>
</div>
<div class="paragraph">
<p>Größere Datenmengen beeinträchtigen die Performance der Anwendung zur Laufzeit.
Umso mehr Daten im Model enthalten sind, desto aufwendiger ist die Session-Persistierung.
Daher ist die Menge an gehaltenen Daten auf das Notwendige zu beschränken.
Diejenigen Teile des Models, die nur temporär während der Datenaufbereitung befüllt werden, sollten dringend als <code>transient</code> markiert werden, um sie nicht in der Session zu speichern.</p>
</div>
<div class="paragraph">
<p>Die nach einem Submit im Model-Bean gespeicherten (und vom Anwender ggf. veränderten) fachlichen Daten werden nach Validierung in die fachlichen Tabellen der Datenbank übernommen.
Dies erfolgt immer durch einen Controller, der die Daten aus dem Model an den Anwendungskern-Wrapper übergibt.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="der-view"><a class="anchor" href="#der-view"></a>3.5. Erstellung der Views</h3>
<div class="sect3">
<h4 id="definition-des-view-state"><a class="anchor" href="#definition-des-view-state"></a>3.5.1. Definition des View-State</h4>
<div class="paragraph">
<p>Jeder View-State in der Flow-Definition der GUI-Komponente ist mit einer eigenen Maske, dem View verknüpft.
Spring Web Flow steuert das Rendering des Views.</p>
</div>
<div class="paragraph">
<p>Der View einer GUI Komponente ist nach dem Umsetzungsmuster der IsyFact wie folgt aufgebaut: Eine Facelet-Datei dient dazu, die im Seitentemplate inkludierte Definition der Seitenbereiche des Inhaltsbereiches zu definieren.
Das Tag <code>&lt;ui:composition&gt;</code> referenziert hierbei das Seitentemplate, in welchem die über <code>&lt;ui:define&gt;</code>
definierten Teile eingebunden werden.</p>
</div>
<div class="paragraph">
<p>Je nach Seitentyp muss entweder</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>/WEB-INF/gui/common/layout/applikationDetailseite.xhtml</code> oder</p>
</li>
<li>
<p><code>/WEB-INF/gui/common/layout/applikation.xhtml</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>als Ausgangs-Seitentemplate angegeben werden.</p>
</div>
<div id="demoWebGui-ApplicationTemplate" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demoWebGui-ApplicationTemplate.png" alt="demoWebGui ApplicationTemplate">
</div>
<div class="title">Abbildung 2. Einbindung eines Ausgangsseiten-Templates (applikation.xhtml)</div>
</div>
<div class="paragraph">
<p>Das Tag <code>&lt;ui:composition&gt;</code> referenziert hierbei das Ausgangsseiten-Template, in welchem die über <code>&lt;ui:define&gt;</code>
definierten Teile eingebunden werden.</p>
</div>
<div class="paragraph">
<p>Die verschiedenen Teile des Seitentemplates finden sich in <a href="#jsf-seitenelemente">JSF Seitenelemente</a>.</p>
</div>
<div class="paragraph">
<p>Die Templates bieten folgende Schnittstellen über den <code>ui:define</code> / <code>ui:insert</code> Mechanismus von JSF an:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>inhaltsbereich</strong>: Der eigentliche Inhaltsbereich der Seite.</p>
</li>
<li>
<p><strong>headIncludes</strong>: Zum Einbinden von weiteren Ressourcen in den HTML Header.</p>
</li>
<li>
<p><strong>script</strong>: Zum Einbinden von seitenspezifischen JavaScript.</p>
</li>
<li>
<p><strong>modalDialogPlaceholder</strong>: Zum Einbinden von modalen Dialogen.</p>
</li>
<li>
<p><strong>printMetaInformation</strong>: Die Stelle um Meta-Informationen für Druckausgaben zu hinterlegen.</p>
</li>
<li>
<p><strong>form</strong>: Zusätzliche Form-Elemente können hier eingebunden werden.
Normalerweise stellt das Layout eine Form bereit.
Für spezifische Anpassungen (z.B. AJAX-Listpicker) müssen jedoch eigene Forms definiert werden.</p>
</li>
</ul>
</div>
<div id="listing-jsfViewState" class="listingblock">
<div class="title">Listing 6. Beispiel für eine JSF ViewState Seite mit Inhaltsbereichsangabe</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:isy="http://java.sun.com/jsf/composite/isyfact"
   template="/WEB-INF/gui/common/layout/applikation.xhtml"&gt;

   	&lt;!-- UI-Parameter setzen. --&gt;
   	&lt;ui:param name="flowModel" value="${auskunftDurchfuehrenModel}" /&gt;
   	&lt;ui:param name="guiController"
   	    value="${auskunftDurchfuehrenController}" /&gt;
   	...

   &lt;!-- Form für AJAX-Seiteninhalt definieren --&gt;
   &lt;ui:define name="form"&gt;
     &lt;h:form id="listpickerAjaxForm"&gt;
        &lt;isy:formListpickerAjaxContent /&gt;
     &lt;/h:form&gt;
    &lt;/ui:define&gt;

   &lt;!-- Der Inhaltsbereich (Hauptanwendungsbereich s.a. Styleguide) --&gt;
   &lt;ui:define name="inhaltsbereich"&gt;
      ...
      	&lt;ui:include src="./DruckButtonZeile.xhtml" /&gt;
      ...
   &lt;/ui:define&gt;
&lt;/ui:composition&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die Seitenbereiche werden im <code>ViewState</code>-Facelet wiederum durch Inklusion auf kleinere Facelets umgesetzt.
Das heißt jeder Seitenbereich (Formular, Buttonzeile) wird per Konvention in einer separaten Datei gepflegt.
Innerhalb dieser Facelets wird im Normalfall nichts mehr inkludiert.</p>
</div>
<div id="listing-DruckButtonZeil" class="listingblock">
<div class="title">Listing 7. Beispiel: Inkludiertes Facelet DruckButtonZeile.xhtml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:isy="http://java.sun.com/jsf/composite/isyfact"&gt;

	&lt;!-- Download des PDFs geht nur bei ajax='false' --&gt;
	&lt;isy:buttonIcon id="druck_icon"
	   name="#{msg.MEL_Drucken}"
	   icon="print"
	   tooltip="#{msg.MEL_Tooltip_Drucken}"
	   size="large"
	   action="drucken"
	   reverseIconPosition="true"
	   ajax="false"&gt;
	&lt;/isy:buttonIcon&gt;

&lt;/ui:composition&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rendern-einer-maske-mit-den-daten-eines-models"><a class="anchor" href="#rendern-einer-maske-mit-den-daten-eines-models"></a>3.5.2. Rendern einer Maske mit den Daten eines Models</h4>
<div class="paragraph">
<p>Der Zugriff auf die Daten des Models erfolgt in den Facelets über die Common Expression Language (EL).
Das Model ist im View sichtbar, da es im Flow als Flow-Variable deklariert wurde.
Das Model ist zum Zeitpunkt des Renderns bereits mit Daten befüllt, da im <code>on-entry</code>-Handler des Flows der Controller die Befüllung des Models vorgenommen hat.</p>
</div>
<div id="listing-DatZuFacelet" class="listingblock">
<div class="title">Listing 8. Datenzugriff im Facelet</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:formInput reference="name"
   value="#{auskunftDurchfuehrenModel.veranstaltungstitel}"
   label="Titel der Veranstaltung"
   required="true"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Es ist wichtig zu verstehen, dass durch das Rendern der Daten aus dem Model eine Bindung der Model-Property mit dem GUI-Element (im Beispiel ein Form-Input-Feld) hergestellt wird, welches nach Submit des Webformulars automatisch durch Spring Web Flow in das Model zurücksynchronisiert wird.
Damit das funktioniert ist eine eindeutige HTML-ID zu vergeben.
Die HTML Elemente erhalten entsprechend ihres Inhaltes den Bezeichner des zugehörigen Attributes.
Würde keine ID vergeben, so würde JSF selbständig eine dynamische ID vergeben.
Das erschwert jedoch den automatischen Test der Oberfläche.</p>
</div>
<div id="listing-HTMLIDFace" class="listingblock">
<div class="title">Listing 9. HTML ID Vergabe</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:selectOneMenu id="vonZeit"
   value="#{erstellenModel.alleZeitraeume}"
   var="von" itemValue="#{von}" itemLabel="#{von}"
/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Werden versehentlich IDs mehrfach verwendet, so sind Fehler bei der Datenübernahme wahrscheinlich.</p>
</div>
</div>
<div class="sect3">
<h4 id="ausloesen-von-aktivitaeten-in-facelets"><a class="anchor" href="#ausloesen-von-aktivitaeten-in-facelets"></a>3.5.3. Auslösen von Aktivitäten in Facelets</h4>
<div class="paragraph">
<p>Die Auslösung von Aktion erfolgt über die Nutzung des <code>action</code>-Attributes der verwendeten GUI-Komponenten.
Hier wird ein Token verwendet, welches auch im Flow bekannt ist und die Transition so steuert, dass der Controller die Daten über den Anwendungskern persistiert.</p>
</div>
<div id="listing-BSPActions" class="listingblock">
<div class="title">Listing 10. Beispiele für Actions</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:button action="back" value="Zurück"/&gt;
&lt;isy:button action="continue" value="Weiter"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="datenkonvertierung-fuer-darstellung-und-eingabe"><a class="anchor" href="#datenkonvertierung-fuer-darstellung-und-eingabe"></a>3.5.4. Datenkonvertierung für Darstellung und Eingabe</h4>
<div class="paragraph">
<p>Für die formatierte Darstellung von Daten können JSF-Konverter zur Konvertierung aus der Ansicht ins typisierte Datenmodell, wie auch zur Umwandlung aus dem Datenmodell in die Ansicht verwendet werden.
Hier bieten sich JSF-Konverter an, die jedoch nur mit Einschränkungen verwendet werden können, da diese bei der Konvertierung „freier Eingaben“ nicht mit Fehleingaben umgehen können.</p>
</div>
<div id="listing-ConvDatewihConv" class="listingblock">
<div class="title">Listing 11. Umwandlung eines Datums mittels Konverter</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:inputText id="datum" value="#{erstellenModel.newDate}"&gt;
       &lt;f:convertDateTime type="date" /&gt;
&lt;/h:inputText&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Wenn die Validierung in einem JSF-Konverter stattfindet, werden die Daten in einem Fehlerfall nicht ins Modell geschrieben.
Dies führt dazu, dass das Formular zurückgesetzt wird, weil die Seite wegen des PRG-Patterns mit einem GET-Request mit dem alten Modell neu geladen wird.
Die ungültigen Eingaben gehen also zusammen mit allen anderen Änderungen im Modell verloren.
Standard-JSF-Konverter sind also faktisch nicht nutzbar.</p>
</div>
<div class="paragraph">
<p>Ein geeigneter Konverter muss auch ungültige Daten ins Modell schreiben können.
Wenn dies aufgrund der Nutzung spezieller Datentypen (wie z.B. <code>Date</code>) nicht möglich ist, muss im View-Model der Datentyp <code>String</code> verwendet werden.
Die Konvertierung findet in diesem Fall nicht durch einen Konverter statt, sondern erst nach oder während der Validierung.</p>
</div>
<div class="paragraph">
<p>JSF-Konverter werden auch für die Darstellung von readonly Felder verwendet.
Folgende Komponenten werden entsprechend behandelt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>actionInput</code></p>
</li>
<li>
<p><code>actionInputWithFourEyes</code></p>
</li>
<li>
<p><code>formActionInput</code></p>
</li>
<li>
<p><code>formActionInputWithFourEyes</code></p>
</li>
<li>
<p><code>formCurrencyInput</code></p>
</li>
<li>
<p><code>formCurrencyInputWithFourEyes</code></p>
</li>
<li>
<p><code>formDate</code></p>
</li>
<li>
<p><code>formDateWithFourEyes</code></p>
</li>
<li>
<p><code>formInput</code></p>
</li>
<li>
<p><code>formInputWithFourEyes</code></p>
</li>
<li>
<p><code>formNumericInput</code></p>
</li>
<li>
<p><code>formNumericInputWithFourEyes</code></p>
</li>
<li>
<p><code>formTextArea</code></p>
</li>
<li>
<p><code>formTextAreaWithFourEyes</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Oft ist es notwendig, im Model Schlüssel eines Schlüsselverzeichnisses zu verwenden.
Dieser sollte in der Regel in der Maske nicht als Schlüssel, sondern in einer verständlichen Form dargestellt werden.
Hier bietet sich der Einsatz eines eigenen Konverters an, der mittels Schlüssel-Wert-Mapping die Umwandlung je nach Verarbeitungsrichtung leistet.
Analog gilt dies auch für Booleans und Aufzählungstypen.</p>
</div>
<div id="listing-ConvEnumwithConv" class="listingblock">
<div class="title">Listing 12. Umwandlung eines Aufzählungstyps mittels Konverter</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:outputText value="#{cdAblageDatenBackBean.interpretMaennlich}"&gt;
     &lt;f:converter converterId="geschlechtsTypConverter"/&gt;
&lt;/h:outputText&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Im Hinblick auf aktiviertes JavaScript darf bei <code>outputText</code> niemals das Attribut <code>escape</code> auf <code>false</code> gesetzt werden.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="interaktive-elemente-mit-jquery"><a class="anchor" href="#interaktive-elemente-mit-jquery"></a>3.6. Interaktive Elemente mit JQuery</h3>
<div class="paragraph">
<p>Folgende JQuery-Module dürfen eingesetzt werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>jquery-core</code> (Kernfunktionalität zur DOM-Manipulation)</p>
</li>
<li>
<p><code>jquery-effects</code> (Effekte für das Ein- und Ausblenden von Elementen)</p>
</li>
<li>
<p><code>jqueryui-datepicker</code> (Kalender-Widget)</p>
</li>
<li>
<p><code>jquery-validation-plugin</code> (Datenvalidierung)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die Module <code>jquery-data</code> und <code>jquery-ajax</code> dürfen nicht verwendet werden, da AJAX-Funktionalität im Hinblick auf die eingesetzte Seitenlogik mit Spring Web Flow nicht angeboten werden soll.</p>
</div>
<div class="paragraph">
<p>Enthält eine View interaktive Elemente, wird eine entsprechend benannte JavaScript-Datei am Seitenende (d.h. am Ende des View-Templates) eingebunden:</p>
</div>
<div id="listing-BindViewspezJS" class="listingblock">
<div class="title">Listing 13. Einbindung viewspezifischer JavaScript-Dateien</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;script type="text/javascript"
    src="#{facesContext.externalContext.requestContextPath}/js/vorgangSuchen.js"&gt;
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Diese Datei enthält den benötigten JavaScript-Code zum Erzeugen von UI-Elementen oder zum Binden von Events an bestehende Fragmente.
Die Vorgaben zur Nutzung von JavaScript aus dem <a href="../konzept/konzept.html" class="xref page">Konzept JSF</a> sind unbedingt einzuhalten.</p>
</div>
<div class="paragraph">
<p>Wie <a href="#listing-BindViewspezJS">Einbindung viewspezifischer JavaScript-Dateien</a> zeigt, sind beim Einbinden niemals relative Pfade zu verwenden, um die Same-Origin-Policy zu forcieren.
Zusätzlich sorgt das <code>script</code>-Tag dafür, dass im Fall von deaktiviertem JavaScript kein Fehler auftritt und die
XHTML-Konformität erhalten bleibt.</p>
</div>
<div class="paragraph">
<p>Das folgende <a href="#listing-BspJSDat">Beispiel für eine JavaScript-Datei</a> zeigt das Beispiel <code>vorgangSuchen.js</code>, das ein GUI-Element mit der ID <code>Geburtsdatum</code> fokussiert:</p>
</div>
<div id="listing-BspJSDat" class="listingblock">
<div class="title">Listing 14. Beispiel für eine JavaScript-Datei</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">(function(){
  $('#Geburtsdatum').focus();
})()</code></pre>
</div>
</div>
<div class="paragraph">
<p>In der Regel bieten die <a href="#jsf-bedienelemente">JSF Bedienelemente</a> der IsyFact Zugriff auf Visualisierungsformen mittels JavaScript (z.B. Kalenderwidget, Tags, Panels).
Für bestimmte Zusatzanforderungen (z.B. bedingtes Deaktivieren eines Felds, weitere GUI-Verschönerungen) kann es jedoch notwendig sein zusätzliches JavaScript einzubinden.</p>
</div>
</div>
<div class="sect2">
<h3 id="_konfiguration_der_web_anwendung"><a class="anchor" href="#_konfiguration_der_web_anwendung"></a>3.7. Konfiguration der Web-Anwendung</h3>
<div class="paragraph">
<p>Mit SpringBoot 2 ist eine <code>web.xml</code> nicht mehr vorgesehen.
Die Konfiguration erfolgt in der Regel mit <code>@Configuration</code>-annotierten Java-Klassen.</p>
</div>
<div class="sect3">
<h4 id="festlegung-der-startseite"><a class="anchor" href="#festlegung-der-startseite"></a>3.7.1. Festlegung der Startseite</h4>
<div class="paragraph">
<p>Standardmäßig ist die Startseite der Anwendung die index.html.
In ihr muss ein Redirect auf den Startflow erfolgen.
Dieses ist notwendig, weil eine Angabe der Flow Engine im für Welcome Files nicht direkt möglich ist.</p>
</div>
<div class="paragraph">
<p>Die Datei <code>index.html</code> sieht folgendermaßen aus:</p>
</div>
<div class="listingblock">
<div class="title">Listing 15. Ausschnitt index.html</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;html&gt;
  &lt;head&gt;
    &lt;meta http-equiv="Refresh" content="0; URL= app/startFlow"&gt;
  &lt;/head&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="erkennung-von-javascript-unterstuetzung"><a class="anchor" href="#erkennung-von-javascript-unterstuetzung"></a>3.7.2. Erkennung von JavaScript Unterstützung</h4>
<div class="paragraph">
<p>Je nach Browser und JavaScript Aktivierungsstatus muss die Anwendung Widgets verschieden darstellen.
Hierzu existiert ein Filter, welcher in die Anwendungskonfiguration als Bean eingebunden werden muss.</p>
</div>
<div class="paragraph">
<p>Der Parameter <code>urlApplicationInitialisierung</code> ist verpflichtend und enthält die URL zur Application-Initialisierungsseite.
Es ist ein führendes <code>/</code> anzugeben.</p>
</div>
<div class="paragraph">
<p>Der Parameter <code>urlsToSkip</code> ist optional und dient zur Aufnahme von URL-Pfaden, relativ zu dem Pfad des <code>ApplicationContext</code>, die von der Filterung ausgenommen werden.
Mehrere URL-Pfade sind durch Kommas separiert anzugeben.
Es ist jeweils ein führendes <code>/</code> anzugeben.</p>
</div>
<div class="paragraph">
<p>Die Parameter müssen ggf. angepasst werden.</p>
</div>
<div id="listing-Snipwebxml2" class="listingblock">
<div class="title">Listing 16. Ausschnitt WebConfig.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Bean
public FilterRegistrationBean&lt;ApplicationInitialisierungFilter&gt; applicationInitialisierungFilter() {
    FilterRegistrationBean&lt;ApplicationInitialisierungFilter&gt; registrationBean =
        new FilterRegistrationBean&lt;&gt;();
    registrationBean.setFilter(new ApplicationInitialisierungFilter());

    registrationBean.addUrlPatterns("/app/*");

    //Optionaler Parameter: Der Parameter "urlsToSkip" dient zur Aufnahme von Url-Pfaden,
    // relativ zum ApplicationContext-Pfad, die von der Filterung ausgenommen werden.
    // Mehrere Url-Pfade sind kommasepariert anzugeben. Es ist pro Url ein fuehrendes "/" anzugeben.
    registrationBean.addInitParameter("urlsToSkip", "/app/resources");
    registrationBean.addInitParameter("ajaxRedirectUrl", "/");
    // Pflicht-Parameter:
    // Der Parameter "urlApplicationInitialisierung" enthält die Url zur Application-Initialisierungsseite.
    // Es ist ein fuehrendes "/" anzugeben.
    registrationBean.addInitParameter("urlApplicationInitialisierung",
        "/app/common/init/applicationInitialisierung.xhtml");
    return registrationBean;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="konfiguration-der-navigation"><a class="anchor" href="#konfiguration-der-navigation"></a>3.8. Konfiguration der Navigation</h3>
<div class="paragraph">
<p>Nachfolgend werden die notwendigen Konfigurationen beschrieben, um die konkreten Dialog-Flows zu definieren, und wo die entsprechenden Anpassungen vorgenommen werden müssen.</p>
</div>
<div class="sect3">
<h4 id="jsf-flow-builder-service"><a class="anchor" href="#jsf-flow-builder-service"></a>3.8.1. JSF Flow Builder Service</h4>
<div class="paragraph">
<p>Der JSF Flow Builder Service initialisiert aus der Dialog-Ablaufbeschreibung die konkreten Dialoge.
Zusätzlich kann hier noch der Expression Parser für die EL-Implementierung definiert werden.
Durch die Definition des EL-Parsers kann die konkrete EL-Implementierung festgelegt werden.
Standardmäßig sollte hier keine spezifische Konfiguration vorgenommen werden.</p>
</div>
<div class="listingblock">
<div class="title">Listing 17. Ausschnitt aus webflow.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;!-- Configures the Spring Web Flow JSF integration --&gt;
&lt;faces:flow-builder-services id="facesFlowBuilderServices"
              expression-parser="expressionParser"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ablage-der-konfiguration"><a class="anchor" href="#ablage-der-konfiguration"></a>3.8.2. Ablage der Flow-Konfiguration</h4>
<div class="paragraph">
<p>Die Spring Webflow Konfiguration erfolgt standardmäßig in der Isy-Web Autokonfiguration.
Als Lokation der Flows ist dabei <code>/WEB-INF/gui/**/*Flow.xml</code> angegeben.
Das heißt, die Flows sind in Unterordnern von <code>/WEB-INF/gui</code> abzulegen und als Namenskonvention mit <code>Flow.xml</code> enden (z.B. <code>beispielFlow.xml</code>).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="konfiguration-maskentexte"><a class="anchor" href="#konfiguration-maskentexte"></a>3.9. Konfiguration der Maskentexte</h3>
<div class="paragraph">
<p>Maskentexte, die nur innerhalb eines bestimmten Flows verwendet werden, können in der Konfigurationsdatei <code>&lt;FlowName&gt;.properties</code> im Ordner <code>resources/nachrichten/maskentexte</code> definiert werden.
Wenn die jeweilige Konfigurationsdatei vorhanden ist, werden die Maskentexte automatisch geladen und in die Variable <code>msg_currentflow</code> abgespeichert.
Die Maskentexte des jeweiligen Flows können dann beispielsweise wie folgt ausgelesen werden:</p>
</div>
<div id="listing-maskentexteKonfigurierbar" class="listingblock">
<div class="title">Listing 18. Maskentexte über Konfigurationsdatei</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:outputText value="#{msg_currentflow.MAS_Ueberschrift}" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Um übergreifende Maskentexte Spring bekannt zu machen, müssen die Lokationen Spring bekannt gemacht werden.
Hierfür wird eine ResourceBundleMessageSource als Bean definiert:</p>
</div>
<div id="listing-maskentextebean" class="listingblock">
<div class="title">Listing 19. Maskentexte</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    /**
     * Diese Bean sorgt fuer die Message-ResourceBundle Bereitstellung.
     * zugreifbar ueber Klasse SpringContextHolder.
     **/
    @Bean
    public ResourceBundleMessageSource messageSource() {

        ResourceBundleMessageSource source = new ResourceBundleMessageSource();
        source.addBasenames(
            "resources/nachrichten/fehler",
            "resources/nachrichten/maskentexte",
            "resources/nachrichten/titles");

        return source;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Im Beispiel aus <a href="#listing-maskentextebean">Maskentexte</a> referenziert dabei der Basename <code>resources/nachrichten/maskentexte</code> die Konfigurationsdatei <code>resources/nachrichten/maskentexte.properties</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="konfiguration-des-resource-caching-mechanismus"><a class="anchor" href="#konfiguration-des-resource-caching-mechanismus"></a>3.10. Konfiguration des Resource Caching Mechanismus</h3>
<div class="paragraph">
<p>Möchte man Webressourcen wie Bilder oder CSS-Dateien von Softwareversionen abhängig machen, muss das folgende gemacht werden:</p>
</div>
<div class="sect3">
<h4 id="jsf-resourcehandler-einrichten"><a class="anchor" href="#jsf-resourcehandler-einrichten"></a>3.10.1. JSF ResourceHandler einrichten</h4>
<div class="paragraph">
<p>Die Ressourcenlieferung wird durch sogenannte <em>ResourceHandler</em> verkapselt.
Um also den Prozess anpassen zu können, muss man einen eigenen <em>ResourceHandler</em> definieren und an die Web Applikation anbinden.
Da jedoch das GUI mittels JSF erstellt wird, muss es JSF-spezifisch umgesetzt werden.
Der folgende Code ist ein Beispiel so eines Handlers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class VersionierungResourceHandler extends ResourceHandlerWrapper {

	private ResourceHandler wrapped;
	private SystemVersionBean systemVersionBean;

	public VersionierungResourceHandler(ResourceHandler wrapped) {
		this.wrapped = wrapped;
		if (StatischerKontextInhaber.getApplicationContext() != null) {
			this.systemVersionBean =
				StatischerKontextInhaber.getApplicationContext().getBean(SystemVersionBean.class);
		}
	}

	@Override
	public Resource createResource(String resourceName) {
		return createResource(resourceName, null, null);
	}

	@Override
	public Resource createResource(String resourceName, String libraryName) {
		return createResource(resourceName, libraryName, null);
	}

	@Override
	public Resource createResource(String resourceName, String libraryName, String contentType) {
		final Resource resource = super.createResource(resourceName, libraryName, contentType);
		if (resource == null) {
			return null;
		}
		return new ResourceWrapper() {

			@Override
			public String getRequestPath() {
				String requestPath = super.getRequestPath();
				String version = "v=" + getSystemVersion();
				if (!requestPath.contains("?")) {
					return requestPath + "?" + version;
				}
				return requestPath + "&amp;" + version;
			}

			@Override
			public Resource getWrapped() {
				return resource;
			}
		};
	}

	@Override
	public ResourceHandler getWrapped() {
		return this.wrapped;
	}

	private String getSystemVersion() {
		if (this.systemVersionBean == null &amp;&amp; StatischerKontextInhaber.getApplicationContext() != null) {
			this.systemVersionBean = StatischerKontextInhaber.getApplicationContext().getBean(SystemVersionBean.class);
		}
		if (this.systemVersionBean == null) {
			this.systemVersionBean = new SystemVersionBean();
			this.systemVersionBean.setSystemVersion("DEV");
		}
		return this.systemVersionBean.getSystemVersion();
	}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In der Methode <code>getRequestPath()</code> kann man die Pfade der Ressourcen beliebig anpassen und zum Beispiel, wie oben gezeigt, eine Version an sie anhängen.</p>
</div>
</div>
<div class="sect3">
<h4 id="konfiguration-1"><a class="anchor" href="#konfiguration-1"></a>3.10.2. Konfiguration</h4>
<div class="paragraph">
<p>Der <em>ResourceHandler</em> muss noch mittels Konfiguration an die Web-Applikation angebunden werden.
Dies macht man in <code>faces-config.xml</code> (Java Server Faces Konfigurationsdatei) auf die folgende Weise:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;application&gt;
	&lt;resource-handler&gt;pfad.VersionierungResourceHandler&lt;/resource-handler&gt;
&lt;/application&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="jsf-tags-benutzen"><a class="anchor" href="#jsf-tags-benutzen"></a>3.10.3. JSF Tags benutzen</h4>
<div class="paragraph">
<p>Es gibt noch eine letzte Bedingung, die man erfüllen muss, damit der JSF <em>ResourceHandler</em> die Ressourcen überhaupt behandelt.
Es müssen JSF Tags benutzt werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JavaScript: <code>&lt;h:outputScript&gt;</code> anstatt <code>&lt;script&gt;</code></p>
</li>
<li>
<p>CSS: <code>&lt;h:outputStylesheet&gt;</code> anstatt <code>&lt;link&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Dank ihnen werden die jeweiligen Ressourcen für unseren <em>ResourceHandler</em> sichtbar und werden von ihm nun verwaltet.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="optionale-anzeige-der-versionsnummer-im-webseitentitel"><a class="anchor" href="#optionale-anzeige-der-versionsnummer-im-webseitentitel"></a>3.11. Optionale Anzeige der Versionsnummer im Webseitentitel</h3>
<div class="paragraph">
<p>Es besteht die Möglichkeit, die Versionsnummer einer Anwendung im Webseitentitel anzuzeigen.
Hierzu muss der Parameter <em>gui.versionsanzeige.seitentitel.aktiv</em> in einer Konfigurationsdatei der Anwendung hinterlegt sein und auf <code><em>true</em></code> gesetzt werden.
Ist der Parameter nicht hinterlegt, so ist die Anzeige standardmäßig nicht aktiviert und es ist nichts zu tun (Abwärtskompatibilität).</p>
</div>
<div class="paragraph">
<p>Zusätzlich muss der Parameter <code>system.version</code> in einer Konfigurationsdatei hinterlegt sein.
Dieser Parameter enthält die aktuelle Version der Anwendung.
Es empfiehlt sich, die Versionsnummer beim Build automatisch zu setzen.
Außerdem kann im Parameter <code>system.name</code> der Name der Anwendung hinterlegt werden.
Dies ist jedoch nicht zwingend nötig.
Die Anzeige der Versionsnummer funktioniert auch ohne Angabe des Anwendungsnamens.
Dieser entfällt dann einfach.
In <a href="#listing-AnzeigeVersionNameImTitel">Konfiguration der Anzeige von Name und Version im Seitentitel</a> finden sich eine beispielhafte Konfiguration und in <a href="#image-DispNameVersTitle">Anzeige von Name und Version im Seitentitel</a> wird das eigentliche Feature gezeigt.</p>
</div>
<div id="listing-AnzeigeVersionNameImTitel" class="listingblock">
<div class="title">Listing 20. Konfiguration der Anzeige von Name und Version im Seitentitel</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Ob die Versionsnummer im Seitentitel angezeigt werden soll.
# Mögliche Werte `true` oder `false`. Standardwert ist `false`.
gui.versionsanzeige.seitentitel.aktiv=true

# Die Systemversion wird in richtigen Anwendungen automatisch
# über Maven aktualisiert. Hat hier einfach einen festen
# Wert, da sie nur für Beispiele verwendet wird.
system.version=1.2.3

# Der Systemname
system.name=Terminfindung</code></pre>
</div>
</div>
<div id="image-DispNameVersTitle" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/DispNameVersTitle.png" alt="DispNameVersTitle" width="400" height="400">
</div>
<div class="title">Abbildung 3. Anzeige von Name und Version im Seitentitel</div>
</div>
</div>
<div class="sect2">
<h3 id="packaging-und-namenskonventionen"><a class="anchor" href="#packaging-und-namenskonventionen"></a>3.12. Packaging und Namenskonventionen</h3>
<div class="paragraph">
<p>Ein nicht zu vernachlässigender Aspekt zur Komponentenbildung ist die Paketierung, durch die zu einer Komponente gehörende Elemente gruppiert abgelegt werden.
Alle Elemente werden in einem Paket mit einheitlichem Paketnamen abgelegt.</p>
</div>
<div class="paragraph">
<p>Für die Namenskonvention zu Java-Klassen und Paketen wird hier auf das Dokument <a href="../../../../isyfact-standards-doku/latest/methodik/java-programmierkonventionen/master.html" class="xref page">Java-Programmierkonventionen</a> verwiesen.
Zusätzlich gelten die folgenden Konventionen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jede GUI-Komponente hat einen Namen.
Die Namen richten sich nach den fachlichen Komponenten bzw. Dialogen.</p>
</li>
<li>
<p>Das Paket, in dem die GUI-Komponente abgelegt wird, trägt den vollständig kleingeschriebenen Namen der GUI-(Sub-)Komponente (z.B. <code>erstellen</code>).
Jede GUI-Komponente nutzt zwei Ablageorte:</p>
<div class="ulist">
<ul>
<li>
<p><code>java/de/…/gui/terminfindung/erstellen/&#8230;&#8203;</code> für Java-Klassen</p>
</li>
<li>
<p><code>WEB-INF/gui/terminfindung/erstellen/&#8230;&#8203;</code> für Flows und Views</p>
</li>
</ul>
</div>
</li>
<li>
<p>Model Bean-Klassen tragen den Namen der GUI-Komponente und enden auf Model (z.B. <code>ErstellenModel</code>).</p>
</li>
<li>
<p>Controller Bean-Klassen tragen den Namen der GUI-Komponente und enden auf Controller (z.B. <code>ErstellenController</code>).</p>
</li>
<li>
<p>Flows tragen den Namen der GUI-Komponente und enden auf Flow.xml (z.B. <code>erstellenFlow.xml</code>).</p>
</li>
<li>
<p>Der Main-View, der dem Flow-View-State zugeordnet ist endet auf <code>ViewState</code> (z.B. <code>erstellenViewState.xhtml</code>).
Besteht der Flow aus mehreren View-States, so wird eine Schritt-Nummer angehängt (z.B. <code>erstellenViewState1.xhtml</code>).</p>
</li>
<li>
<p>Alle weiteren für den View verwendeten Facelets tragen den Namen der Komponente und eine Charakterisierung des Facelets (z.B. <code>erstellenFormular.xhtml</code>).
Auch hier ist eine Schrittnummer anzuhängen, wenn der Flow mehrere View-States enthält (z.B. erstellenFormular1.xhtml).</p>
</li>
<li>
<p>Die bei einem View-State verwendete JavaScript-Datei trägt den Namen des View-States (z.B. <code>erstellenFormular1.js</code>).
Gibt es View-übergreifende Funktionalität, kann diese in eine wiederverwendbare JavaScript-Datei ausgelagert werden (z.B. <code>erstellenFormular.js</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#image-VerzBspErstellen">Verzeichnisstruktur der Dialog-Komponente Erstellen</a> zeigt den Verzeichnisbaum der <a href="../../../../glossary/latest/literaturextern/inhalt.html#litextern-vorlageanwendung" class="xref page">Vorlageanwendung</a> und verdeutlicht, wie die Elemente einer Dialog-Komponente (hier: <code>Erstellen</code>) im Dateisystem abgelegt werden.</p>
</div>
<div id="image-VerzBspErstellen" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/bspstructmit.png" alt="bspstructmit">
</div>
<div class="title">Abbildung 4. Verzeichnisstruktur der Dialog-Komponente Erstellen</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_umsetzung_querschnittlicher_aspekte"><a class="anchor" href="#_umsetzung_querschnittlicher_aspekte"></a>4. Umsetzung querschnittlicher Aspekte</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Die folgenden Abschnitte beschreiben die Integration weiterer Bausteine der IsyFact, die querschnittliche Funktionalität bereitstellen.</p>
</div>
<div class="sect2">
<h3 id="logging"><a class="anchor" href="#logging"></a>4.1. Logging</h3>
<div class="paragraph">
<p>Für das Logging kommt logback zum Einsatz.
Das <a href="../../../../isyfact-standards-doku/latest/isy-logging/konzept/master.html#einleitung" class="xref page">Konzept Logging</a> enthält die dafür notwendigen Konfigurationen und weitere Details.
Zur Konfiguration des Logging ist folgende Abhängigkeit nötig:</p>
</div>
<div id="listing-SnipLoggingDep" class="listingblock">
<div class="title">Listing 21. Abhängigkeit isy-logging (Ausschnitt pom.xml)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;de.bund.bva.isyfact&lt;/groupId&gt;
    &lt;artifactId&gt;isy-logging&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Isy-Logging erwartet die logback-Konfiguration standardmäßig im Klassenpfad unter <code>/config/logback.xml</code>.</p>
</div>
<div class="paragraph">
<p>Die <a href="../../../../isyfact-standards-doku/latest/isy-logging/nutzungsvorgaben/master.html#einleitung" class="xref page">Nutzungsvorgaben Logging</a> beinhalten Vorgaben zum Schreiben von Log-Einträgen und zur Ablage von Log-Dateien.</p>
</div>
</div>
<div class="sect2">
<h3 id="behandlung-von-fehlern"><a class="anchor" href="#behandlung-von-fehlern"></a>4.2. Fehlerbehandlung</h3>
<div class="paragraph">
<p>In diesem Kapitel wird die Behandlung von Fehlern beschrieben.
Dabei sind folgende Arten von Fehlern zu unterscheiden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validierungsfehler</p>
</li>
<li>
<p>Fehler innerhalb des Dialogablaufs (AWK)</p>
</li>
<li>
<p>Fehler innerhalb des Dialogablaufs (GUI)</p>
</li>
<li>
<p>Fehler außerhalb des Dialogablaufs</p>
</li>
<li>
<p>Fehler innerhalb des Clients</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="darstellung-von-fehlern"><a class="anchor" href="#darstellung-von-fehlern"></a>4.2.1. Darstellung von Fehlern</h4>
<div class="paragraph">
<p>Die Darstellung von Fehlern wird über das JSF-Seitentemplate <code>basis.xhtml</code> vorgenommen.
Die Fehlermeldungen werden hierbei im Kopfbereich des Applikations-Inhaltsfensters angezeigt.</p>
</div>
<div class="paragraph">
<p>Für Fehler beim Zugriff auf den Anwendungskern kann zusätzlich eine Fehlerbehandlung im Controller eingeführt werden (try/catch).</p>
</div>
<div class="paragraph">
<p>Das JSF-Tag <code>message</code> kommt zum Einsatz, um einen Fehler für ein bestimmtes Feld anzuzeigen:</p>
</div>
<div id="listing-BspFaceletError" class="listingblock">
<div class="title">Listing 22. Beispiel aus Facelet</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;h:message for="isbn" showDetail="false" errorClass="error"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Das obige JSF Tag markiert das Feld, das die JSF-ID <code>isbn</code> hat, als fehlerhaft, wenn im JSF-Context eine
Fehlernachricht für die JSF-ID <code>isbn</code> geschrieben wurde.</p>
</div>
<div class="paragraph">
<p>Für die Darstellung aller Fehlermeldungen kommt das JSF Tag <code>messages</code> zum Einsatz.
Hierdurch werden alle Fehler, unabhängig von ihren JSF-IDs, in einer Liste dargestellt:</p>
</div>
<div id="listing-DarstError" class="listingblock">
<div class="title">Listing 23. Darstellung von Fehlermeldungen</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;h:messages/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die Darstellung von Fehlern und Validierungsnachrichten wird auch im <a href="#isyfact-style-doku:isy-style:styleguide.adoc" class="xref unresolved">Styleguide</a> beschrieben.</p>
</div>
</div>
<div class="sect3">
<h4 id="umgang-mit-validierungsfehlern"><a class="anchor" href="#umgang-mit-validierungsfehlern"></a>4.2.2. Umgang mit Validierungsfehlern</h4>
<div class="paragraph">
<p>Um Validierungsfehler innerhalb der Masken bei den fehlerhaften Feldern darzustellen, besitzt jede Formularkomponente das Attribut <code>reference</code> (siehe <a href="#validierung-ueberschrift">Validierung</a>).
Dadurch können Validierungsfehler den entsprechenden Feldern zugeordnet werden.</p>
</div>
<div class="paragraph">
<p>In bestimmten Fällen kann es auch notwendig sein, zusätzliche Validierungsprüfungen in GUI-Komponenten bereitzustellen (z.B. wenn die GUI je nach Eingabe unterschiedliche Aufrufe des Anwendungskerns durchführt).
Diese sollten durch einen <code>evaluate</code> Aufruf innerhalb des Flows vor dem eigentlichen Zustandsübergang durchgeführt werden.
Die Nutzung des Validierungsmechanismus von Spring Webflow ist grundsätzlich möglich, bringt jedoch auch Nachteile mit sich, da der Aufruf der Validierung auf einer Namenskonvention von View States und Transitionen beruht und bei Umbenennungen sehr fehleranfällig ist.
Durch den Aufruf der Validierung mit <code>evaluate</code> wird die Validierung daher explizit und sichtbar definiert.</p>
</div>
<div class="paragraph">
<p>Bei der Übermittlung von Werten in JSF müssen die Vorgaben aus Kapitel <a href="#datenkonvertierung-fuer-darstellung-und-eingabe">Datenkonvertierung für Darstellung und Eingabe</a> beachtet werden:
Die Eingabe von ungültigen Werten (z.B. ungültiges Datum, Buchstaben in einem Zahlenfeld) muss grundsätzlich möglich sein.
Ggf. müssen entsprechende Datentypen und JSF-Converter erzeugt werden.
Die Validierung in der <a href="../../../../glossary/latest/glossary/master.html#glossar-gui" class="xref page">GUI</a>, aber spätestens im <a href="../../../../glossary/latest/glossary/master.html#glossar-anwendungskern" class="xref page">Anwendungskern</a>, muss die fehlerhafte Eingabe feststellen.
Die Validierung über JSF ist derzeit nicht vorgesehen.</p>
</div>
</div>
<div class="sect3">
<h4 id="behandlung-von-exceptions-innerhalb-der-verarbeitung-im-awk"><a class="anchor" href="#behandlung-von-exceptions-innerhalb-der-verarbeitung-im-awk"></a>4.2.3. Behandlung von Fehlern innerhalb der Verarbeitung im AWK</h4>
<div class="paragraph">
<p>Innerhalb der Verarbeitung von Dialogaktionen können Exceptions auftreten.
Sofern diese nicht ohnehin behandelt werden, müssen sie innerhalb der GUI-Komponenten behandelt werden.
Der jeweilige Controller muss dabei durch eine Exception-Fassade (try/catch) sicherstellen, dass auftretende Fehler nicht in die Dialogsteuerung weitergegeben werden.
So können checked und unchecked Exceptions abgefangen werden.
Der <code>MessageController</code> bietet hierzu Methoden (<code>writeException</code>, <code>writeAndLogException</code>) zum Loggen und Erzeugen von Fehlern/Warnungen im <a href="#nachrichten-ueberschrift">Nachrichtenbereich</a> an.
Das dort implementierte Exception Handling unterscheidet fachliche und technische Exceptions.
Während fachliche Fehler mit einer möglichst aussagekräftigen Fehlermeldung in der Oberfläche angezeigt werden müssen, soll für technische Fehler nur eine allgemeine Fehlermeldung angezeigt werden.</p>
</div>
<div class="sect4">
<h5 id="_ausgabe_für_fachliche_fehler"><a class="anchor" href="#_ausgabe_für_fachliche_fehler"></a>4.2.3.1. Ausgabe für fachliche Fehler</h5>
<div class="ulist">
<ul>
<li>
<p>Im Error-Log und über die GUI: <strong>{Fehler-ID}: {Fehlernachricht} (Referenzcode: {UUID})</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Weil die Fehlertexte der fachlichen Fehler in der GUI angezeigt werden, ist die Verwendung von spezialisierten Exceptions anzuraten, die Fehlertexte enthalten, die für die Anzeige in der GUI geeignet sind.
Hierzu finden sich weitere Informationen im Dokument <a href="../../../../isyfact-standards-doku/latest/isy-exception-core/konzept/master.html" class="xref page">Konzept Fehlerbehandlung</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="ausgabe-fuer-technische-exceptions"><a class="anchor" href="#ausgabe-fuer-technische-exceptions"></a>4.2.3.2. Ausgabe für technische Fehler</h5>
<div class="ulist">
<ul>
<li>
<p>Im Error-Log: <strong>{Fehler-ID}: {Fehlernachricht} (Referenzcode: {UUID})</strong></p>
</li>
<li>
<p>Über die GUI: <strong>„Es ist ein technischer Fehler aufgetreten {Fehler-ID}. Bitte versuchen Sie es später
noch einmal (Referenzcode: {UUID}).</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In der Oberfläche wird also für technische Fehler immer ein fester Standardtext, zusammen mit dem ursprünglichen Fehlercode, ausgegeben.
Nur das Error-Log enthält ebenso die ursprüngliche Fehlermeldung.
Dadurch wird verhindert, dass interne oder nur für die Systementwicklung oder den Betrieb relevante
Meldungen nach außen getragen werden.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="behandlung-von-exceptions-innerhalb-des-dialogablaufs"><a class="anchor" href="#behandlung-von-exceptions-innerhalb-des-dialogablaufs"></a>4.2.4. Behandlung von Fehlern innerhalb des Dialogablaufs</h4>
<div class="paragraph">
<p>Exceptions, welche während der Ausführung von Logik der GUI-Komponenten (z.B. Datenaufbereitung, Rendering) entstehen, werden immer als technische Exception angesehen.
Für diese wird eine standardisierte Fehlerseite mit der in Punkt <a href="#ausgabe-fuer-technische-exceptions">Ausgabe für technische Fehler</a> angegebenen Fehlermeldung für technische Fehler ausgegeben.</p>
</div>
<div class="paragraph">
<p>Um die Behandlung solcher Fehler zu ermöglichen, stellt die Bibliothek <code>isy-web</code> folgendes sicher, sodass für Anwendungen nichts weiter zu tun ist:</p>
</div>
<div class="paragraph">
<p><strong>Globaler Übergang auf einen Fehler-Flow:</strong> Der globale Parent-Flow definiert einen Übergang auf den globalen  Fehler-Flow.</p>
</div>
<div id="listing-flowtransitionOnException" class="listingblock">
<div class="title">Listing 24. Flow Übergang auf Fehlerseite</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;flow&gt;
  &lt;subflow-state id="fehler" subflow="errorFlow" /&gt;

  &lt;global-transitions&gt;
    &lt;transition on-exception="java.lang.Exception" to="fehler" /&gt;
  &lt;/global-transitions&gt;
&lt;/flow&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Konfiguration des JSF Exception Handlers:</strong> Dieser Handler wird in der <code>faces-config.xml</code> konfiguriert:</p>
</div>
<div id="listing-flowExceptionHandlerKonfiguration" class="listingblock">
<div class="title">Listing 25. Flow JSF Exception Handler Konfiguration</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;factory&gt;
  &lt;exception-handler-factory&gt;
    de.bund.bva.isyfact.common.web.exception.web.JsfExceptionHandlerFactory
  &lt;/exception-handler-factory&gt;
&lt;/factory&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Bereitstellung des globalen Error-Flows:</strong> Der Flow <code>errorFlow</code> bietet eine globale Fehlerseite an.</p>
</div>
</div>
<div class="sect3">
<h4 id="behandlung-von-exceptions-ausserhalb-des-dialogablaufs"><a class="anchor" href="#behandlung-von-exceptions-ausserhalb-des-dialogablaufs"></a>4.2.5. Behandlung von Fehlern außerhalb des Dialogablaufs</h4>
<div class="paragraph">
<p>Es gibt Exceptions, die außerhalb des "normalen" Dialogablaufs auftreten.
Beispiele dazu sind fehlende Flow-Definitionen, abgelaufene Sessions und Fehler bei der Autorisierung.
Solche Fehler werden im Rahmen der HTTP-Request-Bearbeitung auf erster Ebene durch einen <code>FlowHandler</code> behandelt, den Spring Web Flow mitbringt.
Kann dieser den Fehler nicht behandeln, wird er auf zweiter Ebene durch einen <code>ExceptionResolver</code> von Spring MVC behandelt.
Hierfür stellt die Bibliothek <code>isy-web</code> Implementierungen zur Verfügung, über welche ein Mapping der Fehler auf spezielle Flows und Fehlerseiten möglich ist, und konfiguriert diese automatisch.</p>
</div>
<div class="paragraph">
<p>Es gibt keine anwendungsspezifischen Fehlerseiten.
Alle IsyFact-Anwendungen verwenden eine einheitliche Fehlerseite.</p>
</div>
<div class="paragraph">
<p>Die Fehlerseite gibt aus Sicherheitsgründen keine Informationen über die Art des Fehlers preis.
Die eigentliche Fehlerursache kann nur aus den Server-Logs ermittelt werden.</p>
</div>
</div>
<div class="sect3">
<h4 id="behandlung-von-optimisticlockexceptions"><a class="anchor" href="#behandlung-von-optimisticlockexceptions"></a>4.2.6. Behandlung von OptimisticLockExceptions</h4>
<div class="paragraph">
<p>Für Die Behandlung einer <code>OptimisticLockException</code> innerhalb der Anwendung ist ein spezieller Handler eingerichtet.
Beim Auftreten einer <code>OptimisticLockException</code> wird eine gesonderte Fehlermeldung ausgegeben, die auf einen konkurrierenden Zugriff hinweist.
Zusätzlich wechselt der Handler in den Zustand <code>abbrechenEndState</code> des aktiven Flows, wenn dieser vorhanden ist.
Sonst wird in den allgemeinen Fehlerzustand (<code>fehler</code>) gewechselt.</p>
</div>
</div>
<div class="sect3">
<h4 id="behandlung-von-exceptions-innerhalb-des-clients"><a class="anchor" href="#behandlung-von-exceptions-innerhalb-des-clients"></a>4.2.7. Behandlung von Fehlern innerhalb des Clients</h4>
<div class="paragraph">
<p>Durch die Nutzung von AJAX entstehen clientseitige HTTP-Requests, welche durch die JSF-JavaScript-Bibliothek gesteuert werden.
Auftretende Fehler (z.B. Server nicht erreichbar, Serverfehler) werden daher nicht durch den Browser direkt, sondern durch die JS Bibliothek behandelt.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sicherheit"><a class="anchor" href="#sicherheit"></a>4.3. Sicherheit</h3>
<div class="paragraph">
<p>Die Absicherung von Masken erfolgt auf Dialogablauf-Ebene.
Die Berechtigungsprüfung verwendet die Sicherheits-Komponente.</p>
</div>
<div class="paragraph">
<p>Gekapselt werden die Bestandteile der Sicherheits-Komponente hinter Spring Security.
Durch den Einsatz von Spring Security ist es einfacher eine Integration der Berechtigungen in die Spring Umgebung, insbesondere Spring Web Flow, zu erreichen.</p>
</div>
<div class="sect3">
<h4 id="autorisierung"><a class="anchor" href="#autorisierung"></a>4.3.1. Autorisierung</h4>
<div class="paragraph">
<p>Für die Absicherung von Dialogabläufen wird innerhalb der Spring Web Flow Konfiguration auf dem <code>&lt;view-state&gt;</code> ein <code>&lt;secured&gt;</code> Tag mit dem geforderten Recht gesetzt.
Die verwendeten Rechte müssen durch die Rollenrechte-Konfiguration (siehe <a href="../../../../isyfact-standards-doku/latest/isy-sicherheit/nutzungsvorgaben/master.html" class="xref page">Nutzungsvorgaben Sicherheit</a>) für den eingeloggten Benutzer entsprechend gesetzt werden.
Durch die Verwendung des Tags wird vor dem Anzeigen des <code>&lt;view-state&gt;</code> eine Überprüfung der Berechtigung des anfragenden Benutzers durchgeführt.
Fehlt dem Benutzer diese, wird die Fehlerseite angezeigt.</p>
</div>
<div id="listing-Snipcreateflow" class="listingblock">
<div class="title">Listing 26. Ausschnitt aus Flow erstellenFlow.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;view-state id="erstellenViewState1" model="erstellenModel"&gt;
    &lt;secured attributes="Erstellen"/&gt;
    &lt;transition on="continue" to="validiereStammdaten"/&gt;
    &lt;transition on="add" to="erstellenViewState1" /&gt;
    ...
&lt;/view-state&gt;</code></pre>
</div>
</div>
<div id="listing-Snipflowmanage" class="listingblock">
<div class="title">Listing 27. Ausschnitt aus Flow verwaltenFlow.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;view-state id="verwaltenViewState"&gt;
    &lt;secured attributes="Verwalten"/&gt;
    &lt;transition on="abschliessen" o="abschliessenViewState"/&gt;
    &lt;transition on="loeschen" to="loeschenViewState" /&gt;
    ...
&lt;/view-state&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="berechtigungsabhaengige-darstellung-in-masken"><a class="anchor" href="#berechtigungsabhaengige-darstellung-in-masken"></a>4.3.2. Berechtigungsabhängige Darstellung in Masken</h4>
<div class="paragraph">
<p>Um eine berechtigungsabhängige Darstellung von Maskenelementen zu realisieren, muss die Anwendung einen Controller bereitstellen, mit dessen Hilfe über nicht parametrisierte Methoden Anfragen nach den benötigten Rechten gestellt werden können.
Dieser Controller ist dafür zuständig, den Rechte-Schlüssel aufzulösen und die Anfrage an die Komponente Sicherheit zu delegieren.
Beantwortet werden die Anfragen stets mit einem einfachen Booleschen Wert.</p>
</div>
<div class="paragraph">
<p>Mit Hilfe dieses Controllers lassen sich einzelne Maskenelemente, aber auch Gruppen von Maskenelementen berechtigungsabhängig ausblenden.
Die JSF-Komponenten bietet hierfür das <code>rendered</code>-Attribut (siehe <a href="#listing-HideJSFComp">JSF-Komponente berechtigungsabhängig ausblenden</a>).
Beantwortet der BerechtigungsController den Methoden-Aufruf von <code>getBenutzerDarfAdministrieren()</code> mit <code>false</code>, so wird der Button nicht dargestellt.</p>
</div>
<div id="listing-HideJSFComp" class="listingblock">
<div class="title">Listing 28. JSF-Komponente berechtigungsabhängig ausblenden</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;t:commandButton rendered="#{berechtigungsController.benutzerDarfAdministrieren}"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sollen mehrere oder nicht-JSF Komponenten berechtigungs­abhängig ausgeblendet werden, kann das Fragment-Tag der Facelets-Bibliothek verwendet werden.
Dieses kann eine beliebige Anzahl an weiteren Maskenelementen umschließen und bietet ebenfalls das <code>rendered</code>-Attribut, welches sich dann auf alle enthaltenen Komponenten auswirkt (siehe <a href="#listing-HideGUIComp">GUI-Komponenten berechtigungsabhängig ausblenden</a>).</p>
</div>
<div id="listing-HideGUIComp" class="listingblock">
<div class="title">Listing 29. GUI-Komponenten berechtigungsabhängig ausblenden</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ui:fragment
   rendered="#{berechtigungsController.benutzerDarfAnwenderAdministrieren}"&gt;
           […] weitere Komponenten […]
&lt;/ui:fragment&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="vermeidung-von-sicherheitsluecken-bei-aktiviertem-javascript"><a class="anchor" href="#vermeidung-von-sicherheitsluecken-bei-aktiviertem-javascript"></a>4.3.3. Vermeidung von Sicherheitslücken bei aktiviertem JavaScript</h4>
<div class="paragraph">
<p>Ist JavaScript in einem Browser aktiviert, eröffnet dies gewisse Risiken bei der Verarbeitung datenschutzbedenklicher Informationen.
Folgende Maßnahmen reduzieren jedoch das Risiko möglicher Attacken für Cross-site-Scripting (XSS):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Verwendung von Standardbrowsern</strong>: Die gängigen Browser befolgen festgelegte Sicherheitsrichtlinien, die nur schwer und
vorsätzlich deaktiviert werden können.
Diese Standard­einstellungen erschweren XSS und sind gerade für den folgenden Punkt unerlässlich.</p>
</li>
<li>
<p><strong>Übertragung aller Inhalte per HTTPS zum Browser</strong>: Werden Webinhalte per HTTPS zum Client übertragen, ist ein unerwünschtes
Datenauslesen per JavaScript-Injection oder IFrame-Injection verhindert, da Browser JavaScript-Code nur dann auf einen
domain-fremden DOM zugreifen lassen, sofern dieser nicht sicher übertragen wurde.</p>
</li>
<li>
<p><strong>Keine Verwendung von Request-Variablen in offenem JS</strong>: Werden Request-Parameter, z.B. als Teile eines Formulars,
direkt in offenem JavaScript (<code>eval([var])</code> oder <code>setTimeout([var])</code>) weiterverwendet, so können Angreifer manipulierte
Parameter für DOM-based-XSS nutzen, d.h. es werden JavaScript Befehle als Parameter übergeben, die Inhalte verändern,
auslesen oder in einen falschen Kontext setzen.</p>
</li>
<li>
<p><strong>Encodierung von Request-Variablen im DOM</strong>: Werden Request-Variablen auf einer Seite dargestellt, so sind diese
XML-encodiert einzubinden (siehe Element <code>outputText</code> in Kapitel <a href="#datenkonvertierung-fuer-darstellung-und-eingabe">Datenkonvertierung für Darstellung und Eingabe</a>).
Somit wird verhindert, dass ein Angreifer ein ungewünschtes Script-Tag übergibt.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="konfiguration-sicherheitskomponente"><a class="anchor" href="#konfiguration-sicherheitskomponente"></a>4.3.3.1. Konfiguration Sicherheitskomponente</h5>
<div class="paragraph">
<p>Die Konfiguration der Sicherheitskomponente ist im Konzept <a href="../../../../isyfact-standards-doku/latest/isy-sicherheit/nutzungsvorgaben/master.html" class="xref page">Nutzungsvorgaben Sicherheit</a> beschrieben.</p>
</div>
<div class="paragraph">
<p>Die zur Integration mit Spring Webflow benötigten Listener liefert <code>isy-web</code> in der Autokonfiguration mit.</p>
</div>
<div class="paragraph">
<p>In der Regel müssen zusätzlich folgende Beans definiert werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>aus isy-sicherheit: <code>Sicherheit</code> und <code>AccessManager</code></p>
</li>
<li>
<p>aus isy-aufrufkontext: <code>AufrufKontextVerwalter</code> und <code>AufrufKontextFactory</code></p>
</li>
<li>
<p>aus spring-security: <code>AccessDecisionManager</code>, der auf die Bean <code>Sicherheit</code> delegiert</p>
</li>
</ul>
</div>
<div id="listing-sec" class="listingblock">
<div class="title">Listing 30. Konfiguration Sicherheitskomponente</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @Bean
    Sicherheit&lt;AufrufKontext&gt; sicherheit(AufrufKontextVerwalter&lt;AufrufKontext&gt; aufrufKontextVerwalter,
        AufrufKontextFactory&lt;AufrufKontext&gt; aufrufKontextFactory, AccessManager accessManager,
        IsySicherheitConfigurationProperties properties) {
        return new SicherheitImpl&lt;AufrufKontext, AuthentifzierungErgebnis&gt;(
            "/resources/sicherheit/rollenrechte.xml", aufrufKontextVerwalter, aufrufKontextFactory,
            accessManager, properties);
    }

    @Bean
    @ConditionalOnMissingBean(AufrufKontextFactory.class)
    public AufrufKontextFactory&lt;AufrufKontext&gt; aufrufKontextFactory() {
        AufrufKontextFactoryImpl&lt;AufrufKontext&gt; aufrufKontextFactory = new AufrufKontextFactoryImpl&lt;&gt;();
        aufrufKontextFactory.setAufrufKontextKlasse(AufrufKontextImpl.class);
        return aufrufKontextFactory;
    }

    @Bean
    public AufrufKontextVerwalter&lt;AufrufKontext&gt; aufrufKontextVerwalter() {
        return new AufrufKontextVerwalterImpl&lt;&gt;();
    }

    @Bean
    public AccessDecisionManager accessDecisionManager(Sicherheit&lt;AufrufKontext&gt; sicherheit) {
        return new DelegatingAccessDecisionManager(sicherheit);
    }

    @Bean
    AccessManager accessManager() {
// Der entsprechende AccessManager
    }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="setup-csrf-protection"><a class="anchor" href="#setup-csrf-protection"></a>4.3.4. Konfiguration des CSRF Schutzes</h4>
<div class="paragraph">
<p>Seit JSF 2.0 ist der CSRF Schutz für <code>POST</code> Requests standardmäßig aktiviert.
Für den Schutzbedarf <strong>mittel</strong> und <strong>hoch</strong> reicht die Implementierung der Variante <em>Token per Session</em>, für Schutzbedarf <strong>sehr hoch</strong> muss die Varainte <em>Token per Request</em> implementiert werden (vgl. <a href="../konzept/konzept.html" class="xref page">Konzept JSF</a>).</p>
</div>
<div class="sect4">
<h5 id="_token_per_session_schutzbedarf_mittel_und_hoch"><a class="anchor" href="#_token_per_session_schutzbedarf_mittel_und_hoch"></a>4.3.4.1. Token per Session (Schutzbedarf mittel und hoch)</h5>
<div class="paragraph">
<p>Das CSRF-Token muss in den Formulardaten des <code>POST</code>-Request mitgesendet werden.
Dafür wird typischerweise das versteckte Element <code>&lt;h:inputHidden&gt;</code> verwendet.</p>
</div>
<div id="listing-hiddenInput" class="listingblock">
<div class="title">Listing 31. Verwendung eines hiddenInput Elements für die CSRF-Token Übertragung</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;!-- [...] --&gt;
&lt;h:form&gt;
    &lt;!-- [...] --&gt;
    &lt;h:input
        type="text "
        value="${model.value}"
    /&gt;
    &lt;h:inputHidden
        value="${_csrf.token}"
        a:name="${_csrf.parameterName}"
    /&gt;
&lt;/h:form&gt;
&lt;!-- [...] --&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_token_per_request_schutzbedarf_sehr_hoch"><a class="anchor" href="#_token_per_request_schutzbedarf_sehr_hoch"></a>4.3.4.2. Token per Request (Schutzbedarf sehr hoch)</h5>
<div class="paragraph">
<p>Für die Variante <em>Token per Request</em> bietet die IsyFact keine Standardlösung an.
Eine Empfehlung für die Umsetzung dieser Anforderung ist die Verwendung von <code>spring-security-web</code> und die Implementierung eines eigenen <code>CsrfTokenRepository</code>.
Auch bei dieser Variante muss das von Spring bereitgestellte CSRF-Token über die <code>POST-Requests</code> mitgesendet werden.
Da die Tokens immer nur für einen Request gültig sind, muss sichergestellt werden, dass vor jedem Request ein neues CSRF-Token vom Server abgeholt wird.</p>
</div>
<div id="listing-isySicherheitWeb" class="listingblock">
<div class="title">Listing 32. Ausschnitt aus isy-sicherheit-web.xml: Verwendung eines eigenen CsrfTokenRepositories</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;!-- [...] --&gt;
&lt;security:http auto-config="true"&gt;
    &lt;security:csrf token-repository-ref="requestCsrfTokenRepository" /&gt;
&lt;/security:http&gt;

&lt;bean id="requestCsrfTokenRepository"
      class="org.company.web.security.RequestCsrfTokenRepository"
      p:cookieHttpOnly="true"
/&gt;
&lt;!-- [...] --&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Druckaufbereitung"><a class="anchor" href="#Druckaufbereitung"></a>4.4. Druckaufbereitung</h3>
<div class="paragraph">
<p>Für den Druck von Masken wird ein eigenes Stylesheet <code>print.css</code> verwendet.
In diesem Stylesheet kann die Anzeige für den Druck optimiert aufbereitet werden.
Zum Beispiel sollten nicht benötigte Elemente ausgeblendet und Farben für den Druck optimiert werden.</p>
</div>
<div class="paragraph">
<p>Für die Druckvorschau einer Seite sollten die benutzten Widgets so aufbereitet werden, dass alle Inhalte auf der Seite
angezeigt werden (z.B. bei Tabs alle Tabs anzeigen).</p>
</div>
<div class="paragraph">
<p>Im <a href="#isyfact-style-doku:isy-style:styleguide.adoc" class="xref unresolved">Styleguide</a> finden sich Beispiele für Druckansichten.</p>
</div>
<div id="image-seitendruck1" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Browser_Druckfunktion.png" alt="Browser Druckfunktion">
</div>
</div>
<div class="paragraph">
<p>Für jede Seite besteht die Möglichkeit eine generische Druckansicht anzuzeigen.
Diese Druckansicht kann in einem eigenen View-State definiert werden.
Durch Aufruf des <code>BasisController</code> s wird sie aktiviert oder deaktiviert.</p>
</div>
<div class="paragraph">
<p>Beispiel:</p>
</div>
<div id="listing-druckAnsichtGenerisch" class="listingblock">
<div class="title">Listing 33. Generische Druckansicht anzeigen</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;view-state id="auskunftAnzeigenDruckansichtViewState" model="auskunftAnzeigenModel"&gt;
    &lt;on-entry&gt;
       &lt;evaluate expression="basisController.showPrintView()"/&gt;
    &lt;/on-entry&gt;
&lt;/view-state&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Über den Vererbungsmechanismus zwischen XHTML Seiten oder durch Angabe einer spezifischen View kann dadurch die komplette Seite in eine Druckansicht versetzt werden.
In der Druckansicht werden alle Elemente ohne JavaScript angezeigt und das Format entsprechend angepasst.
Mit der Druckfunktion des Browsers kann diese dann ausgedruckt werden.
Ruft man die Druckfunktion des Browsers direkt auf (ohne zuvor auf die Druckansicht geöffnet zu haben), so wird nur das angepasste CSS (<code>print.css</code>) verwendet.
Es erfolgen keine spezifischen Anpassungen von Elementen (z.B. alle Tabs anzeigen).</p>
</div>
<div class="paragraph">
<p>Das Tag <code>&lt;isy:print-metainformation&gt;</code> kann benutzt werden, um Metainformationen zum Druck anzuzeigen.
Der Inhalt dieses Tags wird nur ausgegeben, sofern die Druckansicht aktiviert ist.
Es enthält den Parameter <code>warning</code>, der einen Text enthält, welcher ausgegeben werden soll, falls ein Nutzer die Druckfunktion des Browsers nutzt, jedoch nicht die Druckansicht aktiviert hat.
Standardmäßig ist der Parameter leer.</p>
</div>
<div class="sect3">
<h4 id="drucken-bestimmter-inhaltesbereiche"><a class="anchor" href="#drucken-bestimmter-inhaltesbereiche"></a>4.4.1. Druck bestimmter Inhaltsbereiche</h4>
<div class="paragraph">
<p>Neben der allgemeinen Druck-Funktion des Browsers kann der Benutzer über explizite Drucken-Buttons bestimmte Bereiche ausdrucken.</p>
</div>
<div class="paragraph">
<p>Für eine spezifische Druckansicht von Komponenten kann über einen eigenen View-State die generische Druckansicht (siehe Drucklayout) verwendet werden.
Alternativ dazu können die Inhalte der Druckansicht auch selbst definiert und optimiert werden.
Zur Prüfung, ob die Druckansicht aktiviert wurde, dient das <code>BasisModel</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="temporaere-binaerdaten"><a class="anchor" href="#temporaere-binaerdaten"></a>4.5. Temporäre Binärdaten</h3>
<div class="paragraph">
<p>Für manche Anwendungsfälle in Webanwendungen wird ein Speicherort für temporäre Binärdaten benötigt.
Dies ist z.B. notwendig, um dem Nutzer die Binärdaten wieder zur Verfügung zu stellen, bevor diese in einem Datenbestand gespeichert wurden (z.B. hochgeladenes Lichtbild anzeigen).</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Für (temporäre) Binärdaten kann der RegisterFactory-Binärdatenservice genutzt werden.
Dieser bietet die Möglichkeit Binärdaten entgegenzunehmen und einen Cleanup-Timertask, der veraltete Binärdaten automatisch wieder aufräumt.
Somit ist keine Verwendung von Datenbankmitteln notwendig.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="dynamische-downloads"><a class="anchor" href="#dynamische-downloads"></a>4.6. Dynamische Downloads</h3>
<div class="paragraph">
<p>JSF ermöglicht über das Element <code>&lt;outputlink/&gt;</code> den Download von statischen Dateien.
Der Download bzw. das Streaming von dynamisch generierten Dokumenten wird nicht von Haus aus unterstützt.
Diese Funktionalität wird in der Bibliothek <code>isy-web</code> durch die Klasse <code>DownloadHelper</code> implementiert.
Unterstützt wird der Download einzelner Dateien (<a href="#listing-dynamischerDownload">Download von dynamische generierten Dateien</a>) und der Download mehrerer Dateien, die in einer ZIP-Datei zusammengefasst werden (<a href="#listing-dynamischerDownloadZip">Download von dynamische generierten Dateien als ZIP-Datei</a>).</p>
</div>
<div id="listing-dynamischerDownload" class="listingblock">
<div class="title">Listing 34. Download von dynamische generierten Dateien</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">...
private DownloadHelper downloadHelper;
...
public void download() {
    DokumentDatenModel dokumentDatenModel = new DokumentDatenModel();
    dokumentDatenModel.setInhalt(new byte[] {'T', 'e', 's', 't'});
    dokumentDatenModel.setDateiname("Test");
    dokumentDatenModel.setDateityp(DateitypEnum.TXT);

    downloadHelper.starteDownload(dokumentDatenModel);
}</code></pre>
</div>
</div>
<div id="listing-dynamischerDownloadZip" class="listingblock">
<div class="title">Listing 35. Download von dynamische generierten Dateien als ZIP-Datei</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">...
private DownloadHelper downloadHelper;
...
public void downloadZip() {
    FileModel datei1 = new FileModel();
    datei1.setInhalt(new byte[] {'T', 'e', 's', 't', '1'});
    datei1.setDateiname("Test1.txt");
    datei1.setMimeType(DateitypEnum.TXT.getMimeType());

    FileModel datei2 = new FileModel();
    datei2.setInhalt(new byte[] {'T', 'e', 's', 't', '2'});
    datei2.setDateiname("Test2.txt");
    datei2.setMimeType(DateitypEnum.TXT.getMimeType());

    downloadHelper.downloadZipFileByModel("Test.zip", datei1, datei2);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Um den <code>DownloadHelper</code> zu verwenden, müssen die Beans aus <a href="#listing-downloadHelperBean">Konfiguration DownloadHelper als Bean</a> konfiguriert werden.
Die Einbindung erfolgt dann per Depedency Injection z.B. in einem Controller.</p>
</div>
<div id="listing-downloadHelperBean" class="listingblock">
<div class="title">Listing 36. Konfiguration DownloadHelper als Bean</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="zipHelper" class="de.bund.bva.isyfact.common.web.filetransfer.ZipHelper"/&gt;

&lt;bean id="downloadHelper" class="de.bund.bva.isyfact.common.web.filetransfer.DownloadHelper"/&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jsf-seitenelemente"><a class="anchor" href="#jsf-seitenelemente"></a>5. JSF Seitenelemente</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Die IsyFact enthält die Demo-Anwendung <code>isy-webgui</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Die Anwendung zeigt die Features der Bibliothek <code>isy-web</code> beispielhaft.
Insbesondere demonstriert sie Aussehen und Verhalten der nachfolgend beschriebenen JSF-Seitenelemente.
Für die Verwendung dieser Elemente muss in den View-Templates folgender Namespace eingebunden werden: <code>xmlns:isy="http://java.sun.com/jsf/composite/isyfact"</code>.</p>
</div>
<div class="sect2">
<h3 id="hauptfenster"><a class="anchor" href="#hauptfenster"></a>5.1. Hauptfenster</h3>
<div class="paragraph">
<p>Das im Styleguide beschriebene Anwendungslayout besteht im Allgemeinen aus einem Hauptfenster mit einem Header und einem Inhaltsbereich, dessen Inhalt je nach Seitentyp und Applikation variieren kann.</p>
</div>
<div id="image-aufbauapplikationsseite" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Aufbau_Applikationsseite.png" alt="Aufbau Applikationsseite" width="629" height="526">
</div>
<div class="title">Abbildung 5. Aufbau einer Applikationsseite</div>
</div>
<div class="paragraph">
<p><strong>Aufbau</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Header-Bereich</p>
</li>
<li>
<p>Linksnavigation (optional)</p>
</li>
<li>
<p>Inhaltsbereich</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="header-bereich"><a class="anchor" href="#header-bereich"></a>5.1.1. Header-Bereich</h4>
<div class="paragraph">
<p>Der Header-Bereich enthält allgemeine Informationen zur <a href="../../../../glossary/latest/glossary/master.html#glossar-anwendungslandschaft" class="xref page">Anwendungslandschaft</a>, den in ihr verfügbaren Fachanwendungen und zum angemeldeten Anwender.</p>
</div>
<div id="image-header-aufbau" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/header-aufbau.png" alt="header aufbau" width="610">
</div>
<div class="title">Abbildung 6. Aufbau des Header-Bereiches</div>
</div>
<div class="paragraph">
<p><a href="#image-header-aufbau">Aufbau des Header-Bereiches</a> verdeutlicht die Teile, aus denen er besteht:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>A</strong> Logo des Anbieters der Anwendungslandschaft</p>
</li>
<li>
<p><strong>B</strong> Balken in der Standardfarbe der Anwendungslandschaft ("Portalfarbe")</p>
</li>
<li>
<p><strong>C</strong> Logo des Anwendungslandschaft</p>
</li>
<li>
<p><strong>D</strong> Informationen zum angemeldeten Anwender ("Nutzerbereich")</p>
</li>
<li>
<p><strong>E + F</strong> Hauptfnavigation und Subnavigation als Flyout (zur Nutzung siehe <a href="#horizontale-navigation">Horizontale Navigation</a>)</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_nutzerbereich"><a class="anchor" href="#_nutzerbereich"></a>5.1.1.1. Nutzerbereich</h5>
<div class="paragraph">
<p>Der Nutzerbereich wird von der <code>isy-web</code> zur Verfügung gestellt.
Damit der Logout bei allen Anwendungen einheitlich funktioniert, ist ein Default-Verhalten implementiert (/logout).
Um das Verhalten zu überschreiben, kann die Property <code>gui.logout.url</code> angepasst werden.</p>
</div>
</div>
<div class="sect4">
<h5 id="_logos_und_texte_im_header_bereich"><a class="anchor" href="#_logos_und_texte_im_header_bereich"></a>5.1.1.2. Logos und Texte im Header-Bereich</h5>
<div class="paragraph">
<p>Es besteht die Möglichkeit, für jeden Flow die folgenden Teile des Seitenrahmens anzupassen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>linkes Logo im Header (<code>gui.header.logo.links.pfad</code>),</p>
</li>
<li>
<p>rechtes Logo im Header (<code>gui.header.logo.rechts.pfad</code>),</p>
</li>
<li>
<p>Text unterhalb des rechten Logos im Header (<code>gui.header.text.logo.rechts</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Um hiervon Gebrauch zu machen, muss eine entsprechende Konfigurationsdatei über die Bean-Definition eingebunden werden:</p>
</div>
<div id="listing-anpassung-rahmen-config" class="listingblock">
<div class="title">Listing 37. Konfigurationsdatei zur Anpassung des Seitenrahmens einbinden</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;beans&gt;
    ...
    &lt;bean id="konfiguration"&gt;
        &lt;constructor-arg&gt;
            &lt;list&gt;
                ...
                &lt;value&gt;/resources/gui-anwendungsgruppen.properties&lt;/value&gt;
                ...
            &lt;/list&gt;
        &lt;/constructor-arg&gt;
    &lt;/bean&gt;
    ...
&lt;/beans&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="../../../../glossary/latest/glossary/master.html#glossar-geschaeftsanwendung" class="xref page">Geschäftsanwendungen</a> können globale Standardwerte definieren.
Definieren sie diese nicht, verwendet der Seitenrahmen Standardwerte aus <code>isy-web</code>.</p>
</div>
<table id="table-SeitenrahmenStandardwerte" class="tableblock frame-all grid-all stretch">
<caption class="title">Tabelle 1. Globale Standardwerte für den Seitenrahmen</caption>
<colgroup>
<col style="width: 55.5555%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Standardwert</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gui.header.logo.links.pfad</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kein Logo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gui.header.logo.rechts.pfad</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kein Logo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gui.header.text.logo.rechts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kein Text</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Die gleichen Werte können Anwendungen zusätzlich auf Ebene sogenannter <em>Anwendungsgruppen</em> setzen, um den Seitenrahmen noch weiter an ihre Anforderungen anzupassen.
Anwendungsgruppen fassen in der Regel mehrere Flows zusammen und spiegeln sich nicht selten direkt in der Hauptnavigation wider.
Setzt die Anwendungen einzelne Werte für bestimmte Anwendungsgruppen nicht, werden die globalen Standardwerte (s. vorige <a href="#table-SeitenrahmenStandardwerte">Globale Standardwerte für den Seitenrahmen</a>) herangezogen.</p>
</div>
<table id="table-SeitenrahmenStandardwerteGruppen" class="tableblock frame-all grid-all stretch">
<caption class="title">Tabelle 2. Standardwerte für den Seitenrahmen bezogen auf Anwendungsgruppen</caption>
<colgroup>
<col style="width: 55.5555%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Standardwert</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gui.header.logo.links.pfad.&lt;anwendungsgruppe&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gui.header.logo.links</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gui.header.logo.rechts.pfad.&lt;anwendungsgruppe&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gui.header.logo.rechts</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gui.header.text.logo.rechts.&lt;anwendungsgruppe&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gui.header.text.logo.rechts</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Das folgende Beispiel zeigt eine vollständige Konfiguration.</p>
</div>
<div id="listing-AnpassungSeitenrahmen" class="listingblock">
<div class="title">Listing 38. Konfiguration zur Anpassung des Seitenrahmens</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs"># Globale Standardwerte
gui.header.logo.links.pfad = /javax.faces.resource/img/isyfactschriftzug.jpeg
gui.header.logo.rechts.pfad = /javax.faces.resource/img/isyfactlogo.jpeg
gui.header.text.logo.rechts = IsyFact
gui.logout.url = /logout

# Defintion der Anwendungsgruppen
gui.anwendungsgruppen.ids = gruppeEins,gruppeZwei,gruppeDrei

# Zuordnung von Flows zu Anwendungsgruppen
gui.anwendungsgruppen.urls.gruppeEins = startseiteFlow,nachrichtenFlow
gui.anwendungsgruppen.urls.gruppeZwei = formulareFlow,beispiellinkFlow
gui.anwendungsgruppen.urls.gruppeDrei = validierungFlow,wizardDialogFlow

# Logos / Texte der Anwendungsgruppen
gui.header.logo.links.pfad.gruppeZwei = /javax.faces.resource/img/andererschriftzug.jpeg
gui.header.logo.rechts.pfad.gruppeZwei = /javax.faces.resource/img/andereslogo.jpeg
gui.header.text.logo.rechts.gruppeZwei = Zweite Gruppe</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_applikationsseiten"><a class="anchor" href="#_applikationsseiten"></a>5.1.2. Applikationsseiten</h4>
<div class="paragraph">
<p>Applikationsseiten werden über den Controller <code>ApplikationseiteController</code> und das Model <code>ApplikationseiteModel</code> realisiert.</p>
</div>
<div class="paragraph">
<p>Wenn eine Applikationsseite erstellt werden soll, dann muss der Flow der Applikationsseite vom Flow <code>applikationseiteParentFlow</code> erben.
Es muss weiterhin ein Controller erstellt werden, der vom <code>AbstractGuiController</code> erbt und ein Model, das vom <code>AbstractMaskenModel</code> erbt.
Die XHTML-Seiten der ViewStates müssen alle vom -Masken-Template <code>/WEB-INF/gui/common/layout/applikation.xhtml</code> erben (s.a. <a href="#listing-jsfViewState">Beispiel für eine JSF ViewState Seite mit Inhaltsbereichsangabe</a>).</p>
</div>
<div class="paragraph">
<p>Der <code>ApplikationseiteController</code> stellt sicher, dass alle layoutspezifischen Funktionen (z.B. der Linksnavigation) einer Applikationsseite initialisiert und zur Verfügung gestellt werden.
Abweichungen vom Standardvorgehen (z.B. Linksnavigation ausblenden) können durch Zugriff auf den Controller und Model in spezifischeren Controllern beim Initialisieren durchgeführt werden.</p>
</div>
<div class="paragraph">
<p>Neben dem <code>ApplikationseiteController</code> existiert auch der <code>BasisController</code>.
Dieser bietet Zugriff auf seitentypunabhängige Layoutfunktionen (z.B. modalen Dialog anzeigen).</p>
</div>
<div class="paragraph">
<p>Siehe weiterhin die Hinweise unter <a href="#header-bereich">Header-Bereich</a>, <a href="#linksnavigation">Linksnavigation</a> und <a href="#quicklinks">Quicklinks</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_applikation_detailseite"><a class="anchor" href="#_applikation_detailseite"></a>5.1.3. Applikation Detailseite</h4>
<div class="paragraph">
<p>Applikationsdetailseiten werden über den Controller <code>DetailseiteController</code> und das Model <code>DetailseiteModel</code> realisiert.</p>
</div>
<div class="paragraph">
<p>Wenn eine Applikationsdetailseite erstellt werden soll, dann muss der Flow der Applikationsdetailseite vom Flow <code>detailseiteParentFlow</code> erben.
Es muss weiterhin ein Controller erstellt werden, der vom <code>AbstractGuiController</code> erbt und ein Model, das vom <code>AbstractMaskenModel</code> erbt.
Die XHTML-Seiten der ViewStates müssen alle vom JSF-Masken-Template <code>/WEB-INF/gui/common/layout/applikationDetailseite.xhtml</code> erben.</p>
</div>
<div class="paragraph">
<p>Der DetailseiteController stellt sicher, dass alle layoutspezifischen Funktionen (z.B. der Seitentoolbar sowie Buttons in der Toolbar) einer Detailseite initialisiert und zur Verfügung gestellt werden.
Abweichungen vom Standardvorgehen (z.B. Seitentoolbar ausblenden, Druckbutton einblenden, Informationsbereich einblenden) können durch Zugriff auf den Controller und Model in spezifischeren Controllern beim Initialisieren durchgeführt werden.</p>
</div>
<div class="paragraph">
<p>Neben dem <code>DetailseiteController</code> existiert auch der <code>BasisController</code>.
Dieser bietet Zugriff auf seitentypunabhängige Layoutfunktionen (z.B. modalen Dialog anzeigen).</p>
</div>
<div class="sect4">
<h5 id="_seitentitel"><a class="anchor" href="#_seitentitel"></a>5.1.3.1. Seitentitel</h5>
<div class="paragraph">
<p>Der TitlesListener (Listener für Spring-Webflow) ermöglicht es, dass konfigurierte Nachrichten anhand von Namenskonventionen automatisch als Title (Title-Tag), Headline (Titelzeile) oder Breadcrumb verwendet werden.
Der TitlesListener ist automatisch eingebunden und muss nicht explizit aktiviert werden.</p>
</div>
<div class="paragraph">
<p>Folgende Angaben sind zulässig:</p>
</div>
<div class="paragraph">
<p><code>MAS_{FlowName}_Title</code><br>
<code>MAS_{FlowName}_{ViewState}_Title</code><br>
<code>MAS_{FlowName}_Headline</code><br>
<code>MAS_{FlowName}_{ViewState}_Headline</code><br>
<code>MAS_{FlowName}_Breadcrumb</code><br>
<code>MAS_{FlowName}_{ViewState}_Breadcrumb</code></p>
</div>
<div class="paragraph">
<p>Die Angaben müssen sich in den Anwendungsressourcen (analog zu anderen Nachrichten) befinden und über eine MessageSource-Bean (<code>messageSource</code>) der isy-web zur Verfügung gestellt werden.</p>
</div>
<div class="paragraph">
<p>Wenn vorhanden, werden stets die Angaben mit ViewState verwendet, ansonsten die Angaben ohne ViewState.
In der Flowdefinition können die zu verwendenden Texte überschrieben werden, indem die Attribute titleKey, breadcrumbKey und headlineKey gesetzt werden.
Wenn für den Title keine Angabe gefunden werden kann, dann wird der Wert von <code>MAS_Global_Title</code> verwendet.
Weiterhin kann mit <code>MAS_Global_Title_Prefix</code> ein globaler Präfix für den Title gesetzt werden.</p>
</div>
<div class="paragraph">
<p>Weiterhin kann über eine Angabe von <code>&lt;ui:define name="titel"/&gt;</code> in Seiten definiert werden, welche Inhalte rechts neben dem bereits definierten Title (Title-Tag) ausgegeben werden.
Im Folgenden ein Beispiel:</p>
</div>
<div id="listing-zusatzmaskentitel" class="listingblock">
<div class="title">Listing 39. Zusatz-Maskentitel im Header-Bereich</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ui:define name="titel"&gt;
   &lt;h:outputText value="zusätzlicher Text" /&gt;
&lt;/ui:define&gt; Über die Angaben
&lt;ui:define name="titelzeileInfoLinks"/&gt;
  bzw. &lt;ui:define name="titelzeileInfoRechts"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Es kann weiterhin definiert werden, welche Inhalte zusätzlich direkt rechts neben der Headline (Titelzeile) angezeigt werden bzw. ganz am rechten Rand der Headline angezeigt werden.
Im Folgenden ein Beispiel:</p>
</div>
<div id="listing-titelzeileninfo" class="listingblock">
<div class="title">Listing 40. Titelzeileninfo</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ui:define name="titelzeileInfoLinks"&gt;
   &lt;h:outputText value="zusätzlicher Text" /&gt;
&lt;/ui:define&gt;
&lt;ui:define name="titelzeileInfoRechts"&gt;
   &lt;h:outputText value="zusätzlicher Text" /&gt;
&lt;/ui:define&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_modaler_dialog"><a class="anchor" href="#_modaler_dialog"></a>5.2. Modaler Dialog</h3>
<div class="paragraph">
<p>Modale Dialoge werden mit dem Tag <code>&lt;isy:modalDialogContent&gt;</code> definiert.
Der Dialog besitzt folgende Facets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Der Header-Bereich</p>
</li>
<li>
<p>Der Body-Bereich</p>
</li>
<li>
<p>Der Footer-Bereich</p>
</li>
</ul>
</div>
<div id="image-modaler-dialo" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demoflow-modaler-dialog.png" alt="demoflow modaler dialog">
</div>
<div class="title">Abbildung 7. Beispiel eines modalen Dialogs</div>
</div>
<div class="paragraph">
<p>Das Tag <code>&lt;isy:modalDialogContent&gt;</code> wird über den UI-Platzhalter modalDialog eingefügt.
Dieser Platzhalter sorgt dafür, dass je nach Verfügbarkeit von JavaScript, der Inhalt des modalen Fensters entweder als Inhalt oder als eigenständiger Dialog gerendert wird.
Die Funktionsweise des modalen Dialogs ist in das Basis-Layout eingebunden.
Um einen Dialog zu öffnen, muss dieser als eigener View-State (in Spring Webflow) definiert werden.
Beim Eintreten in den Flow wird das modale Fenster über einen Aufruf des BasisController geöffnet.
Beim Verlassen des View-States wird dieser wieder geschlossen.</p>
</div>
<div id="listing-jsfModalerDialog" class="listingblock">
<div class="title">Listing 41. Modaler Dialog</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ui:define name="modalDialog"&gt;
   &lt;isy:modalDialogContent&gt;
     &lt;f:facet name="modalHeader"&gt;\{msg.MEL_Lichtbild_anzeigen_Titel}&lt;/f:facet&gt;
     &lt;f:facet name="modalBody"&gt;
     &lt;div class="form-horizontal"&gt;
        ...
     &lt;/div&gt;
     &lt;/f:facet&gt;
     &lt;f:facet name="modalFooter"&gt;
        &lt;div class="form-horizontal readonly"&gt;
           ...
        &lt;/div&gt;
      &lt;/f:facet&gt;
   &lt;/isy:modalDialogContent&gt;
 &lt;/ui:define&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Um im Hintergrund weiterhin das aktuelle Fenster anzuzeigen, genügt es den bisherigen View-State entsprechend zu vererben.</p>
</div>
<div id="listing-openCloseModaleDialog" class="listingblock">
<div class="title">Listing 42. Öffnen und Schließen von modalen Dialogen</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;view-state id="lichtbildAnzeigenViewState" model="maskenModel"&gt;
   &lt;on-entry&gt;
      &lt;evaluate expression="basisController.showModalDialog()"/&gt;
   &lt;/on-entry&gt;

   ...

   &lt;transition on="schliesseModalenDialog" to="gesamtauskunftAnzeigenViewState"&gt;
      &lt;evaluate expression="basisController.hideModalDialog()"/&gt;
   &lt;/transition&gt;

&lt;/view-state&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_bestätigungsdialog"><a class="anchor" href="#_bestätigungsdialog"></a>5.3. Bestätigungsdialog</h3>
<div class="paragraph">
<p>Bestätigungsdialoge, auch Popup-Dialoge genannt, sind spezielle modale Dialoge, die als Subflows eingebunden werden.
Die anzuzeigenden Texte und Button-Beschriftungen werden dem Flow als Parameter übergeben.
Bestätigungsdialoge	sind daher einfach und vielfältig einsetzbar und eignen sich immer, wenn der Benutzer vor eine "Ja/Nein Entscheidung" gestellt werden soll.
Sollte kein Java-Script	aktiviert sein, so wird der Dialog direkt im Fenster angezeigt.</p>
</div>
<div id="image-bestaetigungs-dialog" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demoflow-bestaetigungs-dialog.png" alt="demoflow bestaetigungs dialog">
</div>
<div class="title">Abbildung 8. Beispiel eines Bestätigungsdialogs (Popup-Dialog)</div>
</div>
<div class="paragraph">
<p>Bei einem Bestätigungsdialog können auch mehrzeilige Texte hinterlegt werden.
Hierfür ist es möglich, eine Nachricht aus einer weiteren Ressource einzubinden.
Der Parameter &#8220;dialogNachricht&#8221; wird in diesem Falle nicht zwingend benötigt (required="false").</p>
</div>
<div class="paragraph">
<p>Bei Verwendung des Parameters "dialogNachrichtPfad" wird die "dialogNachricht" nicht angezeigt.
Die anzuzeigenden Texte aus einer weiteren Ressource werden dem Flow als neuer Parameter "dialogNachrichtPfad" übergeben (siehe <a href="#listing-Bestaetigungsdialog">Bestätigungsdialog - subflow mit Parametern</a>).</p>
</div>
<div class="paragraph">
<p>Falls der anzuzeigende Text für den Abbrechen-Button nicht dem Flow übergeben wurde, wird der Default-Text zu "MEL_Button_Abbrechen" aus den <code>maskentexte.properties</code> geladen.</p>
</div>
<div id="listing-Bestaetigungsdialog" class="listingblock">
<div class="title">Listing 43. Bestätigungsdialog - subflow mit Parametern</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;flow xmlns="http://www.springframework.org/schema/webflow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xsi:schemaLocation="http://www.springframework.org/schema/webflow http://www.springframework.org/schema/webflow/spring-webflow-2.0.xsd"
    parent="applikationseiteParentFlow"&gt;

    &lt;var name="modalerDialogModel" class="de.bund.bva.pliscommon.pliswebgui.gui.flows.modalerdialog.ModalerDialogModel" /&gt;
    &lt;var name="bestaetigungsdialogModel" class="de.bund.bva.pliscommon.pliswebgui.gui.flows.modalerdialog.BestaetigungsdialogModel" /&gt;
 ...
 ...
    &lt;subflow-state id="demoBestaetigenSubflowState" subflow="bestaetigenFlow"&gt;
        &lt;input name="dialogTitel" value="'Ein Beispieltitel: Achtung, sind Sie sich sicher...'" /&gt;
        &lt;input name="dialogNachricht" value="'Eine Beispielnachricht: Sind Sie sicher, dass sie fortfahren wollen?'" /&gt;
        &lt;input name="dialogNachrichtPfad" value="'/WEB-INF/gui/common/eingebundeneNachricht.xhtml'" /&gt;
        &lt;input name="dialogKonsequenz" value="'Eine beispielhafte Konsequenz (Angabe optional): Nicht gespeicherte Änderungen gehen verloren.'" /&gt;
        &lt;input name="submitActionName" value="'Fortfahren'" /&gt;
        &lt;!-- &lt;input name="abbrechenActionName" value="'Abbrechen'" /&gt; --&gt;
        &lt;transition on="abbrechenEndState" to="modalerDialogViewState" &gt;
          &lt;evaluate expression="bestaetigungsdialogController.abbrechen(bestaetigungsdialogModel)" /&gt;
        &lt;/transition&gt;
        &lt;transition on="submitEndState" to="modalerDialogViewState"&gt;
          &lt;evaluate expression="bestaetigungsdialogController.bestaetige(bestaetigungsdialogModel)" /&gt;
        &lt;/transition&gt;
    &lt;/subflow-state&gt;
&lt;/flow&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="wizard"><a class="anchor" href="#wizard"></a>5.4. Wizard</h3>
<div class="paragraph">
<p>Wizards, auch Assistenten genannt, bezeichnen eine geführte Abfolge von Interaktionsschritten.</p>
</div>
<div id="image-dialogwizard1" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Wizard_Beispiel_Schritt_2.png" alt="Wizard Beispiel Schritt 2">
</div>
<div class="title">Abbildung 9. Beispiel eines Wizards</div>
</div>
<div class="paragraph">
<p>Wizards werden mit dem Tag <code>&lt;isy:wizard&gt;</code> definiert.</p>
</div>
<div class="paragraph">
<p>Der Wizard besitzt folgende Facets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>wizardHeader</code>: Der Header-Bereich</p>
</li>
<li>
<p><code>wizardBody</code>: Der Body-Bereich</p>
</li>
<li>
<p><code>wizardFooterLeftButtons</code>: Ergänzungen zu den angezeigten Buttons auf der linken Seite</p>
</li>
<li>
<p><code>wizardFooterRightButtons</code>: Ergänzungen zu den angezeigten Buttons auf der rechten Seite</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>wizardDialogModel</code>: Das Model des Wizards. (Typ: <code>de.bund.bva.isyfact.common.web.jsf.components.wizard.WizardDialogModel</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>width</code>: Die Breite des modalen Dialogs. (Standard: <code>auto</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls notwendig.</p>
</li>
<li>
<p><code>stepVisible</code>: Gibt an, ob die Step Nummer gezeigt werden soll. (Standard: <code>true</code>, Typ: <code>Boolean</code> )</p>
</li>
</ul>
</div>
<div id="listing-wirardModaleDialog" class="listingblock">
<div class="title">Listing 44. Modaler Wizard</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:wizard wizardDialogModel="#{wdm}"&gt;
   &lt;f:facet name="wizardHeader"&gt;Testheader&lt;/f:facet&gt;
   &lt;f:facet name="wizardBody"&gt;
       &lt;ui:param name="aktuelleWizardSeite" value="#{wdm.getActiveWizardDialogPage()}" /&gt;
       &lt;!-- In Abhängigkeit der ID werden die entsprechenden Seiten angezeigt. --&gt;
       &lt;ui:fragment rendered="#{wdm.getActiveWizardDialogPageId().equals('1')}"&gt;
          &lt;ui:include src="page1.xhtml" /&gt;
       &lt;/ui:fragment&gt;
       &lt;ui:fragment rendered="#{wdm.getActiveWizardDialogPageId().equals('2')}"&gt;
          &lt;ui:include src="page2.xhtml" /&gt; &lt;/ui:fragment&gt;
       &lt;ui:fragment rendered="#{wdm.getActiveWizardDialogPageId().equals('3')}"&gt;
          &lt;ui:include src="page3.xhtml" /&gt;
       &lt;/ui:fragment&gt;
       &lt;ui:fragment rendered="#{wdm.getActiveWizardDialogPageId().equals('4')}"&gt;
          &lt;ui:include src="page4.xhtml" /&gt;
       &lt;/ui:fragment&gt;
   &lt;/f:facet&gt;
&lt;/isy:wizard&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Eine einzelne Seite eines Wizards wird über ein Objekt des Typs <code>WizardDialogPage</code> definiert.
Eine <code>WizardDialogPage</code> hat u.A. folgende Attribute:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>wizardDialogPageId</code>: Eine ID, welche die Wizardseite eindeutig innerhalb des Wizards identifiziert</p>
</li>
<li>
<p><code>title</code>: Title der Wizardseite</p>
</li>
<li>
<p><code>pageDone</code>: Seite wurde abgearbeitet</p>
</li>
<li>
<p><code>pageSuccessful</code>: Seite wurde erfolgreich oder nicht erfolgreich abgearbeitet</p>
</li>
<li>
<p><code>pageDisabled</code>: Seite wurde deaktiviert</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Jeder Wizard besitzt die folgenden, vordefinierten Buttons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>previous</code>: zurück zur vorherigen Seite</p>
</li>
<li>
<p><code>next</code>: weiter zur nächsten Seite</p>
</li>
<li>
<p><code>complete</code>: Wizard abschließen</p>
</li>
<li>
<p><code>abort</code>: Wizard abbrechen</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Für jeden dieser Buttons gibt es die folgenden Einstellungen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>activated</code>: Gibt an, ob der Button aktiviert ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>visible</code>: Gibt an, ob der Button sichtbar ist. (Standard: <code>true</code>)</p>
</li>
<li>
<p><code>ajaxActivated</code>: Gibt an, ob die Aktion per AJAX ausgeführt werden soll. (Standard: <code>true</code>)</p>
</li>
<li>
<p><code>ajaxAction</code>: Welche Felder bei einem AJAX-Aufruf ausgewertet werden. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>ajaxRender</code>: Welcher Seitenbereich nach dem AJAX-Aufruf aktualisiert wird. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>ajaxBlock</code>: Gibt an, ob die GUI während des AJAX-Aufrufs blockiert. (Standard: <code>false</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Weiterhin benötigt ein Wizard ein Model des Typs <code>WizardDialogModel</code>. Ein <code>WizardDialogModel</code> hat folgende Attribute und Methoden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>activeWizardDialogPageId</code>: ID der derzeit aktiven Seite</p>
</li>
<li>
<p><code>activeWizardDialogPage</code>: momentan aktive Seite</p>
</li>
<li>
<p><code>nextActiveWizardDialogPageId</code>: ID der nächsten Seite</p>
</li>
<li>
<p><code>wizardDialogPages</code>: Liste der einzelnen Seiten des Wizards (<code>WizardDialogPage</code>-Objekte)</p>
</li>
<li>
<p><code>boolean isPageDone(String id)</code>: Gibt an, ob die Seite mit der angegebenen ID bereits abgearbeitet wurde</p>
</li>
<li>
<p><code>boolean isPageDisabled(String id)</code>: Gibt an, ob die Seite mit der angegebenen ID deaktiviert ist</p>
</li>
<li>
<p><code>WizardDialogPage getWizardDialogPage(String wizardDialogPageId)</code>: Gibt die Seite zur angegebenen ID zurück.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Für die Verwendung eines Wizards muss ein Controller erstellt werden, der vom <code>WizardDialogController</code> erbt.
Folgende Methoden müssen dabei überschrieben werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>boolean finish(WizardDialogModel model)</code> beendet die Verarbeitung des Wizards,</p>
</li>
<li>
<p><code>boolean cancel(WizardDialogModel model)</code> bricht die Verarbeitung ab.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Folgende Methoden können genutzt und optional überschrieben werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>initializeDefaultPages(WizardDialogModel model)</code> initialisiert die Pages des Wizards mit dem Standardverhalten,</p>
</li>
<li>
<p><code>boolean next(WizardDialogModel model)</code> ruft die nächste Seite auf,</p>
</li>
<li>
<p><code>boolean previous(WizardDialogModel model)</code> ruft die vorherige Seite auf.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="dialoge-ohne-javascript"><a class="anchor" href="#dialoge-ohne-javascript"></a>5.5. Dialoge ohne JavaScript</h3>
<div id="nojs" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/no-js.png" alt="no js">
</div>
<div class="title">Abbildung 10. Kein Javascript</div>
</div>
<div class="paragraph">
<p>Die modalen Dialoge werden automatisch in das Layout integriert, sofern kein JavaScript verfügbar ist.</p>
</div>
<div id="image-keinjavascriptdialo" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Menuepunkt_Flows.png" alt="Menuepunkt Flows">
</div>
<div class="title">Abbildung 11. Kein JavaScript – Dialog</div>
</div>
<div id="image-keinjavascriptwizard" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Kein_Javascript_Wizard.png" alt="Kein Javascript Wizard">
</div>
<div class="title">Abbildung 12. Kein JavaScript – Wizard</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jsf-bedienelemente"><a class="anchor" href="#jsf-bedienelemente"></a>6. JSF Bedienelemente</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Der JSF-Baustein stellt JSF Composite Components als Bedienelemente für Web-GUIs zur Verfügung.
Für die Verwendung dieser Elemente muss in den View-Templates folgender Namespace eingebunden werden: <code>xmlns:isy="http://java.sun.com/jsf/composite/isyfact"</code>.</p>
</div>
<div class="paragraph">
<p>Die Bedienelemente stellen im Grundsatz folgendes sicher:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>JavaScript-Kompatibilität</strong>: Komponenten bieten eine Fallback-Lösung an, falls kein JavaScript aktiviert ist.</p>
</li>
<li>
<p><strong>Druckfunktion</strong>: Komponenten stellen eine Druckansicht zur Verfügung, falls die Druckansicht aktiviert wurde.</p>
</li>
<li>
<p><strong>Validierung</strong>: Die speziellen Formularkomponenten stellen Validierungsfunktionen zur Verfügung, sodass bei Validierungsfehlern automatisch Nachrichten und Tooltips (inkl. Abwärtskompatibilität, falls kein JavaScript aktiviert wurde) gerendert werden.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Abweichungen zu diesen Vorgaben können im Spezialfall möglich sein.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Die IsyFact enthält die Demo-Anwendung <code>isy-webgui</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Die Anwendung zeigt die Features der <a href="../../../../glossary/latest/glossary/master.html#glossar-bibliothek" class="xref page">Bibliothek</a> <code>isy-web</code> beispielhaft.
Insbesondere demonstriert sie Aussehen und Verhalten der nachfolgend beschriebenen JSF-Bedienelemente.</p>
</div>
<div class="sect2">
<h3 id="_button"><a class="anchor" href="#_button"></a>6.1. Button</h3>
<div class="paragraph">
<p>Ein einfacher Button wird über das Tag <code>&lt;isy:button&gt;</code> eingebunden.</p>
</div>
<div id="image-button" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-button.png" alt="demopanel button">
</div>
<div class="title">Abbildung 13. Beispiele für &lt;isy:button&gt; Aktionen (Normal, Ajax, Formular)</div>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>action</code>: Die auszuführende Aktion.</p>
</li>
<li>
<p><code>value</code>: Das Label des Buttons.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>styleClass</code>: Die zu ergänzenden Style-Klassen.</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob der Button deaktiviert ist oder nicht. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>showPrintView</code>: Gibt an, ob die Komponente innerhalb einer Druckansicht angezeigt werden soll. (Standard: <code>#\{not empty basisModel and basisModel.showPrintView}</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>ajax</code>: AJAX: Soll eine AJAX Aktion ausgeführt werden. (Standard: <code>true</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>execute</code>: AJAX: Welcher Template-Seitenbereich ausgeführt werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>render</code>: AJAX: Welcher Template-Seitenbereich gerendert werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>block</code>: AJAX: Gibt an, ob ein Klick die GUI blockieren soll bis das Ergebnis eingetroffen ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>defaultAction</code>: AJAX: Gibt an, ob dieser Knopf die defaultAction des Formulars sein soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls notwendig. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wenn JavaScript aktiviert ist, dann wird die AJAX-Action durchgeführt.
Andernfalls wird immer ein Full-Page-Reload ausgeführt.</p>
</div>
<div class="paragraph">
<p>Einen Button, bei dem die Oberfläche während der Ajax-Aktion blockiert ist, würde man Einbindung über &lt;isy:button&gt; mit dem <code>block="true"</code> einbinden.</p>
</div>
<div id="listing-button" class="listingblock">
<div class="title">Listing 45. Codebeispiel für <code>&lt;isy:button&gt;</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:button
  id="buttonBlockTest"
  action="blockButtonAction"
  value="Button (Block)"
  block="true"/&gt;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_mehrere_buttons_in_einer_zeile"><a class="anchor" href="#_mehrere_buttons_in_einer_zeile"></a>6.1.1. Mehrere Buttons in einer Zeile</h4>
<div class="paragraph">
<p>Mehrere Buttons können in einer Zeile gruppiert werden, indem sie in das Tag <code>&lt;isy:buttonRow&gt;</code> eingeschlossen werden.</p>
</div>
<div id="image-buttonRow" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-buttonRow.png" alt="demopanel buttonRow">
</div>
<div class="title">Abbildung 14. Beispiel für <code>&lt;isy:buttonRow&gt;</code> mit <code>&lt;isy:buttonToolbar&gt;</code></div>
</div>
<div class="paragraph">
<p>Folgende optionale Parameter sind für das Tag <code>&lt;isy:buttonRow&gt;</code> zulässig:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>alignRight</code>: Gibt an, ob die Button Row ein Alignment nach rechts besitzen soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>styleClass</code>: Zusätzliche Style-Klassen für die Button-Row. (Standard: ``)</p>
</li>
</ul>
</div>
<div id="listing-buttonRow" class="listingblock">
<div class="title">Listing 46. Codebeispiel für <code>&lt;isy:buttonRow&gt;</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:buttonRow&gt;
	&lt;isy:buttonToolbar
		icon="placeholder"
		value="Button 1"
		action="noAction"/&gt;
	&lt;isy:buttonToolbar
		icon="placeholder"
		value="Button 2"
		action="noAction"/&gt;
&lt;/isy:buttonRow&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_gruppierung_von_mehreren_buttons"><a class="anchor" href="#_gruppierung_von_mehreren_buttons"></a>6.1.2. Gruppierung von mehreren Buttons</h4>
<div class="paragraph">
<p>Mehrere Buttons können gruppiert werden, indem sie in das Tag <code>&lt;isy:buttonGroup&gt;</code> eingeschlossen werden.
Der Hauptanwendungszweck dieses Tags ist die gemeinsame Ausrichtung der Buttons auf der Maske.</p>
</div>
<div class="paragraph">
<p>Folgende optionale Parameter sind für das Tag <code>&lt;isy:buttonGroup&gt;</code> zulässig:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>alignRight</code>: Gibt an, ob die Button Row eine Alignment nach Rechts besitzen soll oder nicht (Standard: <code>false</code>, Typ: <code>Boolean</code>).</p>
</li>
<li>
<p><code>alignLeft</code>: Gibt an, ob die Button Row eine Alignment nach Links besitzen soll oder nicht (Standard: <code>false</code>, Typ: <code>Boolean</code>).</p>
</li>
</ul>
</div>
<div id="listing-buttonGroup" class="listingblock">
<div class="title">Listing 47. Codebeispiel für <code>&lt;isy:buttonGroup&gt;</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;f:facet name="tableToolbar"&gt;
    &lt;isy:buttonGroup&gt;
        &lt;isy:buttonToolbar /&gt;
    &lt;/isy:buttonGroup&gt;
&lt;/f:facet&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mehrere_aktionen"><a class="anchor" href="#_mehrere_aktionen"></a>6.1.3. Mehrere Aktionen</h4>
<div class="paragraph">
<p>In bestimmten Fällen kann es notwendig sein mehrere Formulare an den Server zu senden, um bestimmte Aktionen auszuführen (z.B. das Formular für den Inhaltsbereich soll auch beim Klick auf Drucken in der Seitentoolbar übermittelt werden).
Dies kann durch verwenden des Tags <code>&lt;isy:buttonInjectPost&gt;</code> erreicht werden.
Dadurch lässt sich eine andere Aktion vor der eigentlichen Aktion des Buttons innerhalb des Tags ausführen.</p>
</div>
<div class="paragraph">
<p>Folgende Parameter sind notwendig:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>postButton</code>: Die ID des Buttons, der die zusätzliche POST-Aktion durchführen soll</p>
</li>
<li>
<p><code>continueAfterPost</code>: Über diesen Wert true/false kann gesteuert werden, ob nach der POST-Aktion auch tatsächlich der eigentliche Button geklickt werden soll (z.B. um Fehlerfälle abzufangen).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="button-toolbar"><a class="anchor" href="#button-toolbar"></a>6.2. Button Toolbar</h3>
<div class="paragraph">
<p>Eine Button-Toolbar wird über das Tag <code>&lt;isy:buttonToolbar&gt;</code> eingebunden.
Die Buttons innerhalb der Toolbar können sowohl horizontal als auch vertikal angeordnet sein.</p>
</div>
<div class="paragraph">
<p>Die folgende Abbildung zeigt z.B. die Verwendung der Komponente <code>&lt;isy:buttonToolbar</code> oberhalb einer DataTable-Komponente.</p>
</div>
<div id="image-toolbarButton" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-toolbarButton.png" alt="demopanel toolbarButton">
</div>
<div class="title">Abbildung 15. &lt;isy:buttonToolbar&gt; mit Button-Komponenten</div>
</div>
<div class="paragraph">
<p>Eine Button-Toolbar besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>action</code>: Die auszuführende Aktion.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>value</code>: Der Wert/Text des Buttons. (Standard: ``)</p>
</li>
<li>
<p><code>icon</code>: Das Icon aus der Icon-Bibliothek (ohne Präfix 'icon-'). (Standard: <code>placeholder</code>)</p>
</li>
<li>
<p><code>showIcon</code>: Gibt an, ob ein Icon angezeigt werden soll oder nicht. (Standard: <code>true</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>reverseIconPosition</code>: Gibt an, ob das Icon rechts angezeigt werden soll. (Standard: <code>false</code>, Typ: <code>java.lang.Boolean</code>)</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob der Button deaktiviert sein soll. Standard: false. (Standard: <code>false</code>, Typ: <code>java.lang.Boolean</code>)</p>
</li>
<li>
<p><code>showPrintView</code>: Gibt an, ob der Button innerhalb einer Druckansicht angezeigt werden soll. (Standard: <code>#\{not empty basisModel and basisModel.showPrintView}</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>ajax</code>: AJAX: Soll eine AJAX Aktion ausgeführt werden. (Standard: <code>true</code>)</p>
</li>
<li>
<p><code>execute</code>: AJAX: Welcher Template-Seitenbereich ausgeführt werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>render</code>: AJAX: Welcher Template-Seitenbereich gerendert werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls nötig. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wenn JavaScript aktiviert ist, dann wird die AJAX-Action durchgeführt.
Andernfalls wird immer ein Full-Page-Reload durchgeführt.</p>
</div>
<div class="paragraph">
<p>Folgende Action-Sources werden bereitgestellt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>buttonActionEvent</code>: Das Action Event für den Button.</p>
</li>
</ul>
</div>
<div id="listing-buttonToolbar" class="listingblock">
<div class="title">Listing 48. Codebeispiel für <code>&lt;isy:buttonToolbar&gt;</code> , vertikale Darstellung</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;f:facet name="panelHeader"&gt;Toolbar Buttons&lt;/f:facet&gt;

&lt;isy:buttonToolbar
	icon="placeholder"
	value="Button mit Icon"
	action="noAction"/&gt;

&lt;isy:buttonToolbar
    showIcon="false"
	value="Button ohne Icon"
	action="noAction"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Weitere Codebeispiele für das Tag <code>&lt;isy:buttonToolbar&gt;</code> siehe <a href="#listing-dataTable">Beispiel für <code>&lt;isy:dataTable&gt;</code> Verwendung</a> und <a href="#listing-buttonRow">Codebeispiel für <code>&lt;isy:buttonRow&gt;</code></a></p>
</div>
<div class="sect3">
<h4 id="toggle-button"><a class="anchor" href="#toggle-button"></a>6.2.1. Toggle Button</h4>
<div class="paragraph">
<p>Ein Toggle Button wird über das Tag <code>&lt;isy:buttonToggle&gt;</code> eingebunden.</p>
</div>
<div class="paragraph">
<p>Ein Toggle Button besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>action</code>: Die auszuführende Aktion.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>buttonId</code>: Eindeutige ButtonId.</p>
</li>
<li>
<p><code>value</code>: Der Wert/Text des Buttons. (Standard: ``)</p>
</li>
<li>
<p><code>icon</code>: Das Icon aus der Icon-Bibliothek (ohne Präfix 'icon-'). (Standard: <code>placeholder</code>)</p>
</li>
<li>
<p><code>showIcon</code>: Gibt an, ob ein Icon angezeigt werden soll oder nicht. (Standard: <code>true</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>reverseIconPosition</code>: Gibt an, ob das Icon rechts angezeigt werden soll. (Standard: <code>false</code>, Typ: <code>java.lang.Boolean</code>)</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob der Button deaktiviert sein soll. Standard: false. (Standard: <code>false</code>, Typ: <code>java.lang.Boolean</code>)</p>
</li>
<li>
<p><code>active</code>: Gibt an, ob der Button ausgewählt sein soll. Standard: false. (Standard: <code>false</code>, Typ: <code>java.lang.Boolean</code>)</p>
</li>
<li>
<p><code>execute</code>: AJAX: Welcher Template-Seitenbereich ausgeführt werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>render</code>: AJAX: Welcher Template-Seitenbereich gerendert werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls nötig. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
<li>
<p><code>showPrintView</code>: Gibt an, ob die Komponente innerhalb einer Druckansicht angezeigt werden soll. (Standard: <code>#\{not empty basisModel and basisModel.showPrintView}</code>, Typ: <code>Boolean</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Folgende Action-Sources werden bereitgestellt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>toggleButton</code>: Das Action Event für den Button.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="icon-button"><a class="anchor" href="#icon-button"></a>6.2.2. Icon Button</h4>
<div class="paragraph">
<p>Ein Button mit Icon wird über das Tag <code>&lt;isy:buttonIcon&gt;</code> eingebunden.</p>
</div>
<div class="paragraph">
<p>Ein Icon Button besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>action</code>: Die auszuführende Aktion.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>value</code>: Das Label des Buttons. (Standard: ``)</p>
</li>
<li>
<p><code>size</code>: Die Größe des Icons. Mögliche Werte: small/large. (Standard: <code>large</code>)</p>
</li>
<li>
<p><code>icon</code>: Der Suffix des zu verwendenden Icons. (Standard: <code>placeholder</code>)</p>
</li>
<li>
<p><code>showIcon</code>: Gibt an, ob das Icon angezeigt werden soll oder nicht. (Standard: <code>true</code>, Typ: <code>java.lang.Boolean</code>)</p>
</li>
<li>
<p><code>tooltip</code>: Tooltip, der über dem Icon angezeigt werden soll. (Standard: ``)</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob der Button deaktiviert ist oder nicht. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>btnClass</code>: Die CSS-Klasse, welche für Buttons ergänzt werden soll. (Standard: ``)</p>
</li>
<li>
<p><code>ajax</code>: AJAX: Soll eine AJAX Aktion ausgeführt werden. (Standard: <code>true</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>execute</code>: AJAX: Welcher Template-Seitenbereich ausgeführt werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>render</code>: AJAX: Welcher Template-Seitenbereich gerendert werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>block</code>: AJAX: Gibt an, ob ein Klick die GUI blockieren soll bis das Ergebnis eingetroffen ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>showPrintView</code>: Gibt an, ob die Komponente innerhalb einer Druckansicht angezeigt werden soll. (Standard: <code>#\{not empty basisModel and basisModel.showPrintView}</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls notwendig. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Folgende Action-Sources werden bereitgestellt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>buttonActionEvent</code>: Das Action Event für den Button.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wenn JavaScript aktiviert ist, dann wird die AJAX-Action durchgeführt.
Andernfalls wird immer ein Full-Page-Reload durchgeführt.</p>
</div>
</div>
<div class="sect3">
<h4 id="hyperlink-ueberschrift"><a class="anchor" href="#hyperlink-ueberschrift"></a>6.2.3. Hyperlink</h4>
<div class="paragraph">
<p>Hyperlinks sind verlinkte Texte (oder auch Grafiken), die im Wesentlichen zur Navigation zwischen Seiten dienen.
Ebenso können Hyperlinks dazu eingesetzt werden, Funktionen aufzurufen.</p>
</div>
<div class="paragraph">
<p>Links können mit dem Standard-HTML Tag <code>&lt;a/&gt;</code> oder durch Nutzung des JSF Tags <code>&lt;h:outputLink/&gt;</code> erzeugt werden.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Auch die Nutzung des JSF Tags <code>&lt;h:commandLink /&gt;</code> ist möglich.
Jedoch ist die Funktionalität nur bei aktiviertem JavaScript nutzbar.
Entsprechende Fallbackmaßnahmen müssen also getroffen werden.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Falls ein Hyperlink Aktionen im Webflow bzw. JSF ausführen soll, so kann das Tag <code>&lt;isy:hyperlink&gt;</code> verwendet werden.
Dieses Tag stellt sicher, dass falls JavaScript deaktiviert ist, ein Button mit Layout eines Links dargestellt wird.</p>
</div>
<div class="paragraph">
<p>Ein Hyperlink besitzt folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>action</code>: Die Action, die ausgeführt werden soll.</p>
</li>
<li>
<p><code>value</code>: Das Label des Links</p>
</li>
<li>
<p><code>title</code>: Der Alternativtext.</p>
</li>
<li>
<p><code>baseStyleClass</code>:  Die Basistyleklasse zum Überschreiben. (Standard: <code>cmdbtn-link</code>)</p>
</li>
<li>
<p><code>additionalStyleClass</code>: Eine zusätzliche Styleklasse. (Standard: ``)</p>
</li>
<li>
<p><code>openInNewTab</code>: Gibt an, ob der Link in einem neuen Tab geöffnet werden soll. Funktioniert nur mit aktiviertem JavaScript. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Das Tag stellt folgende ActionSource bereit:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>hyperlink</code>: Die ActionSource des Links.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="label-ueberschrift"><a class="anchor" href="#label-ueberschrift"></a>6.3. Label</h3>
<div class="paragraph">
<p>Ein Label besteht in der Regel aus einem Text.
In manchen Fällen kann es auch eine Kombination aus einem Icon und einem Text sein (z.B. Buttons mit Icon und Text).
Es gibt auch Bedienelemente, deren Label ausschließlich aus einem Icon bestehen.</p>
</div>
<div class="paragraph">
<p>Für reine Labels existieren keine spezifischen JSF-Komponenten.
Das Standard-JSF Tag <code>&lt;h:outputText/&gt;</code> kann verwendet werden.
Für formularbasierte Masken werden automatisch Labels für Eingabefelder erzeugt, wie in <a href="#eingabefelder-ueberschrift">Eingabefelder</a> beschrieben.
Für das Ausgeben eines Textes (mit zugehörigem Label) in einem Formular kann das Tag <code>&lt;isy:formLabel&gt;</code> verwendet werden.</p>
</div>
<div class="paragraph">
<p>Es besitzt folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Referenz des Objekts für die Validierung.</p>
</li>
<li>
<p><code>value</code>: Text des Ausgabebereichs</p>
</li>
<li>
<p><code>label</code>: Text des Labels</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse des Labels. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse des Ausgabebereiches. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>textStyleClass</code>: Die CSS-Klasse des auszugebenden Textes.</p>
</li>
<li>
<p><code>tooltip</code>: Tooltip des Ausgabebereichs.</p>
</li>
<li>
<p><code>escapeLabel</code>: Gibt an, ob Sonderzeichen für das Label escaped werden sollen. (Standard: <code>true</code>)</p>
</li>
<li>
<p><code>breakWords</code>: Gibt an, ob der Überlauf von Text in die nächste Zeile erlaubt ist. (Standard: <code>true</code>)</p>
</li>
<li>
<p><code>converter</code>: ID des JSF-Converters, welche die Ausgabe in einen Text konvertiert. (Standard: leer)</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="eingabefelder-ueberschrift"><a class="anchor" href="#eingabefelder-ueberschrift"></a>6.4. Eingabefelder</h3>
<div class="paragraph">
<p>Eingabefelder dienen der Eingabe von Text durch den Benutzer und sind in der Regel einzeilig.</p>
</div>
<div class="paragraph">
<p>Für einzelne Eingabefelder existieren derzeit noch keine einfachen Komponenten.
Um ein einfaches Eingabefeld einzufügen, kann das JSF-Tag <code>&lt;h:inputText/&gt;</code> mit der CSS-Klasse <code>form-control</code> von Bootstrap verwendet werden.
Für formularbasierte Eingaben existiert das Tag <code>&lt;isy:formInput/&gt;</code>, welches ein Eingabefeld in einem Formularlayout mit Label kapselt.
Nähere Informationen hierzu finden sich in <a href="#layout-von-Formularen">Layout von Formularen</a>.</p>
</div>
<div class="paragraph">
<p>Ein Eingabefeld besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>type</code>: Typ des Eingabefelds, sodass diese Komponente z.B. auch für Passwort-Felder verwendet werden kann.
Mögliche Werte sind alle Werte für das Feld <code>type</code> des HTML-Tags <code>input</code>. (Standard: <code>text</code>)</p>
</li>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>label</code>: Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse des Labels. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse des Eingabebereiches. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>placeholder</code>: Platzhalter, welcher im Eingabefeld angezeigt wird.</p>
</li>
<li>
<p><code>inputmask</code>: Eingabemaske</p>
</li>
<li>
<p><code>inputmaskInsertMode</code>: Gibt an, ob der Text bei der Eingabe überschrieben wird. (Standard: <code>true</code>)</p>
</li>
<li>
<p><code>maxlength</code>: Die maximale Länge der Eingabe. (Standard: 255)</p>
</li>
<li>
<p><code>width</code>: Die maximale Breite des Eingabefeldes. (Standard: 100%)</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob das Eingabefeld deaktiviert ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>showPrintView</code>: Spezifisches Flag zur Erkennung der Druckansicht. (Standard: <code>basisModel.showPrintView</code>)</p>
</li>
<li>
<p><code>tooltip</code>: Tooltip, der über dem Eingabefeld angezeigt wird. (Standard: '')</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
<li>
<p><code>charpicker</code>: Gibt an, welche Eingabe für Sonderzeichen verwendet werden soll.
Wird der Wert auf <code>dinSpec</code> gesetzt, wird der Character-Picker verwendet, welcher alle Zeichen der DIN SPEC 91379 unterstützt.
Soll der alte Legacy-Character-Picker verwendet werden, muss der Wert auf <code>special</code> gesetzt werden.
Standardmäßig wird kein Character-Picker verwendet.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Eingabefelder besitzen folgende Facets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>contentRight</code>: Inhalt, der rechts vom Eingabefeld angezeigt wird</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="charpicker"><a class="anchor" href="#charpicker"></a>6.4.1. Character-Picker</h4>
<div class="paragraph">
<p>Eingabefelder besitzen die Möglichkeit einen Character-Picker (kurz: CharPicker) für die Eingabe von Sonderzeichen einzublenden.
Dazu muss, wie im folgenden Beispiel (<a href="#listing-charpicker">Verwendung vom CharPicker</a>), der Parameter <code>charpicker</code> auf den Wert <code>dinSpec</code> gesetzt werden, um den CharPicker zu verwenden, welcher die Sonderzeichen der DIN SPEC 91379 unterstützt:</p>
</div>
<div id="listing-charpicker" class="listingblock">
<div class="title">Listing 49. Verwendung vom CharPicker</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:formInput id="formInputSpecialCharDinSpec" type="text"
    label="DIN SPEC 91379 CharPicker: "
    reference="formInputSpecialChar" value="Ein Special Char Textfeld"
    charpicker="dinSpec" datentyp="DATENTYP_A"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Der Parameter <code>datentyp</code> gibt an, welche Sonderzeichen vom CharPicker unterstützt werden sollen.
Zur Auswahl stehen folgende Optionen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>DATENTYP_A</code></p>
</li>
<li>
<p><code>DATENTYP_B</code></p>
</li>
<li>
<p><code>DATENTYP_C</code></p>
</li>
<li>
<p><code>DATENTYP_D</code></p>
</li>
<li>
<p><code>DATENTYP_E</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Für den Fall, dass kein Parameter gewählt wird, werden alle Zeichen aus <code>DATENTYP_E</code> verwendet.
Alternativ kann der Parameter <code>charpicker</code> auf den Wert <code>special</code> gesetzt werden, um den alten CharPicker zu verwenden.
Dieser unterstützt nur die Schriftzeichen aus String.Latin 1.1, also deutlich weniger Zeichen.
Ein Eingabefeld mit CharPicker besitzt, wie in <a href="#image-charpicker-button">Eingabefeld mit CharPicker</a> zu sehen, einen Button auf der rechten Seite, mit dem sich der CharPicker öffnen lässt.</p>
</div>
<div id="image-charpicker-button" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/charpicker-button.png" alt="charpicker button">
</div>
<div class="title">Abbildung 16. Eingabefeld mit CharPicker</div>
</div>
<div class="paragraph">
<p>Der CharPicker (zu sehen in <a href="#image-charpicker-widget">CharPicker nach DIN SPEC 91379</a>) besteht aus folgenden Komponenten:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Die Leiste links erlaubt eine Auswahl von Kategorien, nach denen die Zeichen gefiltert werden können.</p>
</li>
<li>
<p>In der rechten Box werden die Sonderzeichen angezeigt und lassen sich per Mausklick auswählen.</p>
</li>
<li>
<p>Darunter befindet sich eine Detailansicht.
Für eine bessere Übersicht werden die Schriftzeichen dort in groß, sowohl in einer Serifen- als auch in einer serifenlosen Schrift dargestellt.
Rechts davon wird der Name und der Unicode-Codepoint des Symbols angezeigt.
Mit dem Button <code>Einfügen</code> kann man bestätigen, dass das Symbol in das Eingabefeld eingefügt werden soll.</p>
</li>
</ul>
</div>
<div id="image-charpicker-widget" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/charpicker-widget.png" alt="charpicker widget">
</div>
<div class="title">Abbildung 17. CharPicker nach DIN SPEC 91379</div>
</div>
<div class="paragraph">
<p>Alternativ kann der CharPicker auch mit den folgenden Eingaben mit der Tastatur bedient werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Alt+Runter</code> öffnet den CharPicker, wenn das Eingabefeld fokussiert ist</p>
</li>
<li>
<p><code>Alt+Hoch</code> bzw. <code>Escape</code> schließt den CharPicker</p>
</li>
<li>
<p>Pfeiltasten können zum Auswählen von Schriftzeichen verwendet werden</p>
</li>
<li>
<p>Mit <code>Enter</code> wird das ausgewählte Schriftzeichen in das Eingabefeld eingefügt</p>
</li>
<li>
<p><code>TAB</code> wechselt zur nächsten Kategorie</p>
</li>
<li>
<p><code>Shift+TAB</code> wechselt zur vorherigen Kategorie</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="eingabefelder-ohne-label-ueberschrift"><a class="anchor" href="#eingabefelder-ohne-label-ueberschrift"></a>6.5. Eingabefelder ohne Label</h3>
<div class="paragraph">
<p>Für Eingabefelder ohne Label existiert das Tag <code>&lt;isy:input&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Ein Eingabefeld ohne Label besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>type</code>: Typ des Eingabefelds, sodass diese Komponente z.B. auch für Passwort-Felder verwendet werden kann.
Mögliche Werte sind alle Werte für das Feld <code>type</code> des HTML-Tags <code>input</code>. (Standard: <code>text</code>)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse des Labels. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse des Eingabebereiches. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>placeholder</code>: Platzhalter, welcher im Eingabefeld angezeigt wird.</p>
</li>
<li>
<p><code>inputmask</code>: Eingabemaske</p>
</li>
<li>
<p><code>inputmaskInsertMode</code>: Gibt an, ob der Text bei der Eingabe überschrieben wird. (Standard: <code>true</code>)</p>
</li>
<li>
<p><code>maxlength</code>: Die maximale Länge der Eingabe. (Standard: 255)</p>
</li>
<li>
<p><code>width</code>: Die maximale Breite des Eingabefeldes. (Standard: 100%)</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob das Eingabefeld deaktiviert ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>showPrintView</code>: Spezifisches Flag zur Erkennung der Druckansicht. (Standard: <code>basisModel.showPrintView</code>)</p>
</li>
<li>
<p><code>tooltip</code>: Tooltip, der über dem Eingabefeld angezeigt wird. (Standard: '')</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
<li>
<p><code>charpicker</code>: Gibt an, welche Eingabe für Sonderzeichen verwendet werden soll.
Wird der Wert auf <code>dinSpec</code> gesetzt, wird der neue Character-Picker verwendet, welcher alle Zeichen der DIN SPEC 91379 unterstützt.
Soll der alte Legacy-Character-Picker verwendet werden, muss der Wert auf <code>special</code> gesetzt werden.
Standardmäßig wird kein Character-Picker verwendet.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Eingabefelder besitzen folgende Facets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>contentRight</code>: Inhalt, der rechts vom Eingabefeld angezeigt wird</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Der CharPicker funktioniert wie im Abschnitt <a href="#charpicker">Character-Picker</a> beschrieben.</p>
</div>
<div class="sect3">
<h4 id="aktionseingabefeld"><a class="anchor" href="#aktionseingabefeld"></a>6.5.1. Aktionseingabefeld</h4>
<div class="paragraph">
<p>Für Aktionseingabefelder existieren die Tags <code>&lt;isy:actionInput&gt;</code> bzw. <code>&lt;isy:formActionInput&gt;</code>.</p>
</div>
<div id="image-aktionseingabefeld" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Aktionseingabefeld.png" alt="Aktionseingabefeld">
</div>
<div class="title">Abbildung 18. Aktionseingabefeld</div>
</div>
<div class="paragraph">
<p>Ein Aktionseingabefeld besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
<li>
<p><code>action</code>: Die auszulösende Aktion.</p>
</li>
<li>
<p><code>icon</code>: Das anzuzeigendes Icon aus der Icon-Bibliothek.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>placeholder</code>: Platzhalter, welcher im Eingabefeld angezeigt wird.</p>
</li>
<li>
<p><code>maxlength</code>: Die maximale Länge der Eingabe. (Standard: 20)</p>
</li>
<li>
<p><code>iconColor</code>: Farbe des Icons. (Standard: <code>#45484D</code>)</p>
</li>
<li>
<p><code>tooltip</code>: Tooltip, der über dem Eingabefeld angezeigt wird. (Standard: <code>&#8230;&#8203;</code>)</p>
</li>
<li>
<p><code>mode</code>: [normal|button-only|input-only]. <code>normal</code> für Eingabefeld und Icon aktiv. <code>button-only</code> für nur Icon aktiv. <code>input-only</code> für nur Eingabefeld aktiv. (Standard: <code>normal</code>)</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob das Eingabefeld deaktiviert ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Folgende Parameter sind zusätzlich zu den eben genannten für <code>&lt;isy:formActionInput&gt;</code> zulässig:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>label</code>: Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse des Labels. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse des Eingabebereiches. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="eingabefelder-fuer-geldbetraege"><a class="anchor" href="#eingabefelder-fuer-geldbetraege"></a>6.5.2. Eingabefeld für Geldbeträge</h4>
<div class="paragraph">
<p>Für die Eingabe von Geldbeträgen existiert das Tag <code>&lt;isy:formCurrencyInput&gt;</code>.
Dieses Bedienelement verhält sich bis auf wenige Ausnahmen wie <code>&lt;isy:formInput&gt;</code>.
Das Eingabefeld für Geldbeträge:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>besitzt kein Attribut <code>inputmask</code>, da sich diese nicht mit der JavaScript-Funktion verträgt, welche die Daten formatiert.</p>
</li>
<li>
<p>lässt nur die Eingabe von Zahlen und Kommata zu; alle anderen Zeichen werden direkt nach Eingabe sofort wieder gelöscht.</p>
</li>
<li>
<p>besitzt das Attribut <code>onchange</code> - dort kann eine JavaScript-Funktion übergeben werden, die aufgerufen wird, sobald der Cursor das Feld verlässt.</p>
</li>
<li>
<p>rundet die eingegebene Zahl ab einer Länge von mehr als 15 Ziffern automatisch. Daraus lassen sich folgende Beispiele ableiten:</p>
<div class="ulist">
<ul>
<li>
<p>Ohne Nachkommastelle ist 999999999999999</p>
</li>
<li>
<p>für 1 Nachkommastelle ist 99999999999999,9</p>
</li>
<li>
<p>für 2 Nachkommastellen ist 9999999999999,99 der maximale Betrag ohne Rundung.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Folgende Parameter sind Pflicht:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>label</code>: Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse des Labels. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse des Eingabebereiches. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>placeholder</code>: Platzhalter, welcher im Eingabefeld angezeigt wird.</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob das Eingabefeld deaktiviert ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>maxlength</code>: Die maximale Länge der Eingabe. (Standard: 255)</p>
</li>
<li>
<p><code>width</code>: Die maximale Breite des Eingabefeldes. (Standard: 100%)</p>
</li>
<li>
<p><code>tooltip</code>: Tooltip, der über dem Eingabefeld angezeigt wird. (Standard: '')</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
<li>
<p><code>onchange</code>: JavaScript-Funktion, die bei Verlassen des Feldes aufgerufen wird</p>
</li>
<li>
<p><code>onkeyup</code>: JavaScript-Funktion, die direkt nach einer Eingabe aufgerufen wird</p>
</li>
<li>
<p><code>decimalplaces</code>: Anzahl der Nachkommastellen. (Standard: 2)</p>
</li>
<li>
<p><code>alignright</code>: Gibt an, ob der Text innerhalb des Eingabefeldes rechts ausgerichtet sein soll. (Standard: <code>false</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="upload"><a class="anchor" href="#upload"></a>6.5.3. Upload</h4>
<div class="paragraph">
<p>Für den Upload von Dateien existiert das Tag <code>&lt;isy:formUpload&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Folgende Parameter sind Pflicht:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>accept</code>: Einschränkung der angenommenen Dateien gemäß ihres MIME-Types</p>
</li>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob das Eingabefeld deaktiviert ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>label</code>: Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse des Labels. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse des Eingabebereiches. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>placeholder</code>: Platzhalter, welcher im Eingabefeld angezeigt wird.</p>
</li>
<li>
<p><code>tooltip</code>: Tooltip, der über dem Eingabefeld angezeigt wird. (Standard: '')</p>
</li>
<li>
<p><code>showPrintView</code>: Spezifisches Flag zur Erkennung der Druckansicht. (Standard: <code>basisModel.showPrintView</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="text-box"><a class="anchor" href="#text-box"></a>6.5.4. Textbox</h4>
<div class="paragraph">
<p>Eine Textbox kann über das HTML-Tag <code>&lt;textarea&gt;</code> mit der CSS-Klasse <code>form-control</code> von Bootstrap eingebunden werden.</p>
</div>
<div class="paragraph">
<p>Text Boxen sehen optisch aus wie Eingabefelder, es können jedoch mehrzeilige Daten eingegeben werden.</p>
</div>
<div id="image-bildtextbox" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Textbox.png" alt="Textbox">
</div>
<div class="title">Abbildung 19. Textbox</div>
</div>
<div class="paragraph">
<p>Für Formulare kann das Tag <code>&lt;isy:formTextarea&gt;</code> verwendet werden.</p>
</div>
<div class="paragraph">
<p>Folgende Parameter sind Pflicht:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob das Eingabefeld deaktiviert ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>label</code>: Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse des Labels. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse des Eingabebereiches. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>textareaStyleClass</code>: Die CSS-Klasse der Textbox. (Standard: leer)</p>
</li>
<li>
<p><code>placeholder</code>: Platzhalter, welcher im Eingabefeld angezeigt wird.</p>
</li>
<li>
<p><code>tooltip</code>: Tooltip, der über dem Eingabefeld angezeigt wird. (Standard: '')</p>
</li>
<li>
<p><code>rows</code>: Anzahl an Zeilen. (Standard: 5)</p>
</li>
<li>
<p><code>cols</code>: Anzahl an Spalten</p>
</li>
<li>
<p><code>maxlength</code>: Die maximale Länge der Eingabe. (Standard: 4000)</p>
</li>
<li>
<p><code>showPrintView</code>: Spezifisches Flag zur Erkennung der Druckansicht. (Standard: <code>basisModel.showPrintView</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_date_picker"><a class="anchor" href="#_date_picker"></a>6.5.5. Date Picker</h4>
<div class="paragraph">
<p>Mit dem Date Picker können Anwender über einen Kalender gezielt einen Tag auswählen.
Der Kalender öffnet sich nach einem Klick auf das Icon neben dem Eingabefeld.</p>
</div>
<div class="paragraph">
<p>Der Date Picker wird über das Tag <code>&lt;isy:formDate&gt;</code> eingebunden.</p>
</div>
<div class="paragraph">
<p>Folgende Parameter sind Pflicht:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>label</code>: Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse des Labels. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse des Eingabebereiches. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputFieldClass</code>: Die CSS-Klasse des Eingabefeldes. (Standard: leer)</p>
</li>
<li>
<p><code>placeholder</code>: Platzhalter, welcher im Eingabefeld angezeigt wird. (Standard: <code>TT.MM.JJJJ</code>)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>language</code>: Angezeigte Sprache. (Standard: <code>de</code>)</p>
</li>
<li>
<p><code>dateformat</code>: Datumsformat. (Standard: <code>dd.mm.yyyy</code>)</p>
</li>
<li>
<p><code>inputmask</code>: Eingabemaske</p>
</li>
<li>
<p><code>inputmaskInsertMode</code>: Gibt an, ob der Text bei der Eingabe überschrieben wird. (Standard: <code>true</code>)</p>
</li>
<li>
<p><code>inputmaskClearOnBlur</code>: Gibt an, ob beim Verlassen des Feldes die Maskierungsplatzhalter ausgeblendet werden. (Standard: <code>true</code>)</p>
</li>
<li>
<p><code>showPicker</code>: Gibt an, ob der Kalender angezeigt wird. (Standard: <code>true</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Für den Datepicker wird ein <a href="../../../../glossary/latest/literaturextern/inhalt.html#litextern-eternicode-bootstrap-datepicker-docs" class="xref page">externes Plug-In</a> verwendet.
Das Bedienelement selbst bietet eine automatische Konfiguration des Plug-Ins sowie eine zum Rest der JSF-Bedienelemente einheitlich Schnittstelle.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dropdown-menue"><a class="anchor" href="#dropdown-menue"></a>6.6. Dropdown Menü</h3>
<div class="paragraph">
<p>Mit einem Dropdown Menü kann der Benutzer per Mausklick oder Tastatur-Bedienung genau einen Wert aus einer Liste von Optionen auswählen.</p>
</div>
<div class="paragraph">
<p>Ein Dropdown Menü wird über das Tag <code>&lt;isy:selectOneDropdown&gt;</code> eingebunden.
Für Formulareingaben existiert das Tag <code>&lt;isy:formSelectOneDropdown&gt;</code>.</p>
</div>
<div id="image-bildddropdownmenue" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Dropdown_Menue_Flyout.png" alt="Dropdown Menue Flyout">
</div>
<div class="title">Abbildung 20. Dropdown Menü (innerhalb einer Form)</div>
</div>
<div id="image-demopanelselectOneDropdown" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-selectOneDropdown.png" alt="demopanel selectOneDropdown">
</div>
<div class="title">Abbildung 21. WebGui-Demoanwendung: Dropdown Menü (außerhalb einer Form)</div>
</div>
<div class="paragraph">
<p>Folgende Parameter sind Pflicht:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding in der Auswahl</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Wert der ID</p>
</li>
<li>
<p><code>invalid</code>: Gibt an, ob die Auswahl invalide ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob die Auswahl deaktiviert ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>title</code>: Tooltip, der über der Auswahl angezeigt wird.</p>
</li>
<li>
<p><code>dropdownStyleClass</code>: Die CSS-Klasse des Dropdown Menüs. (Standard: leer)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
<li>
<p><code>converter</code>: Konverter-Bean für die angezeigten Elemente.</p>
</li>
<li>
<p><code>converterAttribute</code>: Attribut für den Konverter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Für das Bedienelement `&lt;isy:formSelectOneDropdown /&gt;`gibt es zusätzlich die folgenden Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>label</code>: Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse des Labels. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse des Eingabebereiches. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>dropdownStyleClass</code>: Die CSS-Klasse des Dropdown Menüs. (Standard: <code>form-selectonedropdown</code>)</p>
</li>
<li>
<p><code>showPrintView</code>: Spezifisches Flag zur Erkennung der Druckansicht. (Standard: <code>basisModel.showPrintView</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wenn JavaScript aktiviert ist, wird das Dropdown Menü über ein Bootstrap-Plugin dargestellt, ansonsten als natives Element.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tabs"><a class="anchor" href="#_tabs"></a>6.7. Tabs</h3>
<div class="paragraph">
<p>Tabs dienen der Strukturierung von Informationen und Reduktion der Anzahl gleichzeitig sichtbarer Inhaltsbereiche, wenn die Informationen schnell innerhalb des gleichen Fensters zugreifbar sein müssen.
Tabreiter verhalten sich entsprechend dem analogen Vorbild eines Karteireiters, der dazu dient, verschiedene Karteikarten voneinander zu trennen.
Tabs werden häufig dazu verwendet, um Eigenschaften eines Objekts in inhaltliche sinnvolle Gruppen aufzuteilen.</p>
</div>
<div id="image-bildtabs" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Tabs_Beispiel.png" alt="Tabs Beispiel">
</div>
<div class="title">Abbildung 22. Tabs</div>
</div>
<div class="paragraph">
<p>Tabs werden über die Tags <code>&lt;isy:tabGroup&gt;</code>, <code>&lt;isy:tabHeader&gt;</code> und <code>&lt;isy:tabContent&gt;</code> eingebunden.
Im Folgenden ein Beispiel:</p>
</div>
<div id="listing-tabgroup" class="listingblock">
<div class="title">Listing 50. Beispiel für Tabs</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:tabGroup tabGroupId="testTab" globalTabContentRefs="A P S" globalTab="A" defaultTab="A"
  tabGroupModel="#{jsfSteuerelementeModel.tabGroupModel}"&gt;

  &lt;f:facet name="tabHeader"&gt;
    &lt;isy:tabHeader value="Auskunft" name="A" /&gt;
    &lt;isy:tabHeader value="Personalien" name="P" /&gt;
    &lt;isy:tabHeader value="Sachverhalte" name="S" /&gt;
  &lt;/f:facet&gt;

  &lt;isy:tabContent name="A"&gt;Dies ist die Auskunft.&lt;/isy:tabContent&gt;
  &lt;isy:tabContent name="P"&gt;Dies sind Personalien.&lt;/isy:tabContent&gt;
  &lt;isy:tabContent name="S"&gt;Dies sind die Sachverhalte.&lt;/isy:tabContent&gt;

&lt;/isy:tabGroup&gt;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="isy-tabGroup"><a class="anchor" href="#isy-tabGroup"></a>6.7.1. Tab-Gruppe</h4>
<div class="paragraph">
<p>Zunächst wird die Tabgruppe mit dem Tag <code>&lt;isy:tabGroup&gt;</code> allgemein definiert.</p>
</div>
<div class="paragraph">
<p>Folgende Parameter sind Pflichtparameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tabGroupModel</code>: Model für die Tabgruppe, das im Maskenmodel liegen sollte. Muss vom Typ <code>TabGroupModel</code> sein.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tabGroupId</code>: Das Widget tabGroup.xhtml ist das Parent-Widget von tabHeader.xhtml.
Das Attribut tabGroupId wird zwar in tabGroup.xhtml nicht implementiert, ist aber als composite:attribute Deklaration unbedingt erforderlich, da von tabHeader.xhtml über cc.parent.attrs.tabGroupId darauf zugegriffen wird!</p>
</li>
<li>
<p><code>defaultTab</code>: Name des Default-Tabs, der beim ersten Anzeigen des Elements aktiv ist.</p>
</li>
<li>
<p><code>globalTab</code>: Der Name des globalen Tabs.</p>
</li>
<li>
<p><code>globalTabContentRefs</code>: Die Liste an Namen der Tabs, welche beim Anzeigen des globalen Tabs auch angezeigt werden sollen.</p>
</li>
<li>
<p><code>execute</code>: AJAX: Welcher Template-Seitenbereich ausgeführt werden soll.(Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>render</code>: AJAX: Welcher Template-Seitenbereich gerendert werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>scrollTabUpwards</code>: Bei Tabgruppen, die im unteren Maskenbereich dargestellt werden, wird oftmals der Inhalt der Tabs nicht vollständig angezeigt.
Setzt man den Parameter <code>scrollTabUpwards</code> auf <code>true</code>, dann wird die gesamte Tabgruppe beim Anklicken eines Tabellenreiters nach oben verschoben, sodass für den Anwender der TabContent maximal sichtbar wird. (Standard: <code>false</code>, Typ: <code>java.lang.Boolean</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls notwendig. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wenn JavaScript aktiviert ist, dann nutzen die Tabs beim Umschalten AJAX-Aufrufe.
Andernfalls wird beim Wechsel der Tabs die gesamte Seite neu geladen.</p>
</div>
</div>
<div class="sect3">
<h4 id="isy-tabHeader"><a class="anchor" href="#isy-tabHeader"></a>6.7.2. Tab-Header</h4>
<div class="paragraph">
<p>Einzelne Tab-Header werden mit dem Tag <code>&lt;isy:tabHeader&gt;</code> definiert.</p>
</div>
<div class="paragraph">
<p>Folgende Parameter sind Pflicht:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code>: Name des Tabs, für welchen dieser Header definiert ist</p>
</li>
<li>
<p><code>value</code>: Titel des Tabs zur Anzeige</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tabController</code>: Ein spezifischer Tab-Controller, falls notwendig. (Standard: <code>#{tabController}</code>)</p>
</li>
<li>
<p><code>tooltip</code>: Tooltip, der über der Auswahl angezeigt wird.</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls notwendig. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
<li>
<p><code>action</code>: Action, die beim Wechsel zwischen Tabs ausgeführt wird. (Standard: <code>tabController.changeTab(TabGroupModel model, String name)</code>). Die action kann überschrieben werden, um z.B. den aktuellen Reiter validieren zu können. (Standard: <code>#\{cc.attrs.tabController.changeTab(cc.parent.attrs.tabGroupModel,cc.attrs.name)}</code>)</p>
</li>
<li>
<p><code>skipAction</code>: Gibt an, ob die übergebene <code>action</code> ausgelassen werden soll. Default ist false, die <code>action</code> wird standardmäßig also ausgeführt. (Standard: <code>false</code>, Typ: <code>java.lang.Boolean</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="isy-tabContent"><a class="anchor" href="#isy-tabContent"></a>6.7.3. Tab-Inhalte</h4>
<div class="paragraph">
<p>Inhalte von Tabs werden mit dem Tag <code>&lt;isy:tabContent&gt;</code> definiert.</p>
</div>
<div class="paragraph">
<p>Folgende Parameter sind Pflicht:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code>: Name des Tabs, zu welchem dieser Inhalt gehört</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tabController</code>: Ein spezifischer Tab-Controller, falls notwendig. (Standard: <code>#{tabController}</code>)</p>
</li>
<li>
<p><code>preload</code>: Gibt an, ob das Tab im JS-Fall vorgeladen werden soll.
Default ist false, sodass nicht vorgeladen wird. (Standard: <code>false</code>, Typ: <code>java.lang.Boolean</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Wichtig"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Zwischen den beiden Attributen <code>preload</code> der Tab-Inhalte und <code>skipAction</code> der Tab-Header besteht eine wichtige Abhängigkeit.
Sie müssen immer den gleichen Wert aufweisen, ansonsten funktioniert der Tab nicht korrekt.</p>
</div>
<div class="paragraph">
<p>Das Attribut <code>preload</code> legt fest, ob der Inhalt des Tabs beim Laden der gesamten Seite vorgeladen werden soll.
Bei einem Wechsel zwischen vorgeladenen Tabs muss dann entsprechend kein Server-Aufruf stattfinden.
In diesem Fall darf aber die Action des Tab-Headers nicht ausgeführt werden, weil sonst doch ein Server-Aufruf stattfinden würde.
Dies würde sowohl unnötigen Netzwerkverkehr als auch unerwünschtes Verhalten bei der Tab-Auswahl hervorrufen.</p>
</div>
<div class="paragraph">
<p>Standardmäßig stehen beide Werte auf <code>false</code>.
Wenn das Vorladen gewünscht ist, müssen beide Werte explizit auf <code>true</code> gesetzt werden.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="liste-ueberschrift"><a class="anchor" href="#liste-ueberschrift"></a>6.8. Listen</h3>
<div class="paragraph">
<p>Listen werden benutzt, um eine überschaubare Anzahl an Daten oder Objekten eines Typus übersichtlich und vergleichbar darzustellen.</p>
</div>
<div id="image-listemitlistenkopf" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Liste_mit_Listenkopf.png" alt="Liste mit Listenkopf">
</div>
<div class="title">Abbildung 23. Liste mit Listenkopf</div>
</div>
<div class="paragraph">
<p>Für eine Liste mit Einfachauswahl gibt es die Tags <code>&lt;isy:selectOneList&gt;</code> bzw. <code>&lt;isy:formSelectOneList&gt;</code>.
Für eine Liste mit Mehrfachauswahl stehen die Tags <code>&lt;isy:selectManyList&gt;</code> bzw. <code>&lt;isy:formSelectManyList&gt;</code> zur Verfügung.</p>
</div>
<div class="paragraph">
<p>Folgende Parameter sind Pflicht:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding in der Auswahl</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>disabled</code>: Gibt an, ob die Liste deaktiviert ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>size</code>: Anzahl der Zeilen, die sichtbar sind</p>
</li>
<li>
<p><code>checkboxed</code>: Gibt an, ob neben dem Highlighting ebenfalls Checkboxen angezeigt werden. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>selectlistStyleClass</code>: Die CSS-Klasse für die Liste.</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Für die Elemente innerhalb von Formularen gibt es zusätzlich die folgenden Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>label</code>: Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse des Labels. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse des Eingabebereiches. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_list_picker_objektauswahl"><a class="anchor" href="#_list_picker_objektauswahl"></a>6.8.1. List Picker (Objektauswahl)</h4>
<div class="paragraph">
<p>Der List Picker kann den Benutzer bei der Auswahl bestimmter Objekte unterstützen, in dem weitere Zusatzinformationen die Identifikation von Werten vereinfachen.</p>
</div>
<div class="paragraph">
<p>Ein List Picker wird über das Tag <code>&lt;isy:formListpicker&gt;</code> eingebunden.</p>
</div>
<div class="paragraph">
<p>Folgende Parameter sind Pflicht:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>label</code>: Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse des Labels. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse des Eingabebereiches. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>placeholder</code>: Platzhalter, welcher im Eingabefeld angezeigt wird. (Standard: <code>TT.MM.JJJJ</code>)</p>
</li>
<li>
<p><code>inputmask</code>: Eingabemaske</p>
</li>
<li>
<p><code>inputmaskInsertMode</code>: Gibt an, ob der Text bei der Eingabe überschrieben wird. (Standard: <code>true</code>)</p>
</li>
<li>
<p><code>minWidth</code>: Die Mindestbreite. (Standard: 0)</p>
</li>
<li>
<p><code>maxHeight</code>: Die maximale Höhe. (Standard: 200)</p>
</li>
<li>
<p><code>tooltip</code>: Tooltip, der über dem Button angezeigt wird.</p>
</li>
<li>
<p><code>title</code>: Tooltip, der über dem Eingabefeld angezeigt wird.</p>
</li>
<li>
<p><code>listpickerModel</code>: Model für den List Picker, abgleitet von <code>ListpickerModel</code></p>
</li>
<li>
<p><code>listpickerController</code>: Controller für den List Picker, abgeleitet von <code>ListpickerController</code></p>
</li>
<li>
<p><code>ajaxLoading</code>: Gibt an, ob Items dynamisch nachgeladen werden. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>ajaxForm</code>: ID des Formulars, welches für das dynamische Nachladen von Items verwendet wird</p>
</li>
<li>
<p><code>servletUrl</code>: Alternative zu ajaxLoading. Wenn dieser Parameter gesetzt ist, werden die Items über ein Servlet und nicht über Ajax nachgeladen. Was hierbei zu beachten ist, wird weiter unten genauer beschrieben.</p>
</li>
<li>
<p><code>header</code>: sortierte Liste der Spaltenüberschriften</p>
</li>
<li>
<p><code>inputComplement</code>: Nummer der Spalte, dessen Inhalt per JavaScript im Eingabefeld ergänzt werden soll. (Standard: 0 = deaktiviert)</p>
</li>
<li>
<p><code>useAutocomplete</code>: Gibt an, ob Eingaben automatisch vervollständigt werden. (Standard: <code>true</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Falls JavaScript nicht aktiviert ist, dann wird statt dem List Picker ein einfaches <a href="#dropdown-menue">Dropdown Menü</a> angezeigt.</p>
</div>
<div class="paragraph">
<p>Beispiel für die Integration eines List-Pickers (ohne Ajax):</p>
</div>
<div id="listing-listpickerOhneAjax" class="listingblock">
<div class="title">Listing 51. Listpicker ohne Ajax</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:formListpicker
  reference="anfrageIdentifikation.gruppe"
  inputmask="99"
  listpickerModel="#{identifikationModel.gruppeListpickerModel}"
  listpickerController="#{behoerdeHelper.gruppeListpickerController}"
  label="#{msg.MEL_Identifikation_Gruppe}"
  value="#{identifikationModel.anfrageIdentifikation.gruppe}"
  header="#{msg.MEL_Identifikation_Gruppe_Listpicker_Nummer},
          #{msg.MEL_Identifikation_Gruppe_Listpicker_Name} "/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Das spezifische <code>ListpickerModel</code> enthält die Liste an Items, welche dargestellt werden sollen.
Die Filterung der Items geschieht automatisch über JavaScript.
Falls die Liste an Items zu groß wird, besteht die Möglichkeit die Auswahl über AJAX nachzuladen.
Dazu können die Attribute <code>ajaxLoading="true"</code> und <code>ajaxForm="gruppeListpickerAjaxForm"</code> ergänzt werden.
Zusätzlich muss im View State das entsprechende Form Element ergänzt werden:</p>
</div>
<div id="listing-listpickerAjaxForm" class="listingblock">
<div class="title">Listing 52. ListpickerAjaxForm</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ui:define name="form"&gt;
   &lt;h:form id="gruppeListpickerAjaxForm"&gt;
      &lt;isy:formListpickerAjaxContent
      listpickerModel="#{identifikationModel.gruppeListpickerModel}" /&gt;
   &lt;/h:form&gt;
&lt;/ui:define&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Über das <code>&lt;ui:define&gt;</code> lassen sich Form-Elemente im Basis-Layout integrieren.
Das Tag <code>&lt;isy:formListpickerAjaxContent&gt;</code> lädt die entsprechend ListpickerItems in das Formular.
Das Formular an sich ist nicht sichtbar.
Das JavaScript Plugin übernimmt das entsprechende Laden der Elemente in den Listpicker.
Die Filterung der Elemente kann im spezifischen <code>ListpickerController</code> definiert werden.</p>
</div>
</div>
<div class="sect3">
<h4 id="_behörden_picker"><a class="anchor" href="#_behörden_picker"></a>6.8.2. Behörden Picker</h4>
<div class="paragraph">
<p>Für die Auswahl von Behörden existiert bereits ein fertiger Behörden Picker (<code>&lt;isy:formBehoerdeListpicker&gt;</code>), welcher den normalen Listpicker instanziiert.
Der Behördenlistpicker ist ein AJAX Listpicker, d.h. der Parameter <code>ajaxForm</code> muss gesetzt sein.
Als Dropdown zeigt er eine zweispaltige Tabelle mit Behördenkennzeichen und Namen der Behörde an, auf welcher gefiltert werden kann.</p>
</div>
<div class="paragraph">
<p>Der Behörden Picker besitzt keine zusätzlichen Parameter gegenüber <code>&lt;isy:formListpicker&gt;</code>, definiert jedoch einen eigenen Controller, von dem abgeleitet werden muss (<code>AbstractBehoerdeListpickerController</code>), und ein eigenes Model (<code>BehoerdeListpickerModel</code>).</p>
</div>
</div>
<div class="sect3">
<h4 id="_list_picker_mit_servlet"><a class="anchor" href="#_list_picker_mit_servlet"></a>6.8.3. List Picker mit Servlet</h4>
<div class="paragraph">
<p>Damit ein List Picker über ein Servlet gefiltert werden kann, muss JavaScript aktiviert sein.
Ansonsten steht die Funktionalität nicht zur Verfügung.
Im Folgenden wird beschrieben, welche Schritte durchzuführen sind, damit ein Listpicker über ein Servlet gefiltert werden kann.</p>
</div>
<div id="listing-listpickerMitServlet" class="listingblock">
<div class="title">Listing 53. Listpicker mit Servlet-Filterung</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:formListpicker
  reference="anfrageIdentifikation.gruppe"
  inputmask="99"
  listpickerModel="#{identifikationModel.gruppeListpickerModel}"
  listpickerController="#{behoerdeHelper.gruppeListpickerController}"
  label="#{msg.MEL_Identifikation_Gruppe}"
  value="#{identifikationModel.anfrageIdentifikation.gruppe}"
  header="#{msg.MEL_Identifikation_Gruppe_Listpicker_Nummer},
          #{msg.MEL_Identifikation_Gruppe_Listpicker_Name} "
  servletUrl="/app/listpicker" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Entscheidend ist der Parameter <code>servletUrl</code>.
Erstens wird anhand des Vorhandenseins des Parameters erkannt, dass ein Servlet zum Filtern benutzt werden soll und nicht etwa Ajax.
Zweitens muss der Wert des Parameters sich in der Konfiguration des HandlerServlets wiederfinden.</p>
</div>
<div id="listing-beispielEinbindungServlet" class="listingblock">
<div class="title">Listing 54. Beispielhafte HandlerServlet-Konfiguration</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    // Bean, die AbstractListpickerProviderRequestHandler implementiert
    @Bean
    ListpickerProviderRequestHandler listpickerProviderRequestHandler() {
        return new ListpickerProviderRequestHandler();
    }

    //Registrierung des Servlets
    @Bean
    public ServletRegistrationBean&lt;HttpRequestHandlerServlet&gt; listPickerServletBean() {
        ServletRegistrationBean&lt;HttpRequestHandlerServlet&gt; bean = new ServletRegistrationBean&lt;&gt;(
            new HttpRequestHandlerServlet(), "/app/listpicker/*"
        );
        bean.setName("listpickerProviderRequestHandler");
        bean.setLoadOnStartup(1);
        return bean;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Der Parameter <code>servletUrl</code> hat hier beispielsweise den Wert "/app/listpicker" und das Servlet erfasst laut Eintrag in der Konfiguration alle Requests, deren URL auf das Pattern "/app/listpicker/*" passen.
Auf diese Weise ist die Verknüpfung zwischen List Picker und Servlet hergestellt.</p>
</div>
<div class="paragraph">
<p>Die konkrete Implementierung des <code>HttpRequestHandler</code> muss von der jeweiligen Anwendung selbst bereitgestellt werden.
Hierzu sollte von der Klasse <code>AbstractListpickerProviderRequestHandler</code> geerbt werden.
In dem obigen Beispiel heißt die Bean der Implementierung <code>listpickerProviderRequestHandler</code>.</p>
</div>
<div class="sect4">
<h5 id="_hinweise_zur_funktionsweise"><a class="anchor" href="#_hinweise_zur_funktionsweise"></a>6.8.3.1. Hinweise zur Funktionsweise</h5>
<div class="paragraph">
<p>Folgende grundlegende Funktionalität wird durch die Komponente <em>automatisch</em>, also ohne weiteres Zutun, bereitgestellt: Per JavaScript werden Eingaben im Filter-Feld des Listpickers erkannt.
Der aktuell eingegebene Wert wird der URL (siehe <code>servletUrl</code>) angefügt (Beispiel: Anwender filtert nach "123".
Dann wird die URL um <code>?filter=123</code> ergänzt) und der Request wird anschließend abgesetzt und vom Servlet behandelt.
Die eigentliche Filterlogik obliegt dann der konkreten Implementierung.
Den Wert des Filter-Feldes erhält sie jedoch von der abstrakten Oberklasse.
Nachdem die Einträge gefiltert wurden, werden sie automatisch mittels JavaScript gerendert.</p>
</div>
<div class="paragraph">
<p>Es kann vorkommen, dass die Filterung nicht nur von dem Wert des Filter-Feldes abhängt.
Es ist z.B. denkbar, dass die Filterung zusätzlich die Auswahl eines gänzlich anderen Feldes innerhalb des Formulars berücksichtigen soll.
In dieser Situation würde es also nicht genügen, den Wert des Filter-Feldes in der URL zu codieren und zu übertragen.
Zusätzlich benötigte Parameter können frei gewählt werden und müssen einfach der URL hinzugefügt werden.
Ein Beispiel:</p>
</div>
<div id="listing-listpickerMitServletWeitererPara" class="listingblock">
<div class="title">Listing 55. Servlet-URL mit weiteren Filter-Parametern</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:formListpicker
  servletUrl="/app/listpicker?weitererFilterParameter1={#eingabeModel.weitererFilterParameter1}&amp;weitererFilterParameter2={#eingabeModel.weitererFilterParameter2}" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In dem Beispiel werden zwei zusätzliche Parameter zur Filterung benötigt (<code>weitererFilterParameter1</code> und <code>weitererFilterParameter2</code>). Ihre Bezeichnung und woher sie bezogen werden, kann beliebig festgelegt werden.
Wichtig ist lediglich, dass die konkrete Implementierung des Servlets die Bezeichnungen kennt und diese der Oberklasse über die entsprechende Methode bekannt macht.
Unabhängig von etwaigen zusätzlichen Filter-Parametern wird der Wert des Filter-Feldes des Listpicker immer übertragen.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tabelle-ueberschrift"><a class="anchor" href="#tabelle-ueberschrift"></a>6.9. Tabelle</h3>
<div class="paragraph">
<p>Eine Tabelle dient der übersichtlichen Anzeige von größeren Datenmengen.
Die Tabelle besteht aus mehreren Informationsspalten, die zur Sortierung verwendet werden können.</p>
</div>
<div id="image-einfuehrungeinertabelle" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Tabelle_Einfuehrung.png" alt="Tabelle Einfuehrung">
</div>
<div class="title">Abbildung 24. Tabelle</div>
</div>
<div id="image-interaktivezeilen" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Tabelle_Zustaende_Zeilen.png" alt="Tabelle Zustaende Zeilen">
</div>
<div class="title">Abbildung 25. Tabelle – Zustände interaktiver Zeilen</div>
</div>
<div class="paragraph">
<p>Die Umsetzung der Tabelle unterscheidet sich grundsätzlich zu Widgets wie der von JSF bereitgestellten <code>&lt;h:dataTable&gt;</code>. Die <code>&lt;isy:dataTable&gt;</code> ist näher am Layout einer eigentlichen Tabelle aufgebaut und dadurch flexibler nutzbar (z.B. dynamische Anzahl an Spalten).
Dafür ist jedoch auch ein größerer Implementierungsaufwand erforderlich.</p>
</div>
<div class="paragraph">
<p>Es existieren folgende Tags zur Konfiguration der <code>&lt;isy:dataTable&gt;</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;isy:dataTable&gt;</code></p>
</li>
<li>
<p><code>&lt;isy:dataTableHeader&gt;</code></p>
</li>
<li>
<p><code>&lt;isy:dataTableRowAllSelection&gt;</code></p>
</li>
<li>
<p><code>&lt;isy:dataTableRows&gt;</code></p>
</li>
<li>
<p><code>&lt;isy:dataTableCell&gt;</code></p>
</li>
<li>
<p><code>&lt;isy:dataTableDetailButton&gt;</code></p>
</li>
<li>
<p><code>&lt;isy:dataTableRowSelection&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Beispiel für die Definition einer <code>&lt;isy:dataTable&gt;</code>:</p>
</div>
<div id="listing-dataTable" class="listingblock">
<div class="title">Listing 56. Beispiel für <code>&lt;isy:dataTable&gt;</code> Verwendung</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:dataTable
  dataTableModel="#{...}"
  dataTableController="#{...}"
  action="trefferlisteDoppelklick"&gt;

  &lt;f:facet name="tableToolbar"&gt;
    &lt;isy:buttonGroup&gt;
       &lt;isy:buttonToolbar /&gt;
    &lt;/isy:buttonGroup&gt;
  &lt;/f:facet&gt;

  &lt;f:facet name="tableHeader"&gt;
    &lt;isy:dataTableHeader name="Vorname" /&gt;
    &lt;isy:dataTableHeader name="Nachname" /&gt;
    &lt;isy:dataTableHeader name="Aktionen" /&gt;
  &lt;/f:facet&gt;

  &lt;isy:dataTableRows
      rowDefinition="/WEB-INF/gui/.../rowDefinition.xhtml"
      detailDefinition="/WEB-INF/gui/.../detailDefinition.xhtml" /&gt;

&lt;/isy:dataTable&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die grundlegende Basis für eine Tabelle bildet das Tag <code>&lt;isy:dataTable&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Folgende Facets können innerhalb des Tags verwendet werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tableToolbar</code>: Das Facet umschließt eine Liste von Buttons in der Toolbar der Tabelle, siehe auch <a href="#facet-tableToolbar">JSF-Facet tableToolbar</a></p>
</li>
<li>
<p><code>tableHeader</code>: Das Facet umschließt eine Liste von Überschriften im Kopfbereich der Tabelle, siehe auch <a href="#facet-tableHeader">JSF-Facet tableHeader</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Folgende Parameter sind Pflicht:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>dataTableModel</code>: Model für die Tabelle, das im Maskenmodel liegen muss.
Muss vom Typ <code>DataTableModel</code> sein und eine Liste von Datensätzen (Items) zur Anzeige beinhalten.</p>
</li>
<li>
<p><code>dataTableController</code>: Der zugehörige, spezifische Controller.
Der Controller stellt z.B. Funktionalität zur Suche bereit.
Muss vom Typ <code>DataTableController</code> sein.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>jsSortFunction</code>: Eine Sortierfunktion, welche direkt auf dem Client ausgeführt werden kann.</p>
</li>
<li>
<p><code>selectable</code>: Gibt an, ob die Datatable selektierbar ist oder nicht.
Diese Information wird benötigt, um das JavaScript Plug-In zu konfigurieren. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>selectionMode</code>: Der Modus für die Selektierung. Entweder 'single' oder 'multiple'. (Standard: <code>multiple</code>)</p>
</li>
<li>
<p><code>detailMode</code>: Der Modus für die Detailansicht. Entweder 'single' oder 'multiple'. (Standard: <code>multiple</code>)</p>
</li>
<li>
<p><code>action</code>: Die Aktion, welche beim Doppelklick auf eine Zeile ausgeführt wird.</p>
</li>
<li>
<p><code>execute</code>: AJAX: Welcher Template-Seitenbereich ausgeführt werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>render</code>: AJAX: Welcher Template-Seitenbereich gerendert werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>highlightDoubleclick</code>: Gibt an, ob Zeilen bei einem Doppelklick hervorgehoben werden sollen. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>tableId</code>: Tabelle ID. (Standard: <code>tableId</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Die spezifische globale Konfiguration, falls notwendig. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
<li>
<p><code>showMore</code>: Gibt an, ob ein Button zum Anzeigen von mehr Spalten angezeigt werden soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>styleClass</code>: Die zu ergänzenden Style-Klassen.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="facet-tableToolbar"><a class="anchor" href="#facet-tableToolbar"></a>6.9.1. JSF-Facet tableToolbar</h4>
<div class="paragraph">
<p>Im JSF-Facet <code>tableToolbar</code> werden Listen von <code>&lt;isy:buttonGroup&gt;</code> Tags erwartet.
Die Listen können jeweils Elemente der Typen <code>&lt;isy:buttonToolbar&gt;</code> (siehe <a href="#button-toolbar">
Button Toolbar</a>) und <code>&lt;isy:buttonToggle&gt;</code> (siehe <a href="#toggle-button">Toggle Button</a>) enthalten.</p>
</div>
<div class="paragraph">
<p>Folgende optionale Parameter gibt es für die Toolbar:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>alignLeft</code>: Gibt an, ob die Toolbar linksbündig ausgerichtet ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>alignRight</code>: Gibt an, ob die Toolbar rechtsbündig ausgerichtet ist. (Standard: <code>false</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="facet-tableHeader"><a class="anchor" href="#facet-tableHeader"></a>6.9.2. JSF-Facet tableHeader</h4>
<div class="paragraph">
<p>Im JSF-Facet <code>tableHeader</code> wird eine Liste von <code>&lt;isy:dataTableHeader&gt;</code> Tags erwartet.
Ein Tag entspricht dabei einem Titel einer Spalte.</p>
</div>
<div class="paragraph">
<p>Folgende optionale Parameter gibt es für einen Header:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code>: Header-Name / Spaltenüberschrift</p>
</li>
<li>
<p><code>sortable</code>: Gibt an, ob die Spalte sortierbar ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>hidden</code>: Gibt an, ob die Spalte ausgeblendet ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>sortProperty</code>: Attribut der Datensätze (Items), nach dem sortiert wird</p>
</li>
<li>
<p><code>width</code>: Breite der Spalte</p>
</li>
<li>
<p><code>title</code>: Tooltip, der über der Spalte angezeigt wird. (Standard: '')</p>
</li>
<li>
<p><code>align</code>: horizontale Ausrichtung der Spaltenüberschrift</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="dataTableRows"><a class="anchor" href="#dataTableRows"></a>6.9.3. Zeilen einer Tabelle</h4>
<div class="paragraph">
<p>Die Zeilen der Tabelle werden mit dem Tag <code>&lt;isy:dataTableRows&gt;</code> definiert.
Hier steht der eigentliche Inhalt der Datatable.
Dieses Tag sollte nach den Headern in den Body der Data-Table geschrieben werden.</p>
</div>
<div class="paragraph">
<p>Folgende optionale Parameter sind zulässig:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rowDefinition</code>: Pfad zur XHTML-Seite für die Definition des Zeilenaufbaues. Wird mehrfach inkludiert.</p>
</li>
<li>
<p><code>detailDefinition</code>: Pfad zur XHTML-Seite für die Detailansicht. Diese kann zusätzliche Datenfelder zur Zeile enthalten.</p>
</li>
<li>
<p><code>preloadingSize</code>: Die Anzahl an Elementen, die im JavaScript Modus für die Detailansicht vorgeladen werden. (Standard: <code>0</code>, Typ: <code>java.lang.Integer</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls benötigt. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
</ul>
</div>
<div id="listing-rowdefinition" class="listingblock">
<div class="title">Listing 57. Beispiel einer Row-Definition</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ui:composition&gt;

  &lt;isy:dataTableCell&gt;#{dataTableItem.vorname}&lt;/isy:dataTableCell&gt;
  &lt;isy:dataTableCell&gt;#{dataTableItem.nachname}&lt;/isy:dataTableCell&gt;
  &lt;isy:dataTableCell&gt;
    &lt;isy:dataTableDetailButton dataTableModel="#{...}" /&gt;
  &lt;/isy:dataTableCell&gt;

&lt;/ui:composition&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die Row-Definition wird für jeden Datensatz in der Tabelle eingebunden.
Der UI-Parameter <code>dataTableItem</code> weist immer auf den aktuellen Treffer (also ein Objekt des Typs <code>DataTableItem</code>).
Mit diesem Parameter können dann für jede Spalte die <code>&lt;isy:dataTableCell&gt;</code> Tags eingebunden werden.
Die Inhalte dieser Tags repräsentieren den Inhalt der jeweiligen Zellen.
Die Reihenfolge der Spalten werden durch die Definition des Tabellen-Headers festgelegt.</p>
</div>
</div>
<div class="sect3">
<h4 id="dataTableCell"><a class="anchor" href="#dataTableCell"></a>6.9.4. Zellen einer Tabellenzeile</h4>
<div class="paragraph">
<p>Das Tag <code>&lt;isy:dataTableCell&gt;</code> hat derzeit folgende Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>hidden</code>: Gibt an, ob die Spalte angezeigt werden soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>id</code>: Identifier.</p>
</li>
<li>
<p><code>sortData</code>: Optionales Feld für die clientseitige Sortierung, falls nicht nach dem Inhalt sortieren werden soll, z.B. bei Datum</p>
</li>
<li>
<p><code>filterData</code>: Damit Client- und Server-Mode konsistent sind, sollte hier die sortProperty des Headers angegeben werden</p>
</li>
<li>
<p><code>align</code>: Gibt die horizontale Ausrichtung des Inhalts der Tabellenzelle an.
Mögliche Werte sind left, right und center. (Standard: <code>left</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die Einbindung der Row-Definition erfolgt über das JSF Tag <code>&lt;ui:repeat&gt;</code>.
Als Statusvariable wird <code>dataTableItemRepeatStatus</code> verwendet.
Auch auf diese Variable kann innerhalb der Row-Definition zugegriffen werden.</p>
</div>
<div class="paragraph">
<p>Zur Vereinfachung des Aufrufs der Detailansicht wird das Tag <code>&lt;isy:dataTableDetailButton&gt;</code> angeboten.
Dieses Tag rendert einen Button und öffnet die Detailansicht eines Treffers.
Die Detailansicht eines Treffers befindet sich an der im Tag <code>&lt;isy:dataTableRows&gt;</code> angegebenen Stelle.</p>
</div>
<div id="listing-detaildefinition" class="listingblock">
<div class="title">Listing 58. Beispiel einer Detail-Definition</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;ui:composition&gt;
  &lt;td colspan="2"&gt;
    &lt;div class="form-horizontal readonly"&gt;
      &lt;div class="row"&gt;
        &lt;div class="col col-lg-6"&gt;
          &lt;isy:formLabel reference="aktenzeichen"
             value="#{dataTableItem.aktenzeichen}"
             label="#{msg_currentflow.MEL_Trefferliste_Aktenzeichen}"/&gt;
          &lt;isy:formLabel reference="ordnungsnummer"
             value="#{dataTableItem.ordnungsnummer}"
             label="#{msg_currentflow.MEL_Trefferliste_Ordnungsnummer}"/&gt;
          &lt;isy:formLabel reference="speicherungsdatum"
             value="#{dataTableItem.speicherungsdatum}"
             label="#{msg_currentflow.MEL_Trefferliste_Speicherungsdatum}"/&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/td&gt;
&lt;/ui:composition&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die Detail-Definition enthält beliebigen Inhalt.
Im Beispiel ist dies ein Formular mit der Ausgabe von drei Labels in der linken Hälfte der Tabelle.
Analog zur Row-Definition kann auf den aktuellen Treffer über die UI-Parameter <code>dataTableItem</code> und <code>dataTableItemRepeatStatus</code> zugegriffen werden.</p>
</div>
<div class="paragraph">
<p>Die weiteren Abschnitte beschreiben weiterführende Aspekte wie Filterung, Sortierung und das Selektionsverhalten von Tabellen.</p>
</div>
</div>
<div class="sect3">
<h4 id="_filterung_in_einer_tabelle"><a class="anchor" href="#_filterung_in_einer_tabelle"></a>6.9.5. Filterung in einer Tabelle</h4>
<div class="paragraph">
<p>Zur Filterung einer Tabelle stehen das Facet <code>&lt;f:tableFilter&gt;</code>, die Tags <code>&lt;isy:dataTableFilter&gt;</code> und <code>&lt;isy:dataTableFilterCleaner&gt;</code> sowie das dazugehörige <code>DataTableFilterModel</code> bereit.</p>
</div>
<div class="paragraph">
<p>Im Allgemeinen muss beim Tag <code>&lt;isy:dataTableFilter&gt;</code> nur die Eigenschaft angegeben werden, nach der man filtern will.
Damit wird ein normales Eingabefeld für die Filterung zur verfügung gestellt.
Es gibt auch die Möglichkeit die Filterung über ein Dropdown Menü zu ermöglichen.
Dafür müssen die möglichen Einträge im Tag verschachtelt angegeben werden.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Es ist besonders wichtig, dass die Anzahl der Spalten im Header, der Filter-Zeile und den Zeilen der Datensätze übereinstimmen.
Dieser Zusammenhang wird mittels JavaScript überprüft.
Spalten, die nicht gefiltert werden sollen (bzw. können), werden mittels des Tags <code>&lt;isy:dataTableFilter&gt;</code> ohne Attribute beschrieben.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="listing-bspTableFilter" class="listingblock">
<div class="title">Listing 59. Beispiel für die Filterung einer Tabelle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;f:facet name="tableFilter"&gt;
  &lt;!-- Platzhalter für eine Spalte, die z.B. Checkboxen enthält --&gt;
  &lt;isy:dataTableFilter /&gt;
  &lt;isy:dataTableFilter property="anrede" dropdown="true"&gt;
    &lt;f:selectItem itemValue="" itemLabel="Wählen Sie aus:" /&gt;
    &lt;f:selectItems value="#{dropdownHelper.anredeListe}" /&gt;
  &lt;/isy:dataTableFilter&gt;
  &lt;isy:dataTableFilter property="vorname" /&gt;
  &lt;isy:dataTableFilter property="nachname" /&gt;
  &lt;isy:dataTableFilter property="geburtsdatum" /&gt;
  &lt;isy:dataTableFilterClearer /&gt;
&lt;/f:facet&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Kein JavaScript</strong></p>
</div>
<div id="nojs2" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/no-js.png" alt="no js">
</div>
<div class="title">Abbildung 26. Kein Javascript</div>
</div>
<div class="paragraph">
<p>Die Komfortfunktionen der Filter-Zeile können ohne JavaScript nicht zur Verfügung gestellt werden.
Die Filter-Zeile ist in diesem Fall nicht vorhanden und wird auch nicht angezeigt.</p>
</div>
<div class="paragraph">
<p>Die Komponente &lt;isy:dataTableFilter&gt; hat folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>property</code>: Die Property, die gefiltert werden soll, i.A. gleich zur sortProperty im zugehörigen Header, falls nicht angegeben wird einfach eine Platzhalter-Spalte generiert. (Standard: ``)</p>
</li>
<li>
<p><code>dropdown</code>: Gibt an, ob eine Auswahlliste zur Filterung angezeigt werden soll, falls ja müssen die Einträge mittels selectItem(s) angegeben werden. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>clearFilterTooltip</code>: Tooltip, der über dem Icon "clear-filter" angezeigt werden soll. (Standard: <code>Filter aufheben</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>&lt;isy:dataTableFilterClearer&gt; -  Tooltip, der über dem Icon "clear-all-filter" angezeigt werden soll.</p>
</div>
<div class="paragraph">
<p>Die Komponente hat folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tooltip</code>: Tooltip, der über dem Icon "clear-all-filter" angezeigt werden soll. (Standard: <code>Alle Filter aufheben</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="sortierung-tabelle"><a class="anchor" href="#sortierung-tabelle"></a>6.9.6. Sortierung in einer Tabelle</h4>
<div class="paragraph">
<p>Tabellen bieten Möglichkeiten zur Sortierung an.
Dazu können die einzelnen Spalten-Header über das <code>&lt;isy:dataTableHeader&gt;</code> Tag entsprechend konfiguriert werden.</p>
</div>
<div class="paragraph">
<p>Wenn eine Tabellenspalte auf- bzw. absteigend sortierbar ist, dann wird dies durch zwei kleine Pfeil-Icon-Dreiecke dargestellt.
Wählt der Anwender eine Spalte zum Sortieren aus, dann wird entsprechend der ausgewählten Sortierrichtung das jeweilige Icon dargestellt.
In der folgenden Abbildung sind die Spalten <code>Vorname, Loginname und "#"</code> als sortierbar erkennbar.
Die Spalte <code>Nachname</code> ist abwärts-sortiert, dargestellt durch das nach unten gerichtete Dreiecks-Icon.</p>
</div>
<div id="image-tabellesortierungimkopf" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-dataTableHeader.png" alt="demopanel dataTableHeader">
</div>
<div class="title">Abbildung 27. Tabelle – Sortierungs-Indikator im Tabellenkopf</div>
</div>
<div class="paragraph">
<p>Durch Angabe von <code>sortable="true"</code> und dem Attribut <code>sortProperty</code> werden automatisch Buttons und Symbole zur Sortierung hinzugefügt.
Beim Initialisieren des Models muss der Operationsmodus (<code>SERVER</code> oder <code>CLIENT</code>) gesetzt werden: <code>model.setMode(DatatableOperationMode.SERVER)</code>.
Im Modus <code>CLIENT</code> erfolgt die Sortierung automatisch per JavaScript.
Im Modus <code>SERVER</code> wird die Methode <code>DataTableController.updateDisplayItems(&#8230;&#8203;)</code> aufgerufen, welche die Tabelleneinträge filtert sowie sortiert und anschließend seitenweise anzeigt.</p>
</div>
<div id="listing-dataTableHeader2" class="listingblock">
<div class="title">Listing 60. Beispiel für dataTableHeader</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:dataTableHeader name="#{...}" sortable="true" sortProperty="vorname"/&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="selektionsverhalten-tabelle"><a class="anchor" href="#selektionsverhalten-tabelle"></a>6.9.7. Selektionsverhalten in einer Tabelle</h4>
<div class="paragraph">
<p>Um die Selektion von Zeilen zu ermöglichen, müssen folgende Konfigurationen durchgeführt werden:</p>
</div>
<div class="paragraph">
<p><strong>Tabellen-Definition:</strong> In der Tabellen-Definition (<code>&lt;isy:dataTable&gt;</code>) muss das Attribut <code>selectable="true"</code> gesetzt sein. Der Selektierungsmodus (einzeln, mehrere) wird über das Attribut <code>selectionMode</code> gesteuert.</p>
</div>
<div class="paragraph">
<p><strong>Header-Definition:</strong> In der Header-Definition muss ein <code>&lt;isy:dataTableHeader&gt;</code> Tag an erster Stelle mit folgender Definition aufgenommen werden:</p>
</div>
<div id="listing-zeilenselektion1" class="listingblock">
<div class="title">Listing 61. Zeilenselektion Schritt 1</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:dataTableHeader&gt;
  &lt;isy:dataTableRowAllSelection /&gt;
&lt;/isy:dataTableHeader&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Row-Definition:</strong> In der Row-Definition muss ein <code>&lt;isy:dataTableCell&gt;</code> Tag an erster Stelle mit folgender Definition aufgenommen werden:</p>
</div>
<div id="listing-zeilenselektion2" class="listingblock">
<div class="title">Listing 62. Zeilenselektion Schritt 2</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;isy:dataTableCell&gt;
  &lt;isy:dataTableRowSelection /&gt;
&lt;/isy:dataTableCell&gt;</code></pre>
</div>
</div>
<div id="image-tabellemehrfachselektion" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Tabelle_Mehrfachselektion.png" alt="Tabelle Mehrfachselektion">
</div>
<div class="title">Abbildung 28. Tabelle – Mehrfachselektion über STRG Taste &amp; Maus</div>
</div>
<div id="image-tabellemehrfachselektioncheckbox" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Tabelle_Mehrfach_Checkbox.png" alt="Tabelle Mehrfach Checkbox">
</div>
<div class="title">Abbildung 29. Tabelle – Mehrfachselektion über Checkboxen</div>
</div>
<div id="image-textlinkkennzeichen" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Textlink_Kennzeichnung_Objekt.png" alt="Textlink Kennzeichnung Objekt">
</div>
<div class="title">Abbildung 30. Textlink zur Kennzeichnung eines Objektes</div>
</div>
</div>
<div class="sect3">
<h4 id="grosse-datenmengen-tabelle"><a class="anchor" href="#grosse-datenmengen-tabelle"></a>6.9.8. Große Datenmengen in einer Tabelle</h4>
<div class="paragraph">
<p>Tabellen können sehr viele Daten enthalten und gegebenenfalls sehr lang werden.
Um dem Benutzer den Umgang mit solchen Tabellen zu vereinfachen, werden zunächst nicht alle Daten initial in der Tabelle angezeigt.
Über einen <em>Mehr anzeigen</em> Button oder einen Paginator kann der Benutzer sich bei Bedarf mehr Daten anzeigen lassen.</p>
</div>
<div id="image-tabelleohnepaginator" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Tabelle_Button_MehrAnzeigen.png" alt="Tabelle Button MehrAnzeigen">
</div>
<div class="title">Abbildung 31. Tabelle mit <em>Mehr anzeigen</em> Button</div>
</div>
<div class="paragraph">
<p>Die Implementierung einer Paginierung erfolgt über das Facet <code>&lt;f:tablePagination&gt;</code>, das Tag <code>&lt;t:dataTablePaginator&gt;</code> und das dazugehörige <code>DataTablePaginationModel</code>.
Die Paginierung wird beim Initialisieren des <code>DataTableModel</code> im Controller konfiguriert:</p>
</div>
<div id="listing-implPaginierung" class="listingblock">
<div class="title">Listing 63. Implementierung Paginierung</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public void initialisiereModel(DataTableModel model) {
   model.getPaginationModel().setPageSize(3);
   model.getPaginationModel().setMode(PaginationMode.SIMPLE);
   updateDisplayItems(model);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In der View setzt folgendes Facet die Paginierung um:</p>
</div>
<div id="listing-implPaginierungView" class="listingblock">
<div class="title">Listing 64. Implementierung Paginierung in der View</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;f:facet name="tablePagination"&gt;
  &lt;isy:dataTablePaginator /&gt;
&lt;/f:facet&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>&lt;isy:dataTablePaginator&gt;</code> -  Alle Texte haben 2 optionale Parameter: #{0}: Die Nummer der betroffenen Seite #{1}: Die Anzahl der Seiten.</p>
</div>
<div class="paragraph">
<p>Folgende Facets können innerhalb des Tags verwendet werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>paginatorRechts</code>: Ergänzungen an der rechten Seite, links neben dem Paginator</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>showMoreText</code>: Alle Texte haben 2 optionale Parameter: #{0}: Die Nummer der betroffenen Seite; #{1}: Die Anzahl der Seiten. (Standard: <code>&#8230;&#8203;Mehr Anzeigen&#8230;&#8203;</code>)</p>
</li>
<li>
<p><code>showMoreTooltip</code>: (Standard: <code>Nächste Seite - Seite #{0} von #{1} anzeigen</code>)</p>
</li>
<li>
<p><code>text</code>: (Standard: <code>Seite #{0} von #{1}</code>)</p>
</li>
<li>
<p><code>firstPageText</code>: (Standard: <code>«</code>)</p>
</li>
<li>
<p><code>firstPageTooltip</code>: (Standard: <code>Erste Seite - Seite #{0} von #{1} anzeigen</code>)</p>
</li>
<li>
<p><code>previousPageText</code>: (Standard: <code>‹</code>)</p>
</li>
<li>
<p><code>previousPageTooltip</code>: (Standard: <code>Vorherige Seite - Seite #{0} von #{1} anzeigen</code>)</p>
</li>
<li>
<p><code>pageText</code>: (Standard: <code>#{0}</code>)</p>
</li>
<li>
<p><code>pageTooltip</code>: (Standard: <code>Seite #{0} von #{1} anzeigen</code>)</p>
</li>
<li>
<p><code>nextPageText</code>: (Standard: <code>›</code>)</p>
</li>
<li>
<p><code>nextPageTooltip</code>: (Standard: <code>Nächste Seite - Seite #{0} von #{1} anzeigen</code>)</p>
</li>
<li>
<p><code>lastPageText</code>: (Standard: <code>»</code>)</p>
</li>
<li>
<p><code>lastPageTooltip</code>: (Standard: <code>Letzte Seite - Seite #{0} von #{1} anzeigen</code>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="check-box-ueberschrift"><a class="anchor" href="#check-box-ueberschrift"></a>6.10. Checkbox</h3>
<div class="paragraph">
<p>Eine Checkbox repräsentiert eine unabhängige, nicht-exklusive Auswahl.
Der Benutzer kann beliebige Optionen auswählen.</p>
</div>
<div class="sect3">
<h4 id="selectBooleanCheckbox"><a class="anchor" href="#selectBooleanCheckbox"></a>6.10.1. Einzelne Checkbox</h4>
<div class="paragraph">
<p>Eine einzelne Checkbox wird über das Tag <code>&lt;isy:selectBooleanCheckbox&gt;</code> eingebunden.</p>
</div>
<div class="paragraph">
<p>Eine einzelne Checkbox wird über das Tag <code>&lt;isy:selectBooleanCheckbox&gt;</code> eingebunden.</p>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>value</code>: Der Wert der Checkbox für das Databinding in Models.</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob die Checkbox deaktiviert ist oder nicht. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>required</code>: Gibt an, ob die Checkbox zwingend markiert werden muss oder nicht. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>label</code>: Das Label der Checkbox</p>
</li>
<li>
<p><code>showPrintView</code>: Gibt an, ob die Komponente innerhalb einer Druckansicht angezeigt werden soll. (Standard: <code>#\{not empty basisModel and basisModel.showPrintView}</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>onchange</code>: Das onchange-Event der Checkbox</p>
</li>
<li>
<p><code>fourEyesMode</code>: 4 Augen Prinzip Mode (locked, unlock)</p>
</li>
<li>
<p><code>fourEyesLastValue</code>: 4 Augen Prinzip Letzter Wert</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="selectManyCheckbox"><a class="anchor" href="#selectManyCheckbox"></a>6.10.2. Mehrere Checkbox Felder</h4>
<div class="paragraph">
<p>Mehrere Checkboxen werden über das Tag <code>&lt;isy:selectManyCheckbox&gt;</code> eingebunden.
Realisiert über Select-Items.</p>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>value</code>: Der Wert für das Data-Binding</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>showPrintView</code>: Gibt an, ob die Komponente innerhalb einer Druckansicht angezeigt werden soll. (Standard: <code>#\{not empty basisModel and basisModel.showPrintView}</code>, Typ: <code>Boolean</code>).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="formCheckbox"><a class="anchor" href="#formCheckbox"></a>6.10.3. Checkbox innerhalb von Formularen</h4>
<div class="paragraph">
<p>Für Formulare existiert das Tag <code>&lt;isy:formCheckbox&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob die Checkbox deaktiviert ist oder nicht. (Standard: <code>false</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>customId</code>: Erlaubt, eine spezielle ID zu setzen, um die Komponente z.B. für JavaScript oder Tests zugreifbar zu machen.
Diese wird im Attribut data-isy-custom-id eingetragen.</p>
</li>
<li>
<p><code>label</code>: Der Text für das Label.</p>
</li>
<li>
<p><code>labelRight</code>: Der Text für das Label rechts daneben.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse für das Label. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse für den Eingabebereich. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>optional</code>: Gibt an, ob die Eingabe ein Optionale-Pflichteingabe ist (blaues Sternchen). (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls benötigt. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
<li>
<p><code>valueChangeListener</code>: Value Change Listener</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="radio-button-ueberschrift"><a class="anchor" href="#radio-button-ueberschrift"></a>6.10.4. Radio Button</h4>
<div class="paragraph">
<p>Radio Buttons dienen der eindeutigen Auswahl von sich ausschließenden Optionen.
Der Benutzer kann also nur eine der Optionen auswählen.</p>
</div>
<div id="image-ieradiobutton" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/RadioButton_Normal_Disabled.png" alt="RadioButton Normal Disabled">
</div>
<div class="title">Abbildung 32. Radio Button – Darstellungsbeispiel IE 9</div>
</div>
<div class="paragraph">
<p>Ein Radio Button wird über das Tag <code>&lt;isy:selectOneRadio&gt;</code> (bzw. <code>&lt;isy:selectOneRadioInline&gt;</code>) und <code>&lt;isy:formSelectOneRadio&gt;</code> eingebunden.</p>
</div>
</div>
<div class="sect3">
<h4 id="radio-button-horizontal"><a class="anchor" href="#radio-button-horizontal"></a>6.10.5. Horizontal gruppierte Radio Buttons</h4>
<div class="paragraph">
<p>Über das Tag <code>&lt;isy:selectOneRadioInline&gt;</code> werden Radiobuttons horizontal gruppiert dargestellt.
Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>value</code>: Der Wert der Auswahl für das Data-Binding</p>
</li>
<li>
<p><code>selectItems</code>: Liste der auszuwählenden Werte, den Select-Items.
Jedes Item entspricht einem Radio-Button.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>disabled</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="radio-button-vertikal"><a class="anchor" href="#radio-button-vertikal"></a>6.10.6. Vertikal gruppierte Radio Buttons</h4>
<div class="paragraph">
<p>Über das Tag <code>&lt;isy:selectOneRadio&gt;</code> werden Radiobuttons vertikal gruppiert dargestellt.</p>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>value</code>: Der Wert der Auswahl für das Data-Binding</p>
</li>
<li>
<p><code>selectItems</code>: Liste der auszuwählenden Werte, den Select-Items.
Jedes Item entspricht einem Radio-Button.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>showPrintView</code>: Gibt an, ob die Komponente innerhalb einer Druckansicht angezeigt werden soll. (Standard: <code>#\{not empty basisModel and basisModel.showPrintView}</code>, Typ: <code>Boolean</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="radio-button-form"><a class="anchor" href="#radio-button-form"></a>6.10.7. Form gruppierte Radio Buttons</h4>
<div class="paragraph">
<p>Das Tag <code>&lt;isy:formSelectOneRadio&gt;</code> ermöglicht die Gruppierung von Radiobuttons innerhalb einer Form.</p>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>value</code>: Der Wert der Auswahl für das Data-Binding.</p>
</li>
<li>
<p><code>selectItems</code>: Liste der auszuwählenden Werte, den Select-Items. Jedes Item entspricht einem Radio-Button.</p>
</li>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>customId</code>: Erlaubt, eine spezielle ID zu setzen, um die Komponente z.B. für JavaScript oder Tests zugreifbar zu machen.
Diese wird im Attribut data-isy-custom-id eingetragen.</p>
</li>
<li>
<p><code>inline</code>: Gibt an, ob die Radio-Buttons inline angezeigt werden sollen. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>label</code>: Der Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse für das Label. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse für den Eingabebereich. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inlineInputStyleClass</code>: Die CSS-Klasse für den Eingabebereich eines einzelnen Inline-Radio-Buttons. (Standard: ``)</p>
</li>
<li>
<p><code>required</code>: Ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls benötigt. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
<li>
<p><code>valueChangeListener</code>: Value Change Listener</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="navigation"><a class="anchor" href="#navigation"></a>6.11. Navigation</h3>
<div class="sect3">
<h4 id="horizontale-navigation"><a class="anchor" href="#horizontale-navigation"></a>6.11.1. Horizontale Navigation</h4>
<div class="paragraph">
<p>Die Navigationsleiste im Header-Bereich lässt sich konfigurierbar gestalten.
Hierzu muss jede Anwendung zunächst eine Instanz von <code>NavigationMenuGenerierenAusKonfiguration</code> im Application-Context zur Verfügung stellen und korrekt konfigurieren.
Die Bean benötigt lediglich einen <code>AufrufkontextVerwalter</code> und eine <code>Konfiguration</code>, um korrekt zu funktionieren.</p>
</div>
<div id="listing-bspBeanHauptnavigation" class="listingblock">
<div class="title">Listing 65. Beispiel für die Deklaration der Bean</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="navigationMenuGenerierenStrategie" class="de.bund.bva.isyfact.common.web.jsf.components.navigationmenu.generieren.impl.NavigationMenuGenerierenAusKonfiguration"&gt;
	&lt;property name="konfiguration" ref="konfiguration"/&gt;
	&lt;property name="aufrufKontextVerwalter" ref="aufrufKontextVerwalter"/&gt;
&lt;/bean&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ein einzelner Eintrag in der Navigation lässt sich nach folgendem Schema konfigurieren:</p>
</div>
<div id="listing-beispielHorizontaleNavigation" class="listingblock">
<div class="title">Listing 66. Beispiel zur Konfiguration der horizontalen Navigation</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">gui.navbar.applikationsgruppe.1.wert = JSF-Vorlagen
gui.navbar.applikationsgruppe.1.link = /isy-webgui/app/index.html
gui.navbar.applikationsgruppe.1.farbe = #337299
gui.navbar.applikationsgruppe.1.reihenfolge = 1
gui.navbar.applikationsgruppe.1.rollen =

gui.navbar.applikationsgruppe.1.anwendung.1.wert  = JSF-Steuerelemente
gui.navbar.applikationsgruppe.1.anwendung.1.link = /isy-webgui/app/jsfSteuerelementeFlow
gui.navbar.applikationsgruppe.1.anwendung.1.reihenfolge  = 1
gui.navbar.applikationsgruppe.1.anwendung.1.rollen =

gui.navbar.applikationsgruppe.1.anwendung.2.wert  = 4-Augen Prinzip
gui.navbar.applikationsgruppe.1.anwendung.2.link = /isy-webgui/app/vieraugenFlow
gui.navbar.applikationsgruppe.1.anwendung.2.reihenfolge  = 2
gui.navbar.applikationsgruppe.1.anwendung.2.rollen =

gui.navbar.applikationsgruppe.1.anwendung.3.wert  = Nachrichten
gui.navbar.applikationsgruppe.1.anwendung.3.link = /isy-webgui/app/nachrichtenFlow
gui.navbar.applikationsgruppe.1.anwendung.3.reihenfolge  = 3
gui.navbar.applikationsgruppe.1.anwendung.3.rollen = Beispielrolle</code></pre>
</div>
</div>
<div class="paragraph">
<p>Das Schlüsselwort <code>applikationsgruppe</code> und die darauf folgenden Parameter beziehen sich immer auf einen Eintrag in der Leiste selbst.
Das Schlüsselwort <code>anwendung</code> und die darauf folgenden Parameter beziehen sich wiederum immer auf einen Eintrag innerhalb des Flyout Menüs eines Eintrags innerhalb der Leiste.
Die Zahlen innerhalb der Konfigurationsparameter dienen der logischen Zuordnung.
Im obigen Beispiel sieht man schnell, dass es eine Applikationsgruppe gibt und dieser Gruppe drei Anwendungen zugeordnet sind.
Die Zahlen <em>müssen</em> aus technischer Sicht keiner strikten Sequenz folgen (etwa <code>*.anwendung.1.*</code>, <code>*.anwendung.2.*</code> usw.), aber dies bietet sich aufgrund der Lesbarkeit an.</p>
</div>
<div class="paragraph">
<p>Für Einträge innerhalb der Leiste selbst (<code>applikationsgruppe</code>) existieren folgende Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>wert</code>: Das Label zur Anzeige.</p>
</li>
<li>
<p><code>link</code>: Der Link, der aufgerufen wird, wenn der Anwender auf den Eintrag klickt.</p>
</li>
<li>
<p><code>farbe</code>: Die Farbe der Applikationsgruppe in hexadezimaler Notation.</p>
</li>
<li>
<p><code>reihenfolge</code>: Ein numerischer Wert für die Reihenfolge der Anzeige der Applikationsgruppen innerhalb der horizontalen Navigation.</p>
</li>
<li>
<p><code>rollen</code>: Die benötigten Rollen zur Anzeige als komma-separierte Liste.
Der Besitz mindestens einer Rolle ist ausreichend, um den Eintrag zu sehen.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Für Einträge innerhalb eines Flyout Menüs (<code>anwendung</code>) existieren folgende Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>wert</code>: Das Label zur Anzeige.</p>
</li>
<li>
<p><code>link</code>: Der Link, der aufgerufen wird, wenn der Anwender auf den Eintrag klickt.</p>
</li>
<li>
<p><code>reihenfolge</code>: Ein numerischer Wert für die Reihenfolge der Anzeige der Anwendung innerhalb des Flyout Menüs.</p>
</li>
<li>
<p><code>rollen</code>: Die benötigten Rollen zur Anzeige als komma-separierte Liste.
Der Besitz mindestens einer Rolle ist ausreichend, um den Eintrag zu sehen.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Grundsätzlich sind alle Werte optional.
Damit ist jedoch lediglich gemeint, dass die Anwendung keinen Fehler erzeugt, falls ein Wert für eine Applikationsgruppe bzw. Anwendung überhaupt nicht konfiguriert ist.
Nicht benötigte Parameter können daher einfach weggelassen werden.
Um einen sinnvollen Einsatz zu gewährleisten, sollten immer mindestens <code>wert</code> und <code>link</code> konfiguriert sein.</p>
</div>
<div class="paragraph">
<p>Die Navigation würde im obigen Beispiel den Eintrag <em>JSF-Vorlagen</em> enthalten.
Wenn die Maus sich über dem Eintrag befindet, würde das Flyout Menü aufklappen und die Einträge <em>JSF-Steuerelemente</em>, <em>4-Augen Prinzip</em> und <em>Nachrichten</em> würden sichtbar werden.
Der Eintrag <em>Nachrichten</em> ist für den jeweiligen Nutzer jedoch nur sichtbar, wenn er die Rolle <em>Beispielrolle</em> besitzt.
Weitere Rollen lassen sich komma-separiert angeben.
Ein Anwender sieht den jeweiligen Eintrag, sobald er mindestens eine der benötigten Rollen besitzt.</p>
</div>
<div id="image-navigationMitSubmenu" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/horizontale-navigation-submenu.png" alt="horizontale navigation submenu" width="350">
</div>
<div class="title">Abbildung 33. Navigation mit ausgeklapptem Flyout Menü</div>
</div>
<div class="paragraph">
<p>Das folgende Beispiel zeigt, wie die Navigationsleiste um einen weiteren Eintrag samt Flyout Menü erweitert werden könnte:</p>
</div>
<div id="listing-beispielHorizontaleNavigationErweitert" class="listingblock">
<div class="title">Listing 67. Erweiterung der Konfiguration der horizontalen Navigation</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">gui.navbar.applikationsgruppe.2.wert = Layouts
gui.navbar.applikationsgruppe.2.link = /isy-webgui/app/page-details.html
gui.navbar.applikationsgruppe.2.farbe = #F59D35
gui.navbar.applikationsgruppe.2.reihenfolge = 2

gui.navbar.applikationsgruppe.2.anwendung.1.wert  = Applikationsseite
gui.navbar.applikationsgruppe.2.anwendung.1.link = /isy-webgui/app/beispielApplikationsseiteFlow
gui.navbar.applikationsgruppe.2.anwendung.1.reihenfolge  = 1

gui.navbar.applikationsgruppe.2.anwendung.2.wert  = applikationsgruppe-Detailseite
gui.navbar.applikationsgruppe.2.anwendung.2.link = /isy-webgui/app/applikationDetailseiteFlow
gui.navbar.applikationsgruppe.2.anwendung.2.reihenfolge  = 2</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="linksnavigation"><a class="anchor" href="#linksnavigation"></a>6.11.2. Linksnavigation</h4>
<div class="paragraph">
<p>Die Linksnavigation ist ein optionales Element und kann zur weiteren Strukturierung einer Applikation dienen.
Sie kann über ein Icon ein- und ausgeblendet werden.</p>
</div>
<div class="paragraph">
<p>Linksnavigationen werden durch den Controller <code>LinksnavigationController</code> und das Model <code>LinksnavigationModel</code> realisiert.
Der Controller ist bereits im <code>ApplikationseiteController</code> eingebunden und muss daher nicht explizit aktiviert werden.</p>
</div>
<div class="paragraph">
<p>Linksnavigationen werden in der Konfigurationsdatei <code>gui-linksnavigation.properties</code> konfiguriert.
Die Konfigurationsdatei liegt im Deployment.
Es handelt sich nicht um eine betriebliche Konfiguration.
Die Konfiguration muss in der Konfigurations-Bean <code>konfiguration</code> eingebunden werden.
Über die Variable <code>gui.linksnavigation.ids</code> wird zunächst eine Liste an IDs für die jeweiligen Linksnavigationen konfiguriert.
Für jede ID wird anschließend die Linksnavigation konfiguriert.</p>
</div>
<div id="listing-beispielLinksnavigation" class="listingblock">
<div class="title">Listing 68. Beispiel zur Konfiguration der Linksnavigation</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">gui.linksnavigation.ids=linksnavigationbeispiel,jsfSteuerelemente

gui.linksnavigation.linksnavigationbeispiel.headline=Beispiellinkliste
gui.linksnavigation.linksnavigationbeispiel.1.text=Beispielseite A
gui.linksnavigation.linksnavigationbeispiel.1.link=beispiellinkaFlow
gui.linksnavigation.linksnavigationbeispiel.2.text=Beispielseite B
gui.linksnavigation.linksnavigationbeispiel.2.link=beispiellinkbFlow

gui.linksnavigation.jsfSteuerelemente.headline=Überschrift
gui.linksnavigation.jsfSteuerelemente.1.text=JSF-Steuerlemente
gui.linksnavigation.jsfSteuerelemente.1.link=jsfSteuerelementeFlow</code></pre>
</div>
</div>
<div class="paragraph">
<p>Anhand des aktuell aktiven Flows wird automatisch die korrekte Linksnavigation dargestellt.
Der enthaltene Link zum aktiven Flow wird automatisch als ausgewählt dargestellt.
Wenn ein Subflow aktiv ist, dann wird immer der ursprünglich aufrufende Flow als der aktive Flow angesehen.
Wenn keine passende Linksnavigation gefunden wird, bleibt der Bereich auf der Seite leer.
Weiterhin kann auf einer Applikationsseite eine individuelle Linksnavigation manuell eingebunden werden.</p>
</div>
</div>
<div class="sect3">
<h4 id="quicklinks"><a class="anchor" href="#quicklinks"></a>6.11.3. Quicklinks</h4>
<div class="paragraph">
<p>Muss der Benutzer häufig auf bestimmte Funktionen oder Objekte in einer Anwendung zugreifen, so kann es sinnvoll sein ihm Schnellzugriffe, sogenannte Quicklinks, auf diese Funktionen/Objekte zur Verfügung zu stellen.</p>
</div>
<div id="image-quicklinksunterhalblinksnavigation" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Quicklinks_LetzteObjekte.png" alt="Quicklinks LetzteObjekte">
</div>
<div class="title">Abbildung 34. Quicklinks unterhalb der Linksnavigation</div>
</div>
<div id="image-quicklinksaufdashboard" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/Quicklinks_Wiedervorlage.png" alt="Quicklinks Wiedervorlage">
</div>
<div class="title">Abbildung 35. Quicklinks auf Dashboard</div>
</div>
<div class="paragraph">
<p>Quicklinks werden durch den Controller <code>QuicklinksController</code> und das Model <code>QuicklinksModel</code> realisiert.
Zur Nutzung müssen Controller und Model in den jeweiligen Controller bzw. das Model der Seite integriert werden.
Ein einzelner Quicklink (<code>QuicklinkselementModel</code>) besitzt folgende Attribute:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>id</code>: ID des Quicklinks</p>
</li>
<li>
<p><code>anzuzeigenderText</code>: Text des Quicklinks</p>
</li>
<li>
<p><code>link</code>: Ziel des Quicklinks</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Der <code>QuicklinksController</code> stellt in der Hauptsache folgende Methoden bereit:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>fuegeQuicklinkHinzu(QuicklinkselementModel model)</code>: Hinzufügen eines neuen Quicklinks auf der aktuellen Seite,</p>
</li>
<li>
<p><code>entferneQuicklink(String id)</code>: Entfernen des Quicklinks von der Seite.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Quicklinks werden in der Session des Anwenders abgespeichert.</p>
</div>
<div class="paragraph">
<p>Die zuletzt hinzugefügten Quicklinks werden oben dargestellt.
Wenn ein Quicklink hinzugefügt wird, der bereits vorhanden ist (Identifikation über seine ID), dann werden der Link und der anzuzeigende Text des Quicklinks aktualisiert und der Quicklink wird nach oben gesetzt.
Wenn die maximale Anzahl an Quicklinks erreicht wird (konfigurierbar über den Konfigurationsparameter <code>gui.quicklinks.max.anzahl</code>), dann wird der älteste Quicklink entfernt.</p>
</div>
<div class="paragraph">
<p>Weiterhin gibt es die Möglichkeit, Quicklinks in Gruppen zu organisieren (z.B. aktuelle Suchanfrage, letzte Suchanfragen).
Gruppen von Quicklinks können abhängig vom aktuellen Flow angezeigt werden.</p>
</div>
<div class="paragraph">
<p>Weiterhin ist es möglich, die Quicklinks statisch (analog zur Linksnavigation) zu konfigurieren.
Hierzu können in der Konfiguration folgende Einstellungen hinterlegt werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>gui.quicklinks.gruppenIds</code>: kommaseparierte Liste der Gruppen</p>
</li>
<li>
<p><code>gui.quicklinks.&lt;gruppeId&gt;.text</code>: Text der Gruppe zur Anzeige</p>
</li>
<li>
<p><code>gui.quicklinks.&lt;gruppeId&gt;.contextflow</code>: kommaseparierte Liste an Flows, welche die Anzeige der Gruppe erlauben.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ist keine Konfiguration bzgl. Flows gesetzt, so wird die Gruppe immer angezeigt.</p>
</div>
</div>
<div class="sect3">
<h4 id="breadcrumbs"><a class="anchor" href="#breadcrumbs"></a>6.11.4. Breadcrumbs auf der Detailseite</h4>
<div class="paragraph">
<p>Auf der Detailseite einer Applikation kann in der Titelzeile ein Location-Breadcrumb eingeblendet werden.
In diesem Breadcrumb wird der Pfad zum aktuellen Element angezeigt (<a href="#image-breadcrumb">Breadcrumb in der Titelzeile der Detailseite der Applikation</a>).</p>
</div>
<div id="image-breadcrumb" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/breadcrumb.png" alt="breadcrumb">
</div>
<div class="title">Abbildung 36. Breadcrumb in der Titelzeile der Detailseite der Applikation</div>
</div>
<div class="paragraph">
<p>Die angezeigten Daten werden nicht automatisch angezeigt, sondern müssen programmatisch gesetzt werden.
Hierzu wird die Model-Klasse <code>LocationBreadcrumbModel</code> entsprechend befüllt.
Ist das Breadcrumb-Model leer, wird der Breadcrumb nicht angezeigt.</p>
</div>
<div class="paragraph">
<p>Eine Instanz des Breadcrumb-Models wird über das <code>BasisModel</code> bereitgestellt.
Unterstützt wird die Anzeige von Hierarchieebene über die Methoden <code>pushHierarchiebene() / popHierarchiebene / clearHierarchiebenen()</code> und die Angabe eines Objektnamens per <code>setObjektname(String)</code>.
Mit dem in <a href="#listing-breadcrumbmodel">Verwendung des Breadcrumb-Models</a> gezeigten Code wird der in <a href="#image-breadcrumb">Breadcrumb in der Titelzeile der Detailseite der Applikation</a> gezeigte Breadcrumb realisiert.</p>
</div>
<div id="listing-breadcrumbmodel" class="listingblock">
<div class="title">Listing 69. Verwendung des Breadcrumb-Models</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public void initialisiereBreadcrumbModel(LocationBreadcrumbModel model) {
    model.setObjektname("Testobjekt / ID-1234");
    model.pushHierarchiebene("Ebene 1");
    model.pushHierarchiebene("Ebene 2");
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_seitentoolbar"><a class="anchor" href="#_seitentoolbar"></a>6.11.5. Seitentoolbar</h4>
<div class="paragraph">
<p>Die Seitentoolbar ist Teil des <code>BasisModel</code>.
Auf das <code>SeitentoolbarModel</code> kann daher über den <code>BasisController</code> zugegriffen werden.
Der <code>ApplikationseiteController</code> und der <code>DetailseiteController</code> konfigurieren dieses Model entsprechend den Vorgaben automatisch.</p>
</div>
<div class="paragraph">
<p>Über die Template-Engine (<code>ui:insert</code> / <code>ui:define</code>) werden weiterhin folgende Bereiche zur Verfügung gestellt.
Konkrete Seiten können dadurch Einfluss auf das Aussehen der Seitentoolbar nehmen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>seitentoolbarLinksButtons</code>: fügt Anpassungen auf der linken Seite ein,</p>
</li>
<li>
<p><code>seitentoolbarMitteButtons</code>: fügt Anpassungen in der Mitte (zentriert) ein,</p>
</li>
<li>
<p><code>seitentoolbarRechtsButtons</code>: fügt Anpassungen auf der rechten Seite ein.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_hilfe_button"><a class="anchor" href="#_hilfe_button"></a>6.11.5.1. Hilfe-Button</h5>
<div class="paragraph">
<p>Der Hilfe-Button ist Teil der Seitentoolbar und wird rechts von allen anderen konfigurierten Buttons angezeigt.
Zur Konfiguration des Buttons muss eine URL zu einer Hilfeseite hinterlegt werden.</p>
</div>
<div id="listing-hilfe-konfig" class="listingblock">
<div class="title">Listing 70. Konfiguration des Hilfe-Buttons</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">portalhilfe.url=https://example.com/hilfeanwendung</code></pre>
</div>
</div>
<div class="paragraph">
<p>Wird auf den Button geklickt, wird abhängig von der aktuellen Seite, dem Flow und dem ViewState des Flows auf die Hilfeseite geleitet.</p>
</div>
<div class="paragraph">
<p>Der Hilfe-Button wird nur angezeigt, wenn wie beschrieben, <code>portalhilfe.url</code> gesetzt ist.
Soll der Hilfe-Button standardmäßig ausgeschaltet bleiben, kann dies über den Parameter <code>hilfe.default.aktiv</code> in der Konfiguration der Anwendung erfolgen.</p>
</div>
<div id="listing-hilfe-deaktivieren" class="listingblock">
<div class="title">Listing 71. Ausschalten des Hilfe-Buttons</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">hilfe.default.aktiv=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>Das Aktivieren und Deaktivieren des Hilfe-Buttons ist auch durch Aufruf der entsprechenden <code>HilfeController</code>-Methode aus dem Flow heraus möglich.
Das <a href="#listing-hilfe-flow">Ausschalten des Hilfe-Buttons in einem Flow</a> zeigt das Ausschalten des Hilfe-Buttons in der XML-Datei eines Flows.</p>
</div>
<div id="listing-hilfe-flow" class="listingblock">
<div class="title">Listing 72. Ausschalten des Hilfe-Buttons in einem Flow</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;on-start&gt;
    &lt;!-- ... andere Initialisierungen des Flows ... --&gt;
    &lt;evaluate expression="hilfeController.deaktiviereHilfe(hilfeModel)" /&gt;
&lt;/on-start&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="selektion-ueberschrift"><a class="anchor" href="#selektion-ueberschrift"></a>6.12. Selektion</h3>
<div class="paragraph">
<p>Dieser Abschnitt beschreibt Patterns zur Selektion von Daten.</p>
</div>
<div class="sect3">
<h4 id="suche-ueberschrift"><a class="anchor" href="#suche-ueberschrift"></a>6.12.1. Suche</h4>
<div class="paragraph">
<p>Ein Beispiel zur Umsetzung eines Suchformulars findet sich im Abschnitt <a href="#layout-von-Formularen">Layout von Formularen</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_toggle_filter"><a class="anchor" href="#_toggle_filter"></a>6.12.2. Toggle Filter</h4>
<div class="paragraph">
<p>Ein Toggle-Filter ist eine Tabellen-Toolbar, mit der durch einen Klick auf einen Button eine Liste
von Objekten oder Formularen nach bestimmten vordefinierten Kriterien eingeschränkt werden kann.
Der Filter wird über das Tag <code>&lt;isy:toggleFilter&gt;</code> eingebunden und die einzelnen Filter-Optionen sollten als &lt;f:selectItem&gt; angegeben werden.</p>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>action</code>: Die auszuführende Aktion.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>label</code>: Der Text für das Label.</p>
</li>
<li>
<p><code>value</code>: Der ausgewählt Filter.</p>
</li>
<li>
<p><code>styleClass</code>: Optionale CSS Style Klasse.</p>
</li>
<li>
<p><code>execute</code>: AJAX: Welcher Template-Seitenbereich ausgeführt werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>render</code>: AJAX: Welcher Template-Seitenbereich gerendert werden soll. (Standard: <code>@form</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls nötig. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="browse-und-collect"><a class="anchor" href="#browse-und-collect"></a>6.12.3. Browse &amp; Collect</h4>
<div class="paragraph">
<p>Mit Browse &amp; Collect kann der Benutzer eine Liste von Objekten erstellen.
Hierbei werden Objekte von einer Quellliste in eine Zielliste übertragen.</p>
</div>
<div class="paragraph">
<p>Browse and Collect kann über das Tag <code>&lt;isy:browseAndCollect&gt;</code> (bzw. <code>&lt;isy:formBrowseAndCollect&gt;</code>) eingebunden werden.</p>
</div>
<div class="paragraph">
<p>Folgende Parameter sind für <code>&lt;isy:browseAndCollect&gt;</code> verpflichtend:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert der Auswahl für das Databinding</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>disabled</code>: Gibt an, ob die Liste deaktiviert ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>browsecollectStyleClass</code>: Die CSS-Klasse für die Komponente.</p>
</li>
<li>
<p><code>size</code>: Anzahl der Zeilen, die sichtbar sind</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>disabled</code>: Gibt an, ob die Liste deaktiviert ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>browsecollectStyleClass</code>: Die CSS-Klasse für die Komponente.</p>
</li>
<li>
<p><code>size</code>: Dieses Attribut wird im Sinne von bootstrap-selectlist.js interpretiert, d.h. es gibt die Anzahl der Zeilen die sichtbar sind an.</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls notwendig. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Folgende Parameter sind zusätzlich für <code>&lt;isy:formBrowseAndCollect&gt;</code> zulässig:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>label</code>: Der Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse für das Label. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse für den Eingabebereich. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="master-detail"><a class="anchor" href="#master-detail"></a>6.12.4. Master-Detail</h4>
<div class="paragraph">
<p>Bei dem Master-Detail Konzept werden Informationen eines Master-Objekts und dessen Details auf einer Seite dargestellt.
Zum Beispiel kann eine Liste von Objekten in einer Tabelle (Master) dargestellt werden.
Die dazugehörigen Informationen (Detail) werden je nach Layout in einem Bereich darunter oder daneben angezeigt.</p>
</div>
<div class="paragraph">
<p>Die Master-Detail Ansicht kann durch die Nutzung von einfachen Elementen (Tabelle, Buttons, bedingtes Rendern (<code>ui:fragment</code>)) umgesetzt werden.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gruppierung"><a class="anchor" href="#gruppierung"></a>6.13. Gruppierung</h3>
<div class="paragraph">
<p>Dieser Abschnitt beschreibt Patterns zur Gruppierung von Daten.</p>
</div>
<div class="sect3">
<h4 id="_panel"><a class="anchor" href="#_panel"></a>6.13.1. Panel</h4>
<div class="paragraph">
<p>Für die Gruppierung von Daten steht das Tag <code>&lt;isy:panel&gt;</code> bereit.
Damit können entsprechende Bereiche zur Gruppierung erstellt werden.
Ein Expander kann durch die Angabe von <code>collapse="true"</code> und der Angaben eines entsprechenden Models in der Komponente <code>&lt;isy:panel&gt;</code> erzeugt werden.
Über das Model lässt sich auch der initiale Zustand steuern.</p>
</div>
</div>
<div class="sect3">
<h4 id="isy-panel"><a class="anchor" href="#isy-panel"></a>6.13.2. Komponente panel</h4>
<div class="paragraph">
<p>Das Tag <code>&lt;isy:panel&gt;</code> bietet folgende Facets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>panelHeader</code>: Header des Panels</p>
</li>
<li>
<p><code>panelButtons</code>: Buttons am Header des Panels</p>
</li>
<li>
<p><code>panelBody</code>: Inhalt des Panels (kann auch direkt über Kindelemente angegeben werden)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>panelModel</code>: Model des Panels, das von PanelModel abgeleitet wird, und Teil des Seitenmodels sein sollte.
Nur notwendig, falls das Panel einklappbar sein soll. (Typ: <code>de.bund.bva.isyfact.common.web.jsf.components.panel.PanelModel</code>)</p>
</li>
<li>
<p><code>collapse</code>: Gibt an, ob das Panel einklappbar sein soll. Falls ja, so muss auch ein panelModel angegeben werden. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>panelId</code>: ID des Panels.</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls notwendig. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="isy-panelGroup"><a class="anchor" href="#isy-panelGroup"></a>6.13.3. Komponente panelGroup</h4>
<div class="paragraph">
<p>Zur Gruppierung von mehreren Panels sollte das Tag <code>&lt;isy:panelGroup&gt;</code> verwendet werden.
In diesem können die anderen Panels geschachtelt werden.
Das Tag besitzt folgende Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>headerPanel</code>: Gibt an, ob die Gruppe als Container für den Header des Inhaltsbereichs dient; falls ja werden entsprechende CSS-Klassen für das Layouting eingebunden. (Standard: <code>false</code>, Typ: <code>java.lang.Boolean</code>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="layout-von-Formularen"><a class="anchor" href="#layout-von-Formularen"></a>6.14. Layout von Formularen</h3>
<div class="paragraph">
<p>Die Umsetzung von Formularen erfolgt mit den gängigen CSS-Klassen von Bootstrap.
Um ein einfaches Suchformular umzusetzen, genügt z.B. folgender Code:</p>
</div>
<div id="listing-bspFormularumsetzung" class="listingblock">
<div class="title">Listing 73. Beispiel für Formularumsetzung</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;div class="form-horizontal"&gt;
  &lt;div class="row"&gt;
    &lt;div class="col-lg-6"&gt;
      &lt;isy:formInput reference="vorname" /&gt;
      &lt;isy:formInput reference="nachname" /&gt;
    &lt;/div&gt;
    &lt;div class="col-lg-6"&gt;
      &lt;isy:formInput reference="geburtsort" /&gt;
      &lt;isy:formSelectOneDropdown reference="geschlecht" /&gt;
      &lt;isy:formListpicker reference="staatsangehoerigkeit" /&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

...

&lt;isy:buttonRow alignRight="true"&gt;
  &lt;isy:button id="suchen" action="suchen" value="#{...}" /&gt;
  &lt;isy:button id="suchfelderLeeren" action="suchfelderLeeren" value="#{...}" /&gt;
&lt;/isy:buttonRow&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Durch ein <code>&lt;div&gt;</code>-Tag mit der CSS-Klasse <code>form-horizontal</code> wird der Bereich für das Formular definiert.
In darin geschachtelten <code>&lt;div&gt;</code>-Tags mit der CSS-Klasse <code>row</code> ist das aus 12 Spalten bestehende Layout von Bootstrap aktiv.
Innerhalb dieser Tags können die Formularkomponenten problemlos verwendet werden.</p>
</div>
<div class="sect3">
<h4 id="_formularkomponenten"><a class="anchor" href="#_formularkomponenten"></a>6.14.1. Formularkomponenten</h4>
<div class="paragraph">
<p>Neben den normalen Bedienelementen existieren auch Formularkomponenten (erkennbar an dem Präfix <code>&lt;isy:form&#8230;&#8203;&gt;</code>).
Diese Komponenten integrieren sich direkt in ein Formular.
Sie bringen ein Label sowie eine integrierte Validierung mit sich.
Die einzelnen Formularkomponenten sind zusammen mit ihren jeweiligen Bedienelementen beschrieben.</p>
</div>
<div class="paragraph">
<p>In den Formularen kann durch die Verwendung von <code>&lt;isy:formDefaultButton&gt;</code> ein Standard-Button zum Abschicken des Formulars definiert werden.
Ein Druck auf kbd:[Enter] führt die Aktion aus.
Diese Funktionalität ist nur bei aktiviertem JavaScript verfügbar.</p>
</div>
<div class="paragraph">
<p>Das Tag <code>&lt;isy:formCustom&gt;</code> bietet schließlich die Möglichkeit, anwendungsspezifische Elemente in ein Formular zu integrieren.
Die Elemente innerhalb dieses Tags werden dann mit einem Label an der korrekten Stelle im Formular angezeigt.</p>
</div>
<div class="paragraph">
<p>Die Komponente unterstützt folgende Attribute:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts für die Validierung.</p>
</li>
<li>
<p><code>label</code>: Der Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse für das Label. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse für den Eingabebereich. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>escapeLabel</code>: Gibt an, ob Sonderzeichen für das Label escaped werden sollen. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
<li>
<p><code>breakWords</code>: Gibt an, ob der Überlauf von Text in die nächste Zeile erlaubt ist. (Standard: <code>true</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende Facets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>contentRight</code>: Inhalt, der rechts vom eingefügten Element angezeigt wird</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="platzhalter-ueberschrift"><a class="anchor" href="#platzhalter-ueberschrift"></a>6.15. Platzhalter</h3>
<div class="paragraph">
<p>Platzhalter können über das Attribut <code>placeholder</code> in den Bedienelementen angegeben werden.
Die Angabe von Platzhaltern ist derzeit noch nicht in allen Bedienelementen möglich.</p>
</div>
</div>
<div class="sect2">
<h3 id="tooltips-ueberschrift"><a class="anchor" href="#tooltips-ueberschrift"></a>6.16. Tooltips</h3>
<div class="paragraph">
<p>Das Tag <code>&lt;isy:tooltip&gt;</code> bindet einen Tooltip ein und wird in der Regel um ein Hover-Element gelegt.</p>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>text</code>: Text, der bei Hover über das Element angezeigt werden soll</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>title</code>: Optionale Überschrift, die fett über dem Text angezeigt wird.</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="anzeige-optionale-Pflichtfelder"><a class="anchor" href="#anzeige-optionale-Pflichtfelder"></a>6.17. Anzeige von Pflichtfeldern und optionalen Pflichtfeldern</h3>
<div class="paragraph">
<p>Pflichtfelder können über die Angabe des Attributs <code>required</code> am entsprechenden Bedienelement gesetzt werden.</p>
</div>
<div class="paragraph">
<p>Optionale Pflichtfelder bedeuten, dass von mehreren, alternativen Eingaben mindestens eine benötigt wird, um das Formular verarbeiten zu können.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Hinweis"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Beispielsweise könnte in einem Formular die Eingabe entweder der Nummer des Personalausweises oder der Nummer des Führerscheins als Altersnachweis dienen.
Wenn der Altersnachweis Pflicht ist, sind die beiden Felder optionale Pflichtfelder.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="nachrichten-ueberschrift"><a class="anchor" href="#nachrichten-ueberschrift"></a>6.18. Anzeige von Nachrichten</h3>
<div class="paragraph">
<p>Der <code>MessageController</code> erlaubt es, Nachrichten über dem Inhaltsbereich einer Seite auszugeben.
Er bietet folgende Methoden für Hinweise, Erfolgsmeldungen, Warnungen und Fehlermeldungen an:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>void writeInfoMessage(String information)</code></p>
</li>
<li>
<p><code>void writeSuccessMessage(String success)</code></p>
</li>
<li>
<p><code>void writeWarnMessage(String warning, String summary)</code></p>
</li>
<li>
<p><code>void writeErrorMessage(String error, String summary)</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Weiterhin können Anwendungen die aktuell vorhandenen Meldungen auslesen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>List&lt;FacesMessage&gt; getCurrentInfoMessages()</code></p>
</li>
<li>
<p><code>List&lt;FacesMessage&gt; getCurrentSuccessMessages()</code></p>
</li>
<li>
<p><code>List&lt;FacesMessage&gt; getCurrentWarnMessages()</code></p>
</li>
<li>
<p><code>List&lt;FacesMessage&gt; getCurrentErrorMessages()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Das Tag <code>&lt;isy:messages&gt;</code> zeigt Nachrichten im Basis-Layout automatisch und ohne weiteres zutun an.</p>
</div>
</div>
<div class="sect2">
<h3 id="validierung-ueberschrift"><a class="anchor" href="#validierung-ueberschrift"></a>6.19. Validierung</h3>
<div class="paragraph">
<p>Der <code>ValidierungController</code> erlaubt es, der aktuellen Seite über folgende Methode Nachrichten der Validierung hinzuzufügen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>void processValidationMessages(List&lt;ValidationMessage&gt; validationMessages)</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Eine einzelne Nachricht besteht dabei aus folgenden Attributen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>code</code>: Der (Fehler)Code der Nachricht (z.B. <code>ISYWG99999</code>)</p>
</li>
<li>
<p><code>reference</code>: Die Referenz auf den Fehler (z.B. <code>person.geburtsdatum</code>)</p>
</li>
<li>
<p><code>readableReference</code>: Die lesbare Darstellung der Referenz (z.B. "Geburtsdatum")</p>
</li>
<li>
<p><code>message</code>: Text der Nachricht (z.B. "Geburtsdatum liegt weniger als 18 Jahre zurück.")</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Validierungsnachrichten werden nur für den aktuellen Aufruf (FlashScope) angezeigt.
Wenn JavaScript nicht aktiviert ist, werden alle Validierungsnachrichten in einer Liste angezeigt.
Auf den Tooltip wird verzichtet.
Für die Zuordnung von Validierungsnachrichten und Eingabefeld wird das Attribut <code>reference</code> verwendet, welches auch in der entsprechenden Formularkomponente angegeben werden muss.</p>
</div>
</div>
<div class="sect2">
<h3 id="four-eyes-principle"><a class="anchor" href="#four-eyes-principle"></a>6.20. 4-Augen-Prinzip</h3>
<div class="paragraph">
<p>Einige JSF-Komponenten unterstützen das 4-Augen-Prinzip.
Hierbei müssen Eingaben erst von einer zweiten Person bestätigt werden, bevor sie in das Datenmodell übernommen werden.
Die Namensgebung der 4-Augen-Komponenten folgt dem Schema, dass dem Namen der Basiskomponente der Zeichenstring <code>WithFourEyes</code> angehängt wird.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Die IsyFact enthält die Demo-Anwendung <code>isy-webgui</code> und zeigt darin die Features der Bibliothek <code>isy-web</code>.
Insbesondere demonstriert die Demoanwendung Aussehen und Verhalten der nachfolgend beschriebenen JSF-Seitenelemente.
Alle Screenshots der beschriebenen 4-Augen-Prinzip Komponenten wurden dieser Demoanwendung entnommen.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Zu den folgenden JSF-Komponenten existieren Varianten für das 4-Augen-Prinzip.</p>
</div>
<table id="table-fourEyes" class="tableblock frame-all grid-all stretch">
<caption class="title">Tabelle 3. JSF-Komponenten für das 4-Augen-Prinzip</caption>
<colgroup>
<col style="width: 44.4444%;">
<col style="width: 55.5556%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">JSF-Komponente</th>
<th class="tableblock halign-left valign-top">Variante für das 4-Augen-Prinzip</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:actionInput /&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:actionInputWithFourEyes /&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formActionInput /&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formActionInputWithFourEyes /&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formCheckbox /&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formCheckboxWithFourEyes /&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formCurrencyInput /&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formCurrencyInputWithFourEyes /&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formDate /&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formDateWithFourEyes /&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formInput /&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formInputWithFourEyes /&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formNumericInput /&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formNumericInputWithFourEyes /&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formSelectOneDropdown /&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formSelectOneDropdownWithFourEyes /&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formTextarea /&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:formTextareaWithFourEyes /&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:selectOneDropdown /&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>&lt;isy:selectOneDropdownWithFourEyes /&gt;</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Für die Konfiguration einer JSF-Komponenten-Variante (4-Augen-Prinzip) gilt generell, dass bis auf zwei weitere, hinzuzufügende Attribute, die Attribute identisch zur Basiskomponente sind.</p>
</div>
<div class="paragraph">
<p>Die folgenden zwei Attribute sind 4-Augen-Prinzip spezifisch und ergänzen die jeweiligen Komponentenattribute der Basiskomponente:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>fourEyesMode</code>: Pflichtfeld, welches den Zustandsmodus des Feldes angibt <code>[locked|unlocked]</code>.</p>
</li>
<li>
<p><code>fourEyesLastValue</code>: Wert, der vom ersten Bearbeiter eingegeben wurde.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die 4-Augen-JSF-Komponenten benötigen kein eigenes Modell oder spezifischen Controller, sondern speichern die Felddaten im Modell der Maske ab und verwenden den normalen Controller der Maske (s.a. <a href="#der-controller">Erstellung der Controller</a>).</p>
</div>
<div class="paragraph">
<p>Die Geschäftslogik, die hinter einer 4-Augen-Komponente steckt, wird entsprechend dem MVC-Muster nicht in der Komponente selbst, sondern im Maskencontroller (s.a. <a href="#listing-VieraugenMaskeController">4-Augen-Komponente Controller: Initialisierung und Action-State (speichern)</a>) behandelt.</p>
</div>
<div class="paragraph">
<p>Es gibt bei der Implementierung der Geschäftslogik der 4-Augen Komponenten keine Vorgaben bzgl. der zu verwendenden Methoden.
Da der Grundgedanke der 4-Augen-Komponenten darin besteht, dass Eingaben erst von einer zweiten Person bestätigt werden, bevor sie in das finale Datenbankfeld gelangen, bietet es sich an, über Methoden die Model- und Datenpflege (<code>init&#8230;&#8203;</code>, <code>speichern</code>) vorzunehmen.</p>
</div>
<div class="paragraph">
<p>Die folgenden beiden Listings zeigen entsprechende Codebeispiele für die Umsetzung dieses Grundgedankens im Maskenflow und -controller.</p>
</div>
<div id="listing-vierAugenFlow" class="listingblock">
<div class="title">Listing 74. 4-Augen-Komponente Flow: Initialisierung und Action-State (speichern)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;flow&gt;
   &lt;var name="maskenModel" class="de.bund.bva... .VieraugenMaskeModel"/&gt;
   &lt;on-start&gt;
      &lt;evaluate expression="maskenController.initModel(maskenModel)"/&gt;
   &lt;/on-start&gt;

   &lt;view-state id="vieraugenMaskeViewState"&gt;
      &lt;on-entry&gt;
         &lt;evaluate expression="maskenController.initModel(maskenModel)"/&gt;
      &lt;/on-entry&gt;
      &lt;transition on="speichern"&gt;
         &lt;evaluate expression="maskenController.initModel(maskenModel)"/&gt;
      &lt;/transition&gt;
      ...
   &lt;/view-state&gt;
&lt;/flow&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Der Wert einer 4-Augen-Komponente kann zum Beispiel in der Model-Initialisierungsmethode gesetzt werden.</p>
</div>
<div id="listing-VieraugenMaskeController" class="listingblock">
<div class="title">Listing 75. 4-Augen-Komponente Controller: Initialisierung und Action-State (speichern)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;

import de.bund.bva.isyfact.common.web.global.AbstractGuiController;
import de.bund.bva.isyfact.common.web.global.GlobalFlowController;
import de.bund.bva.isyfact.common.web.validation.ValidationMessage;
import de.bund.bva.isyfact.util.spring.MessageSourceHolder;

@Controller
public class VieraugenMaskenController extends AbstractGuiController&lt;VieraugenMaskeModel&gt; {

    @Autowired
    private GlobalFlowController globalFlowController;
    private VieraugenMaskeModel model = new VieraugenMaskeModel();

    public void speichern(VieraugenMaskeModel model) {
      // ...
    }

    @Override
    public void initModel(VieraugenMaskeModel model) {
        List&lt;ValidationMessage&gt; validationMessages = new ArrayList&lt;&gt;();
        validationMessages.add(new ValidationMessage("WEBxyz", "fehler",
 		  "fehler", MessageSourceHolder.getMessage("WEBxyz")));

        this.globalFlowController.getValidationController().
		     processValidationMessages(validationMessages);
		// ...
    }
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="aktionseingabefeld-4eyes"><a class="anchor" href="#aktionseingabefeld-4eyes"></a>6.20.1. ActionInputWithFourEyes</h4>
<div class="paragraph">
<p>Ein Aktionseingabefeld mit dem Vier-Augen-Prinzip Modus wird über die Tags <code>&lt;isy:actionInputWithFourEyes&gt;</code> bzw. <code>&lt;isy:formActionInputWithFourEyes&gt;</code> eingebunden.</p>
</div>
<div id="image-demopanelformActionInput" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-formActionInput.png" alt="demopanel formActionInput">
</div>
<div class="title">Abbildung 37. WebGui-Demoanwendung: isy_formActionInput</div>
</div>
<div class="paragraph">
<p>Das Aktionseingabefeld <code>&lt;isy:actionInputWithFourEyes&gt;</code> besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
<li>
<p><code>action</code>: Die auszulösende Aktion.</p>
</li>
<li>
<p><code>icon</code>: Das anzuzeigendes Icon aus der Icon-Bibliothek.</p>
</li>
<li>
<p><code>fourEyesMode</code>: Zustandsmodus des Feldes <code>[locked|unlocked]</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>fourEyesLastValue</code>: Wert, der vom ersten Bearbeiter eingegeben wurde.</p>
</li>
<li>
<p><code>placeholder</code>: Platzhalter, welcher im Eingabefeld angezeigt wird.</p>
</li>
<li>
<p><code>maxlength</code>: Die maximale Länge der Eingabe. (Standard: 20)</p>
</li>
<li>
<p><code>iconColor</code>: Farbe des Icons. (Standard: <code>#45484D</code>)</p>
</li>
<li>
<p><code>tooltip</code>: Tooltip, der über dem Eingabefeld angezeigt wird. (Standard: <code>&#8230;&#8203;</code>, drei Punkte)</p>
</li>
<li>
<p><code>mode</code>: [normal|button-only|input-only]. <code>normal</code> für Eingabefeld und Icon aktiv. <code>button-only</code> für nur Icon aktiv. <code>input-only</code> für nur Eingabefeld aktiv. (Standard: <code>normal</code>)</p>
</li>
<li>
<p><code>disabled</code>: Flag, ob das Eingabefeld deaktiviert ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse für das Eingabefeld. (nicht implementiert)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="formaktionseingabefeld-4eyes"><a class="anchor" href="#formaktionseingabefeld-4eyes"></a>6.20.2. FormActionInputWithFourEyes</h4>
<div class="paragraph">
<p>Zusätzlich zu den eben genannten Parametern bei <code>&lt;isy:actionInputWithFourEyes&gt;</code> sind bei Verwendung von <code>&lt;isy:formActionInputWithFourEyes&gt;</code> auch folgende Parameter zulässig:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>label</code>: Der Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse des Labels. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse des Eingabebereiches. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Spezifische, globale Konfiguration. (Standard: <code>globalConfigurationModel</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="checkbox-4eyes"><a class="anchor" href="#checkbox-4eyes"></a>6.20.3. CheckboxWithFourEyes</h4>
<div class="paragraph">
<p>Die Komponente <code>&lt;isy:formCheckboxWithFourEyes&gt;</code> stellt ein Eingabefeld nach dem Vier-Augen-Prinzip für eine Checkbox innerhalb von Formularen zur Verfügung.</p>
</div>
<div id="image-demopanelformCheckboxWithFourEyes" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-formCheckboxWithFourEyes.png" alt="demopanel formCheckboxWithFourEyes">
</div>
<div class="title">Abbildung 38. Komponente isy_formCheckboxWithFourEyes</div>
</div>
<div class="paragraph">
<p>Folgende Komponentenattribute müssen angegeben werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob die Checkbox deaktiviert ist oder nicht. (Standard: <code>false</code>)</p>
</li>
<li>
<p><code>fourEyesMode</code>: 4 Augen Prinzip Mode (locked, unlock)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Folgende Komponentenattribute sind optional:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>customId</code>: Erlaubt, eine spezielle ID zu setzen, um die Komponente z.B. für JavaScript oder Tests zugreifbar zu machen.
Diese wird im Attribut data-isy-custom-id eingetragen.</p>
</li>
<li>
<p><code>label</code>: Der Text für das Label.</p>
</li>
<li>
<p><code>labelRight</code>: Fontawesome char-Zeichen für die Anzeige rechts neben dem Eingabefeld. (Standard: offenes Vorhängeschloss)</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse für das Label. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse für den Eingabebereich. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>optional</code>: Gibt an, ob die Eingabe eine Optionale-Pflichteingabe ist (blaues Sternchen). (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls benötigt. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
<li>
<p><code>valueChangeListener</code>: Value Change Listener</p>
</li>
<li>
<p><code>fourEyesLastValue</code>: Letzter Wert im 4-Augen-Eingabefeld.</p>
</li>
</ul>
</div>
<div id="listing-codeFormCheckbox4" class="listingblock">
<div class="title">Listing 76. Codebeispiel für formCheckboxWithFourEyes JSP-Komponente</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;!-- formCheckbox with FourEyes --&gt;

&lt;div class="form-horizontal"&gt;
    &lt;div class="row"&gt;
        &lt;div class="col-lg-12"&gt;
            &lt;isy:formCheckboxWithFourEyes
                    id="cbtest2FourEyes" reference="cbtest2FourEyes"
                    value="#{jsfSteuerelementeModel.checkboxBoolean1}"
                    label="Eine Auswahl" disabled="false"
                    labelStyleClass="col-lg-3"
                    inputStyleClass="col-lg-1"
                    valueChangeListener="#{jsfSteuerelementeController.checkboxAusgewaehlt}"
                    fourEyesMode="unlock"&gt;
            &lt;/isy:formCheckboxWithFourEyes&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="currency-Input-4eyes"><a class="anchor" href="#currency-Input-4eyes"></a>6.20.4. CurrencyInputWithFourEyes</h4>
<div class="paragraph">
<p>Die Komponente <code>&lt;isy:formCurrencyInputWithFourEyes&gt;</code> stellt ein Eingabefeld für eine Fließkommazahl nach dem Vier-Augen-Prinzip innerhalb von Formularen zur Verfügung.</p>
</div>
<div id="image-demopanelformCurrencyInpu" class="paragraph">
<p>Ansicht von isy_formCurrencyInputWithFourEyes
image::nutzungsvorgaben/demopanel-formCurrencyInput.png[align="center"]</p>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
<li>
<p><code>fourEyesMode</code>: 4 Augen Prinzip Mode (locked, unlock)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>label</code>: Der Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse für das Label. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse für den Eingabebereich. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>placeholder</code>: Der Platzhalter, welcher im Eingabefeld angezeigt wird.</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob das Eingabefeld deaktiviert ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>maxlength</code>: Die maximale Länge der Eingabe. (Standard: <code>255</code>, Typ: <code>Integer</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls benötigt. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
<li>
<p><code>onchange</code>: onchange JavaScript-Funktion wird aufgerufen, wenn der Cursor das Feld verlässt. (Standard: <code>formatAmountOfMoney(this)</code>)</p>
</li>
<li>
<p><code>onkeyup</code>: onkeyup JavaScript-Funktion wird aufgerufen, wenn eine Tastatureingabe in dem Feld gemacht wurde. (Standard: <code>deleteNonDigitCharacters(this)</code>)</p>
</li>
<li>
<p><code>decimalplaces</code>: Die Anzahl der Nachkommastellen. (Standard: <code>2</code>, Typ: <code>Integer</code>)</p>
</li>
<li>
<p><code>fourEyesLastValue</code>: Letzter Wert im 4-Augen-Eingabefeld.</p>
</li>
<li>
<p><code>alignright</code>: Gibt an, ob der Text innerhalb des Eingabefeldes rechts ausgerichtet sein soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Folgender Hinweis ist bei der Eingabe von Geldbeträgen zu beachten:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>die eingegebene Zahl wird ab einer Länge von mehr als 15 Ziffern automatisch gerundet. Daraus lassen sich folgende Beispiele ableiten:</p>
<div class="ulist">
<ul>
<li>
<p>Ohne Nachkommastelle ist 999999999999999</p>
</li>
<li>
<p>für 1 Nachkommastelle ist 99999999999999,9</p>
</li>
<li>
<p>für 2 Nachkommastellen ist 9999999999999,99 der maximale Betrag ohne Rundung.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="listing-codeFormCurrencyWith4Eyes" class="listingblock">
<div class="title">Listing 77. Codebeispiel für formCurrencyInputWithFourEyes JSP-Komponente</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;!-- formCurrencyInputWithFourEyes --&gt;

&lt;div class="form-horizontal"&gt;
	&lt;div class="row"&gt;
		&lt;isy:formCurrencyInputWithFourEyes
				label="isy:formCurrencyInput"
				labelStyleClass="col-lg-2" inputStyleClass="col-lg-2"
				required="true" placeholder="24,00" value=""
				reference="formCurrencyInputFourEyes" fourEyesMode="locked"
				fourEyesLastValue="Letzer Wert"&gt;
		&lt;/isy:formCurrencyInputWithFourEyes&gt;
	&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="formDate-4eyes"><a class="anchor" href="#formDate-4eyes"></a>6.20.5. FormDateWithFourEyes</h4>
<div class="paragraph">
<p>Die Komponente <code>&lt;isy:formDateInputWithFourEyes&gt;</code> stellt ein Eingabefeld für eine Datumseingabe mit dem Vier-Augen-Prinzip innerhalb von Formularen zur Verfügung.</p>
</div>
<div id="image-demopanelformDate" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-formDate.png" alt="demopanel formDate">
</div>
<div class="title">Abbildung 39. WebGui-Demoanwendung: isy_formDateWithFourEyes Varianten</div>
</div>
<div class="paragraph">
<p>Folgende Komponentenattribute müssen angegeben werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
<li>
<p><code>fourEyesMode</code>: 4 Augen Prinzip Mode (locked, unlock)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Folgende Komponentenattribute sind optional:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tooltip</code>: Tooltip. (Standard: '')</p>
</li>
<li>
<p><code>customId</code>: Erlaubt, eine spezielle ID zu setzen, um die Komponente z.B. für JavaScript oder Tests zugreifbar zu machen.
Diese wird im Attribut data-isy-custom-id eingetragen.</p>
</li>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>label</code>: Der Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse für das Label. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse für den Eingabebereich. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputFieldClass</code>: Die CSS-Klasse für das Input-Feld im Eingabebereich. (Standard: ``)</p>
</li>
<li>
<p><code>placeholder</code>: Der Platzhalter, welcher im Eingabefeld angezeigt wird. (Standard: <code>TT.MM.JJJJ</code>)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>language</code>: Die Sprache für den Datepicker. (Standard: <code>de</code>)</p>
</li>
<li>
<p><code>dateFormat</code>: Das Datumsformat für den Datepicker. (Standard: <code>dd.mm.yyyy</code>)</p>
</li>
<li>
<p><code>inputmask</code>: Das Maskenformat für das Eingabefeld. (Standard: <code>99.99.9999</code>)</p>
</li>
<li>
<p><code>inputmaskInsertMode</code>: Die Eingabemaske: Gibt an, ob der Text beim Eintippen überschrieben werden soll. (Standard: <code>true</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>inputmaskClearOnBlur</code>: Die Eingabemaske: Gibt an, ob beim Verlassen des Feldes die Maskierungsplatzhalter ausgeblendet werden sollen. (Standard: <code>true</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>showPicker</code>: Gibt an, ob Picker angezeigt werden soll. (Standard: <code>true</code>, Typ: <code>java.lang.Boolean</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls benötigt. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
<li>
<p><code>fourEyesLastValue</code>: Letzter Wert im 4-Augen-Eingabefeld.</p>
</li>
</ul>
</div>
<div id="listing-codeFormDate4" class="listingblock">
<div class="title">Listing 78. Codebeispiel für formDateWithFourEyes JSP-Komponente</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;div class="row"&gt;
	&lt;h2&gt;isy:formDateWithFourEyes&lt;/h2&gt;
&lt;/div&gt;

&lt;div class="col-lg-12"&gt;
	&lt;div class="row"&gt;
		&lt;div class="col-lg-8"&gt;
			&lt;isy:formDateWithFourEyes
					reference="formDate"
					label="formDate mit fourEyesMode=unlocked" value=""
					readonly="#{false}" fourEyesMode="unlocked"
					fourEyesLastValue="letzter Wert"
					inputStyleClass="col-lg-3"
					placeholder="#{msg.MEL_Components_formDate_Datum_Placeholder}"/&gt;
		&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="formInput-4eyes"><a class="anchor" href="#formInput-4eyes"></a>6.20.6. FormInputWithFourEyes</h4>
<div class="paragraph">
<p>Die Komponente <code>&lt;isy:formInputWithFourEyes&gt;</code> stellt ein Eingabefeld unter Verwendung des Vier-Augen-Prinzips innerhalb von Formularen zur Verfügung.</p>
</div>
<div id="image-demopanelformInput" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-formInput.png" alt="demopanel formInput">
</div>
<div class="title">Abbildung 40. WebGui-Demoanwendung: isy_formInputWithFourEyes Varianten</div>
</div>
<div class="paragraph">
<p>Folgende Facets können innerhalb des Tags verwendet werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>contentRight</code>: Das Icon, welches rechts neben dem Feld angezeigt wird.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
<li>
<p><code>fourEyesMode</code>: 4 Augen Prinzip Mode (locked, unlock)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>customId</code>: Erlaubt, eine spezielle ID zu setzen, um die Komponente z.B. für JavaScript oder Tests zugreifbar zu machen.
Diese wird im Attribut data-isy-custom-id eingetragen.</p>
</li>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>label</code>: Der Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse für das Label. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse für den Eingabebereich. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>placeholder</code>: Der Platzhalter, welcher im Eingabefeld angezeigt wird.</p>
</li>
<li>
<p><code>inputmask</code>: Die Eingabemaske.</p>
</li>
<li>
<p><code>inputmaskInsertMode</code>: Die Eingabemaske: Gibt an, ob text soll überschrieben werden beim eintippen. (Standard: <code>true</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>maxlength</code>: Die maximale Länge der Eingabe. (Standard: <code>255</code>, Typ: <code>Integer</code>)</p>
</li>
<li>
<p><code>width</code>: Die maximale Breite des Eingabefeldes. (Standard: <code>100%</code>)</p>
</li>
<li>
<p><code>showPrintView</code>: Zur aktuellen Druckansicht-Anzeige aus dem BasisModel. (Standard: <code>#\{not empty basisModel and basisModel.showPrintView}</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>tooltip</code>: Tooltip. (Standard: '')</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob das Eingabefeld deaktiviert ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls benötigt. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
<li>
<p><code>charpicker</code>: Gibt an, welche Eingabe für Sonderzeichen verwendet werden soll. Wird der Wert auf <code>dinSpec</code> gesetzt, wird der neue Character-Picker verwendet, welcher alle Zeichen der DIN SPEC 91379 unterstützt.
Soll der alte Legacy-Character-Picker verwendet werden, muss der Wert auf <code>special</code> gesetzt werden.
Standardmäßig wird kein Character-Picker verwendet.</p>
</li>
<li>
<p><code>type</code>: Der Typ des Eingabefelds, sodass diese Komponente z.B. auch für Passwort-Felder verwendet werden kann.
Mögliche Werte alle Werte für das Feld type des HTML Input Felds. (Standard: <code>text</code>)</p>
</li>
<li>
<p><code>fourEyesLastValue</code>: Letzter Wert im 4-Augen-Eingabefeld.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Der CharPicker funktioniert wie im Abschnitt <a href="#charpicker">Character-Picker</a> beschrieben.</p>
</div>
<div class="paragraph">
<p>Codebeispiel:</p>
</div>
<div id="listing-codeFormInputWithFourEyes" class="listingblock">
<div class="title">Listing 79. Codebeispiel für formInputWithFourEyes JSP-Komponente</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;div class="row"&gt;
	&lt;h2&gt;isy:formInputWithFourEyes&lt;/h2&gt;
&lt;/div&gt;

&lt;div class="form-horizontal"&gt;
	&lt;div class="row"&gt;
		&lt;isy:formInputWitohFurEyes
			id="formInputFourEyes"
			type="text" label="Text: "
			labelStyleClass="col-lg-2"
			inputStyleClass="col-lg-2"
			reference="formInputReferenz"
			value="#{jsfSteuerelementeModel.formInputField8}"
			fourEyesMode="locked"
			fourEyesLastValue="Letzer Wert"/&gt;
	&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="formNumericInput-4eyes"><a class="anchor" href="#formNumericInput-4eyes"></a>6.20.7. FormNumericInputWithFourEyes</h4>
<div class="paragraph">
<p>Die Komponente <code>&lt;isy:formNumericInputWithFourEyes&gt;</code> stellt ein Eingabefeld unter Verwendung des Vier-Augen-Prinzips innerhalb von Formularen zur Verfügung.</p>
</div>
<div id="image-demopanelformNumericInputWithFourEyes" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-formNumericInputWithFourEyes.png" alt="demopanel formNumericInputWithFourEyes">
</div>
<div class="title">Abbildung 41. WebGui-Demoanwendung: isy_formNumericInputWithFourEyes Varianten</div>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
<li>
<p><code>fourEyesMode</code>: 4 Augen Prinzip Mode (locked, unlock)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>label</code>: Der Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse für das Label. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse für den Eingabebereich. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>placeholder</code>: Der Platzhalter, welcher im Eingabefeld angezeigt wird.</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob das Eingabefeld deaktiviert ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>maxlength</code>: Die maximale Länge der Eingabe. (Standard: <code>255</code>, Typ: <code>Integer</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls benötigt. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
<li>
<p><code>onchange</code>: onchange JavaScript-Funktion wird aufgerufen, wenn der Cursor das Feld verlässt. (Standard: <code>formatNumericValue(this)</code>)</p>
</li>
<li>
<p><code>onkeyup</code>: onkeyup JavaScript-Funktion wird aufgerufen, wenn eine Tastatureingabe in dem Feld gemacht wurde. (Standard: <code>deleteNonDigitCharacters(this)</code>)</p>
</li>
<li>
<p><code>decimalplaces</code>: Die Anzahl der Nachkommastellen: Default ist 0. (Standard: <code>0</code>, Typ: <code>Integer</code>)</p>
</li>
<li>
<p><code>tausenderPunkt</code>: Wird ein Tausender-Punkt gewünscht? (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>fourEyesLastValue</code>: Letzter Wert im 4-Augen-Eingabefeld.</p>
</li>
<li>
<p><code>alignright</code>: Gibt an, ob der Text innerhalb des Eingabefeldes rechts ausgerichtet sein soll. Default ist false.(Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Codebeispiel:</p>
</div>
<div id="listing-codeFormNumericInputWithFourEyes" class="listingblock">
<div class="title">Listing 80. Codebeispiel für formNumericInputWithFourEyes JSP-Komponente</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;div class="row"&gt;
	&lt;h2&gt;isy:formNumericInputWithFourEyes&lt;/h2&gt;
&lt;/div&gt;
&lt;div class="col-lg-12"&gt;
	&lt;div class="row"&gt;
				&lt;isy:formNumericInputWithFourEyes
				label="formNumericInput mit fourEyesMode=unlocked"
				placeholder="24,00" fourEyesMode="unlocked"
				fourEyesLastValue="letzter Wert" value="" readonly="false"
				reference="formNumericInput2"/&gt;

		&lt;isy:formNumericInputWithFourEyes
				label="formNumericInput mit fourEyesMode=locked Fehler"
				placeholder="24,00" fourEyesMode="locked"
				fourEyesLastValue="letzter Wert" value="36,00" readonly="false"
				reference="fehlerPlatzhalter"/&gt;
	&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="formSelectOneDropDown-4eyes"><a class="anchor" href="#formSelectOneDropDown-4eyes"></a>6.20.8. FormSelectOneDropDownWithFourEyes</h4>
<div class="paragraph">
<p>Die Komponente <code>&lt;isy:formSelectOneDropDownWithFourEyes&gt;</code> stellt ein Eingabefeld für ein Dropdownfeld mit dem Vier-Augen-Prinzip innerhalb von Formularen zur Verfügung.</p>
</div>
<div id="image-demopanelformSelectOneDropdownWithFourEyes" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-formSelectOneDropdownWithFourEyes.png" alt="demopanel formSelectOneDropdownWithFourEyes">
</div>
<div class="title">Abbildung 42. WebGui-Demoanwendung: isy_formSelectOneDropdownWithFourEyes Varianten</div>
</div>
<div class="paragraph">
<p>Folgende Komponentenattribute müssen angegeben werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert der Auswahl für das Databinding</p>
</li>
<li>
<p><code>fourEyesMode</code>: Evente müssen explizit deklariert werden</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Folgende Komponentenattribute sind optional:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>invalid</code>: Gibt an, ob die Auswahl invalide ist oder nicht. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>customId</code>: Erlaubt, eine spezielle ID zu setzen, um die Komponente z.B. für JavaScript oder Tests zugreifbar zu machen. Diese wird im Attribut data-isy-custom-id eingetragen.</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Hinweis"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Besonderheit: Das formSelectOneDropDownWithFourEyes-Widget wird im Modus <code>readonly="true"</code> als Label gerendert und ohne Schloss-Icon dargestellt.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>valueChangeListener</code>: Value Change Listener</p>
</li>
<li>
<p><code>fourEyesLastValue</code>: 4 Augen Prinzip Mode (locked, unlock)</p>
</li>
<li>
<p><code>converter</code>: Letzter Wert im 4-Augen-Eingabefeld.</p>
</li>
<li>
<p><code>converterAttribute</code>: Konverter-Bean für die angezeigten Elemente</p>
</li>
<li>
<p><code>label</code>: Parameter für den Konverter</p>
</li>
<li>
<p><code>labelStyleClass</code>: Formspezifisch. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Der Text für das Label. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>dropdownStyleClass</code>: Die CSS-Klasse für das Label. (Standard: <code>form-selectonedropdown</code>)</p>
</li>
<li>
<p><code>showPrintView</code>: Die CSS-Klasse für den Eingabebereich. (Standard: <code>#\{not empty basisModel and basisModel.showPrintView}</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Zur aktuellen Druckansicht-Anzeige aus dem BasisModel. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="formTextArea-4eyes"><a class="anchor" href="#formTextArea-4eyes"></a>6.20.9. FormTextAreaWithFourEyes</h4>
<div class="paragraph">
<p>Die Komponente <code>&lt;isy:formTextAreaWithFourEyes&gt;</code> stellt ein mehrzeiliges Texteingabefeld nach dem Vier-Augen-Prinzip innerhalb von Formularen zur Verfügung.</p>
</div>
<div id="image-demopanelformTextarea" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-formTextarea.png" alt="demopanel formTextarea">
</div>
<div class="title">Abbildung 43. WebGui-Demoanwendung: isy_formTextareaWithFourEyes</div>
</div>
<div class="paragraph">
<p>Folgende Komponentenattribute müssen angegeben werden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert für das Databinding im Eingabefeld.</p>
</li>
<li>
<p><code>fourEyesMode</code>: 4 Augen Prinzip Mode (locked, unlock)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Folgende Komponentenattribute sind optional:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>customId</code>: Erlaubt, eine spezielle ID zu setzen, um die Komponente z.B. für JavaScript oder Tests zugreifbar zu machen.
Diese wird im Attribut data-isy-custom-id eingetragen.</p>
</li>
<li>
<p><code>required</code>: Gibt an, ob die Eingabe eine Pflichteingabe ist. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob die Bearbeitung aktiviert ist oder nicht(Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob auf das Feld nur lesend zugegriffen wird. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>label</code>: Der Text für das Label.</p>
</li>
<li>
<p><code>labelStyleClass</code>: Die CSS-Klasse für das Label. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>inputStyleClass</code>: Die CSS-Klasse für den Eingabebereich. (Standard: <code>col-lg-6</code>)</p>
</li>
<li>
<p><code>textareaStyleClass</code>: Die CSS-Klasse für die Textarea. (Standard: ``)</p>
</li>
<li>
<p><code>tooltip</code>: Der Tooltip, welcher angezeigt wird.</p>
</li>
<li>
<p><code>placeholder</code>: Der Platzhalter, welcher im Eingabefeld angezeigt wird.</p>
</li>
<li>
<p><code>rows</code>: Die Anzahl an Zeilen. (Standard: <code>5</code>, Typ: <code>Integer</code>)</p>
</li>
<li>
<p><code>cols</code>: Die Anzahl an Spalten (Typ: <code>Integer</code>)</p>
</li>
<li>
<p><code>maxlength</code>: Die maximal Anzahl von Zeichen. (Standard: <code>4000</code>, Typ: <code>Integer</code>)</p>
</li>
<li>
<p><code>showPrintView</code>: Zur aktuellen Druckansicht-Anzeige aus dem BasisModel. (Standard: <code>#\{not empty basisModel and basisModel.showPrintView}</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>validationModel</code>: Ein spezifisches Validation-Model, falls benötigt. (Standard: <code>#{validationModel}</code>)</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls benötigt. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
<li>
<p><code>fourEyesLastValue</code>: Letzter Wert im 4-Augen-Eingabefeld.</p>
</li>
</ul>
</div>
<div id="listing-codeFormTextAreaWithFourEyes" class="listingblock">
<div class="title">Listing 81. Codebeispiel für formTextAreaWithFourEyes JSP-Komponente</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;div class="row"&gt;
	&lt;h2&gt;isy:formTextareaWithFourEyes&lt;/h2&gt;
&lt;/div&gt;
&lt;div class="col-lg-12"&gt;
	&lt;div class="row"&gt;
		&lt;isy:formTextareaWithFourEyes
				id="formTextarea2"
				label="formTextarea mit  grey normal"
				reference="formTextarea2"
				readonly="false" value="" fourEyesMode="unlocked"
				fourEyesLastValue="letzter Wert" rows="3"/&gt;
	&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="selectOneDropdownWithfourEyes"><a class="anchor" href="#selectOneDropdownWithfourEyes"></a>6.20.10. SelectOneDropdownWithFourEyes</h4>
<div class="paragraph">
<p>Die Komponente <code>&lt;isy:selectOneDropdownWithFourEyes&gt;</code> stellt ein Dropdownfeld nach dem Vier-Augen-Prinzip zur Verfügung, aus dem man einen Eintrag auswählen kann.</p>
</div>
<div id="image-demopanelselectOneDropdownWithfourEyes" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/demopanel-selectOneDropdownWithFourEyes.png" alt="demopanel selectOneDropdownWithFourEyes">
</div>
<div class="title">Abbildung 44. WebGui-Demoanwendung: isy_selectOneDropdownWithfourEyes</div>
</div>
<div class="paragraph">
<p>Gegenüber der Komponente <code>&lt;isy:selectOneDropdownWithfourEyes&gt;</code> besitzt <code>&lt;isy:selectOneDropdownWithfourEyes&gt;</code> kein (vorangestelltes) Label, sondern nur eine Tooltip-Beschreibung, welches über das Attribut 'title' gesetzt werden kann.</p>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>reference</code>: Die Referenz des Objekts.</p>
</li>
<li>
<p><code>value</code>: Der Wert der Auswahl für das Databinding</p>
</li>
<li>
<p><code>fourEyesMode</code>: 4 Augen Prinzip Mode (locked, unlock)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>referenceId</code>: Der Wert der id. (Standard: <code>#\{jsfHelper.escapeIdentifier(cc.attrs.reference)}</code>)</p>
</li>
<li>
<p><code>invalid</code>: Gibt an, ob die Auswahl invalide ist oder nicht. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>disabled</code>: Gibt an, ob die Auswahl deaktiviert ist oder nicht. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>title</code>: Das Tooltip über dem SelectOneDropdown.</p>
</li>
<li>
<p><code>globalConfig</code>: Eine spezifische globale Konfiguration, falls notwendig. (Standard: <code>#{globalConfigurationModel}</code>)</p>
</li>
<li>
<p><code>dropdownStyleClass</code>: Die CSS-Klasse für das Dropdownmenü.</p>
</li>
<li>
<p><code>readonly</code>: Gibt an, ob die Darstellung nur lesend erfolgen soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Hinweis"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Besonderheit: Das formSelectOneDropDownWithFourEyes-Widget wird im Modus <code>readonly="true"</code> als Label gerendert und ohne Schloss-Icon dargestellt.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>disabled</code>: Gibt an, ob die Auswahl deaktiviert ist oder nicht. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>converter</code>: Konverter-Bean für die angezeigten Elemente</p>
</li>
<li>
<p><code>converterAttribute</code>: Parameter für den Konverter</p>
</li>
<li>
<p><code>customId</code>: Erlaubt, eine spezielle ID zu setzen, um die Komponente z.B. für JavaScript oder Tests zugreifbar zu machen.
Diese wird im Attribut data-isy-custom-id eingetragen.</p>
</li>
<li>
<p><code>fourEyesLastValue</code>: Letzter Wert im 4-Augen-Eingabefeld.</p>
</li>
<li>
<p><code>valueChangeListener</code>: Value Change Listener</p>
</li>
</ul>
</div>
<div id="listing-codeSelectOneDropdownWithfourEyes" class="listingblock">
<div class="title">Listing 82. Codebeispiel für selectOneDropdownWithFourEyes JSP-Komponente</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;div class="row"&gt;
	&lt;h2&gt;isy:selectOneDropdownWithFourEyes&lt;/h2&gt;
&lt;/div&gt;
&lt;div class="col-lg-12"&gt;
	&lt;div class="row"&gt;
		&lt;div class="col-lg-12"&gt;
			selectOneDropdown (kein Label, außerhalb einer Form).
		&lt;/div&gt;
		&lt;isy:selectOneDropdownWithFourEyes
				id="selectOneDropdownWithFourEyes"
				reference="selectOneDropdownWithFourEyes"
				readonly="false" value=""
				fourEyesMode="locked"
				fourEyesLastValue="letzter Wert"&gt;
			&lt;f:selectItem itemvalue="" itemLabel="&amp;nbsp; "/&gt;
			&lt;f:selectItems value="#{dropdownHelper.anredeListe}"/&gt;
		&lt;/isy:selectOneDropdownWithFourEyes&gt;
	&lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="FocusOnload"><a class="anchor" href="#FocusOnload"></a>6.21. FocusOnload</h3>
<div class="paragraph">
<p>Die Komponente <code>&lt;isy:focusOnload&gt;</code> dient dazu, das initial zu fokussierende Element einer Seite anzugeben oder die initiale Fokussierung zu deaktivieren.</p>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende notwendige Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>element</code>: Der Selektor für das Element, das initial fokussiert werden soll.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Außerdem gibt es folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>deactivated</code>: Gibt an, ob die initiale Fokussierung deaktiviert werden soll. (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>focus</code>: Gibt an, ob das Element fokussiert sein soll, auch wenn im GlobalFlowModel die Fokussierung deaktiviert ist.  (Standard: <code>false</code>, Typ: <code>Boolean</code>)</p>
</li>
<li>
<p><code>areaId</code>: Der Selektor für das Element, das initial fokussiert werden soll. (Standard: <code>focusOnloadArea</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="isy-PrintMetaInformationen"><a class="anchor" href="#isy-PrintMetaInformationen"></a>6.22. PrintMetaInformationen</h3>
<div class="paragraph">
<p>Das Tag <code>&lt;isy:printMetaInformation&gt;</code> dient bei Druckausgabe zur Ausgabe von Metainformationen wie z.B. eines Warnhinweises</p>
</div>
<div class="paragraph">
<p>Die Komponente besitzt folgende optionale Parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>warning</code>: Die anzuzeigende Warnung wenn die browserseitige Druckansicht einer Seite angezeigt wird (optional). (Standard: ``)</p>
</li>
<li>
<p><code>basis</code>: BasisModel. (Standard: <code>#{basisModel}</code>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<div class="divFooter"></div>

<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/isyfact.js"></script>
  </body>
</html>
