<!DOCTYPE html>
<html lang="de"> <!-- Sets the language to german for correct hyphenation-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nutzungsvorgaben HttpInvoker :: IsyFact Dokumentation</title>
    <link rel="canonical" href="https://isyfact.github.io/isyfact-standards-doku/latest/isy-serviceapi-core/nutzungsvorgaben/master.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="stylesheet" href="../../../../_/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../../../_/css/isyfact.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://isyfact.github.io">IsyFact Dokumentation</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="isyfact-standards-doku" data-version="3.0.0-SNAPSHOT">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../einstieg/einstieg.html">IsyFact Standards</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../einstieg/einstieg.html">Einstieg</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../einstieg/vorstellung.html">Vorstellung der IsyFact</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../einstieg/vorstellung/isyfact-standards.html">IsyFact-Standards</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../einstieg/vorstellung/isyfact-erweiterungen.html">IsyFact-Erweiterungen</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../einstieg/vorstellung/rahmenbedingungen.html">Rahmenbedingungen</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../einstieg/erste-schritte.html">Erste Schritte</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../einstieg/produkte.html">Eingesetzte Produkte</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../einstieg/produktkatalog/produktvorgabenAllgemein.html">Allgemeine Produktvorgaben</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../einstieg/produktkatalog/technologiestackJavaSpring.html">Java/Spring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../einstieg/produktkatalog/technologiestackTypescriptAngular.html">Typescript/Angular</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../einstieg/produktkatalog/negativliste.html">Negativliste</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../einstieg/produktkatalog/lebenszyklus.html">Lebenszyklus</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../einstieg/produktkatalog/changelog.html">Changelog</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../einstieg/tutorial/master.html">Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../einstieg/whitepaper.html">Whitepaper</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../blaupausen/blaupausen.html">Blaupausen</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../blaupausen/referenzarchitektur/master.html">Referenzarchitektur</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../blaupausen/referenzarchitektur-it-system/master.html">Referenzarchitektur IT-System</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-anwendungskern/master.html">Anwendungskern</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-datenzugriff/einordnung-ziele.html">Datenzugriff</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-datenzugriff/persistenzlogik.html">Konzeption der Persistenzlogik</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-datenzugriff/historisierung.html">Historisierung</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-datenzugriff/versionierung.html">Versionierung von Datenbankschemas</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-service/master.html">Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-web-gui/master.html">Web GUI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-batch/master.html">Batch</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Vorgaben</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/vorgaben-architektur/summaryArchitectureRules.html">Architektur</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/vorgaben-it-sicherheit/summarySecurityRules.html">IT-Sicherheit</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../bausteine/bausteine.html">Bausteine</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Datum &amp; Zeit</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-datetime/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-datetime/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Fehlerbehandlung</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-exception-core/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-exception-core/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">HttpInvoker</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">JPA/Hibernate</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../isy-persistence/konzept.html">Konzept</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../isy-persistence/konzept/vorgaben-konventionen.html">Vorgaben und Konventionen</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../isy-persistence/konzept/historisierung.html">Historisierung</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../isy-persistence/konzept/versionierung-mit-liquibase.html">Versionierung (Liquibase)</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../isy-persistence/konzept/versionierung.html">Versionierung (Eigenentwicklung)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Nutzungsvorgaben</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../isy-persistence/nutzungsvorgaben/umsetzung-datenzugriff.html">Umsetzung des Datenzugriffs</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../isy-persistence/nutzungsvorgaben/konfiguration.html">Konfiguration des O/R-Mappings</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../isy-persistence/nutzungsvorgaben/historisierung.html">Historisierung</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../isy-persistence/nutzungsvorgaben/versionierung.html">Versionierung (Eigenentwicklung)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Konfiguration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-konfiguration/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-konfiguration/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Logging</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-logging/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-logging/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Polling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-polling/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-polling/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">REST</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-service-rest/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-service-rest/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Security</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-security/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-security/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Sicherheit</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-sicherheit/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-sicherheit/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Sonderzeichen</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-sonderzeichen/konzept/sonderzeichen.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-sonderzeichen/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Task Scheduling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../isy-task/konzept.html">Konzept</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../isy-task/konzept/erweiterung-spring.html">Task Scheduling mit Spring</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../isy-task/konzept/integration-isyfact.html">Integration der IsyFact in das Task Scheduling</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-task/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Überwachung</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-ueberwachung/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-ueberwachung/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Util</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-util/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Bedienkonzept</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-bedienkonzept/bedienkonzept.html">Bedienkonzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-bedienkonzept/nutzungsvorgaben/nutzungsvorgaben.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">JSF</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../../isyfact-jsf-doku/latest/isy-web/konzept/konzept.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../../isyfact-jsf-doku/latest/isy-web/nutzungsvorgaben/nutzungsvorgaben.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../plattform/plattform.html">Plattform</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../methodik/methodik.html">Methodik</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../methodik/namenskonventionen/master.html">Namenskonventionen</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../methodik/versionierung/master.html">Versionierung</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../methodik/java-programmierkonventionen/master.html">Java Programmierkonventionen</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../methodik/typescript-programmierkonventionen/master.html">TypeScript Programmierkonventionen</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../methodik/vorgaben-dokumentation.html">Vorgaben Dokumentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../methodik/diagrammerstellung.html">Diagrammerstellung und Modellierung</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../methodik/diagrammerstellung/diagramsnet.html">diagrams.net</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../methodik/diagrammerstellung/enterprise-architect.html">Enterprise Architect</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../methodik/vorgaben-dokumentation/dokumentationstypen.html">Dokumentationstypen der IsyFact</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../methodik/vorlagen.html">Vorlagen</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../methodik/vorlage-systementwurf/antora-master.html">Systementwurf</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../methodik/vorlage-systemhandbuch/antora-master.html">Systemhandbuch</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../methodik/vorlagen/bearbeitung.html">Bearbeitung der AsciiDoc-Vorlagen</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../werkzeuge/werkzeuge.html">Werkzeuge</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../werkzeuge/dokumentation/einleitung/einfuehrung.html">Dokumentation gemäß IsyFact</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Antora (empfohlen)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../werkzeuge/dokumentation/erstellung/erstellung-antora.html">Seiten anlegen</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../werkzeuge/seitenvorlage.html">Seitenvorlage</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../../werkzeuge/kopiervorlage.html">Kopiervorlage für neue Seiten</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../werkzeuge/dokumentation/bearbeitung/bearbeitung-antora.html">Seiten bearbeiten</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../werkzeuge/dokumentation/generierung/generierung-antora.html">Projektseite erzeugen</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">AsciidoctorJ</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../werkzeuge/dokumentation/erstellung/erstellung-asciidoctorj.html">Neue Dokumente anlegen</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../werkzeuge/dokumentation/bearbeitung/bearbeitung-asciidoctorj.html">Dokumente bearbeiten</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../werkzeuge/dokumentation/generierung/generierung-asciidoctorj.html">PDF- und HTML-Dokumente erzeugen</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../werkzeuge/dokumentation/changelog/changelog-doku.html">Zentralisiertes und automatisiertes Changelog</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../werkzeuge/entwicklungsumgebung/master.html">Entwicklungsumgebung</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../werkzeuge/versionierungskontrolle/master.html">Versionierungskontrolle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../werkzeuge/gui-tests/gui-tests-mit-selenium.html">GUI-Tests mit Selenium</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../changelog/aenderungen.html">Änderungen Version 3.0 (DEV)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../changelog/releasenotes.html">Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../changelog/changelog.html">Changelog</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../changelog/migrationsleitfaden.html">Migrationsleitfaden IsyFact 3.0 (DEV)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../einstieg/migrationsleitfaden-if2/master.html">Migrationsleitfaden IsyFact 2</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">IsyFact Standards</span>
    <span class="version">3.0 (DEV)</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../glossary/latest/glossary/master.html">Glossar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../glossary/latest/glossary/master.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../einstieg/einstieg.html">IsyFact Standards</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../einstieg/einstieg.html">3.0 (DEV)</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../../isyfact-jsf-doku/latest/isy-web/konzept/konzept.html">JavaServer Faces (JSF)</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../isyfact-jsf-doku/latest/isy-web/konzept/konzept.html">5.3</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../einstieg/einstieg.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../einstieg/einstieg.html">IsyFact Standards</a></li>
    <li><a href="../../bausteine/bausteine.html">Bausteine</a></li>
    <li>HttpInvoker</li>
    <li><a href="master.html">Nutzungsvorgaben</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Inhalt" data-levels="3">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Nutzungsvorgaben HttpInvoker</h1>
<div id="preamble">
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="title"><span class="icon"><i class="fa fa-ban"></i></span> Deprecation</div>
<div class="paragraph">
<p>Dieser Baustein ist veraltet und wird in einem zukünftigen Release entfernt.
Die Inhalte dieser Seite sollten zur Entwicklung neuer Anwendungen nicht mehr berücksichtigt werden.
Stattdessen wird empfohlen, <a href="../../isy-service-rest/nutzungsvorgaben/master.html" class="xref page">Nutzungsvorgaben REST</a> zu verwenden.</p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><span class="image left"><img src="../../../../glossary/latest/licence/_images/IFS-Logo.png" alt="IFS-Logo" width="150"></span> Diese Seite ist ein Teil der IsyFact-Standards.
Alle Inhalte der Seite, insbesondere Texte und Grafiken, sind urheberrechtlich geschützt.
Alle urheberrechtlichen Nutzungs- und Verwertungsrechte liegen beim Bundesverwaltungsamt.</p>
</div>
<div class="paragraph">
<p><span class="image right"><img src="../../../../glossary/latest/licence/_images/CC-BY.png" alt="Creative Commons Namensnennung" width="150"></span>
Die Nutzung ist unter den <a href="../../../../glossary/latest/literaturextern/inhalt.html#litextern-cc-licence" class="xref page">Lizenzbedingungen</a> der <a href="../../../../glossary/latest/literaturextern/inhalt.html#litextern-cc-short" class="xref page">Creative Commons Namensnennung 4.0 International</a> gestattet.</p>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>Java Bibliothek / IT-System</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 20%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Art</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>isy-serviceapi-core</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bibliothek</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v3.0.0-SNAPSHOT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>isy-serviceapi-sst</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bibliothek</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v3.0.0-SNAPSHOT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>isy-exception-sst</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bibliothek</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v3.0.0-SNAPSHOT</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="einleitung"><a class="anchor" href="#einleitung"></a>1. Einleitung</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Hinweis"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Dieses Dokument ist aus mehreren Quellen entstanden und fasst die vorhandene Dokumentation zum Thema HTTP Invoker zusammen.
Der Baustein HTTP Invoker steht unter Bestandsschutz und wird nicht mehr aktiv weiterentwickelt.
Er wird in einem der nächsten Major Releases aus der IsyFact entfernt.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Das Dokument <a href="../konzept/master.html" class="xref page">KonzeptHttpInvoker</a> konzentriert sich auf die konzeptionellen Aspekte von Services mit HTTP Invoker.</p>
</div>
<div class="paragraph">
<p>Dieses Dokument beschreibt, wie diese Services konkret umgesetzt werden.
Es richtet sich an Entwickler, die ein <a href="../../../../glossary/latest/glossary/master.html#glossar-it-system" class="xref page">IT-System</a> gemäß den Vorgaben der IsyFact mit der Fähigkeit zur Kommunikation mit anderen IT-Systemen ausstatten müssen und beschreibt, was bei der Umsetzung zu bedenken ist.</p>
</div>
<div class="paragraph">
<p>Dazu beschreibt das Kapitel <a href="#maven-konfiguration">Maven-Konfiguration</a> zunächst die grundlegende Konfiguration, um den Baustein in ein IT-System einzubinden.
Danach beschreibt das Dokument die Realisierung eines Services in den Kapiteln:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#realisierung-remote-bean">Realisierung des Remote-Beans</a>,</p>
</li>
<li>
<p><a href="#realisierung-exception-fassade">Realisierung der Exception-Fassade</a>,</p>
</li>
<li>
<p><a href="#realisierung-service-fassade">Realisierung der Service-Fassade</a>,</p>
</li>
<li>
<p><a href="#realisierung-to">Realisierung von Transportobjekten</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Danach geht es um die <a href="#paketierung">Paketierung einer Service-Schnittstelle</a> und die <a href="#nutzung">Nutzung einer Service-Schnittstelle</a> durch ein anderes IT-System.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="maven-konfiguration"><a class="anchor" href="#maven-konfiguration"></a>2. Maven-Konfiguration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Zur Verwendung des Bausteins HTTP Invoker genügt es, die folgenden zwei Bibliotheken aus der IsyFact als Maven-Abhängigkeiten einzubinden.</p>
</div>
<div id="listing-pom" class="listingblock">
<div class="title">Listing 1. Einbindung des Bausteins HTTP Invoker</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependencyManagement&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;de.bund.bva.isyfact&lt;/groupId&gt;
            &lt;artifactId&gt;isy-serviceapi-core&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;de.bund.bva.isyfact&lt;/groupId&gt;
            &lt;artifactId&gt;isy-serviceapi-sst&lt;/artifactId&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="realisierung-der-service-schnittstelle"><a class="anchor" href="#realisierung-der-service-schnittstelle"></a>3. Realisierung der Service-Schnittstelle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Die folgenden Abschnitte führen durch die Realisierung einer Service-Schnittstelle mit HTTP Invoker.
Sie behandeln die folgenden Bestandteile: das Remote-Bean, die Exception-Fassade, die Service-Fassade und schließlich die Transportobjekte.
Die letzten Abschnitte beschreiben dann die Integration anderer Bausteine zur Realisierung querschnittlicher Aspekte: Fehlerbehandlung, Logging und die Absicherung von Service-Methoden.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Hinweis"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Wichtige ergänzende Hinweise sowie eine sehr umfangreiche Anleitung zur Erstellung von Service-Schnittstellen mit HTTP Invoker bietet das <a href="../../einstieg/tutorial/master.html" class="xref page">IsyFact Tutorial</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="realisierung-remote-bean"><a class="anchor" href="#realisierung-remote-bean"></a>3.1. Realisierung des Remote-Beans</h3>
<div class="paragraph">
<p>Das Remote-Bean wird als Java-Schnittstelle realisiert.
Jede Methode entspricht dabei einem möglichen Service-Aufruf.
Jede Methode der RemoteBean-Schnittstelle muss als ersten Parameter ein Objekt der Klasse <code>AufrufKontextTo</code> bzw. <code>ClientAufrufKontextTo</code> verwenden.
Dieser Parameter dient dazu, Meta-Informationen zum jeweiligen Aufruf zu übergeben.
Daneben enthält die Schnittstelle natürlich noch weitere, fachliche Parameter, die frei definiert werden können.</p>
</div>
<div class="paragraph">
<p>Die Verwendung von Parametern in einer Schnittstelle ist im folgenden Beispiel dargestellt:</p>
</div>
<div id="listing-BSPRemoteBean" class="listingblock">
<div class="title">Listing 2. Beispiel für ein Remote-Bean</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class BeispielRemoteBean {
     public BeispielHolenAntwortTo holeBeispielAnfrage(
         AufrufKontextTo kontext, BeispielHolenAnfrageTo anfrage)
         throws BeispielTechnicalToException;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Im Folgenden werden die beiden Klassen <code>AufrufKontextTo</code> und <code>ClientAufrufKontextTo</code> näher beschrieben.</p>
</div>
<div class="paragraph">
<p><strong>AufrufKontextTo:</strong> Die Klasse <code>AufrufKontextTo</code> wird für HTTP Invoker Schnittstellen verwendet, die durch IT-Systeme definiert werden.
Die Klasse kapselt die Informationen, mit denen andere IT-Systeme aufgerufen wurde:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Behörde:</strong> Das Behördenkennzeichen der aufrufenden Behörde,</p>
</li>
<li>
<p><strong>Kennung:</strong> Die Kennung des aufrufenden Benutzers oder des aufrufenden Fremdprogramms,</p>
</li>
<li>
<p><strong>Kennwort:</strong> Das Passwort des aufrufenden Benutzers oder des aufrufenden Fremdprogramms,</p>
</li>
<li>
<p><strong>Rollen:</strong> Die Rollen des aufrufenden Benutzers oder des aufrufenden Fremdprogramms,</p>
</li>
<li>
<p><strong>Korrelations-ID:</strong> Die ID, um den Service-Aufruf eindeutig zu identifizieren.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>ClientAufrufKontextTo:</strong> Die Klasse <code>ClientAufrufKontextTo</code> wird für HTTP Invoker Schnittstellen verwendet, die durch Service-Consumer definiert werden.
Im Gegensatz zu <code>AufrufKontextTo</code> kapselt diese Klasse die Informationen, um sich bei einem externen Service zu authentifizieren und zu autorisieren:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Kennung:</strong> Die Kennung mit welcher der externe Service aufgerufen wird,</p>
</li>
<li>
<p><strong>Kennwort:</strong> Das Passwort mit welchem der externe Service aufgerufen wird,</p>
</li>
<li>
<p><strong>Zertifikat:</strong> Das Zertifikat, um sich beim externen Service zu authentifizieren,</p>
</li>
<li>
<p><strong>Zertifikat-Kennwort:</strong> Das Passwort des Zertifikats für die Authentifizierung.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Sowohl <code>AufrufKontextTo</code> als auch <code>ClientAufrufKontextTo</code> sind in der Bibliothek <code>isy-serviceapi-sst</code> definiert.</p>
</div>
</div>
<div class="sect2">
<h3 id="realisierung-exception-fassade"><a class="anchor" href="#realisierung-exception-fassade"></a>3.2. Realisierung der Exception-Fassade</h3>
<div class="paragraph">
<p>Die Exception-Fassade implementiert das Remote-Bean-Interface und definiert in jeder Methode einen <code>try</code>-<code>catch</code>-Block, der alle Fehler des Anwendungskerns abfängt und in Fehler der Service-Schnittstelle umwandelt.</p>
</div>
<div class="paragraph">
<p>In <a href="#listing-BSPExceptionFassade">Listing 3</a> ist ein Beispiel für eine Exception-Fassade eines IT-Systems angegeben.
Die Service-Operationen sind in diesem Fall die Methoden des Interfaces <code>BeispielRemoteBean</code>.
Konkret handelt es sich lediglich um die Service-Operation <code>holeBeispielAnfrage</code>.
Die Service-Operation ist mit der Annotation <code>@StelltLoggingKontextBereit</code> versehen, die eine mit dem <code>AufrufKontext</code> übergebene Korrelations-ID im Logging-Kontext registriert und diesen beim Verlassen der Methode wieder aufräumt.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Hinweis"></i>
</td>
<td class="content">
Falls im AufrufKontext keine Korrelations-ID vorhanden ist, so erzeugt die Annotation eine neue Korrelations-ID.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Es ist wichtig den Logging-Kontext zu setzen, bevor die Exception-Fassade aktiv wird.
Die Implementierung der Service-Operation reicht den Methodenaufruf an die implementierende Klasse (<code>BeispielService</code>) weiter, fängt auftretende Fehler jedoch über einen <code>try</code>-<code>catch</code>-Block ab.
Der <code>try</code>-<code>catch</code>-Block unterscheidet zwischen Exceptions der Datenbankzugriffsschicht (<code>DataAccessException</code>) und allen anderen Exceptions (<code>Throwable</code>), um einen passenden Fehlertext in die Log-Dateien zu schreiben.</p>
</div>
<div id="listing-BSPExceptionFassade" class="listingblock">
<div class="title">Listing 3. Beispiel für eine Exception-Fassade</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class BeispielExceptionFassade implements BeispielRemoteBean
{
    private static final IsyLoggerStandard logger = ...;
    private BeispielServiceFassade beispielService;
    ...
    @StelltLoggingKontextBereit
    public BeispielHolenAntwortTo holeBeispielAnfrage
        (AufrufKontextTo kontext, BeispielHolenAnfrageTo anfrage)
        throws BeispielTechnicalToException {
        try {
            return beispielService.holeBeispielAnfrage(kontext,anfrage);
        } catch (DataAccessException e) {
            logger.error("Fehler bei Transaktion", e);
            throw new BeispielTechnicalToException(...);
        } catch (Throwable t) {
            logger.error("...", t);
             throw new BeispielTechnicalToException(...);
        }
    }
    ...
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="realisierung-service-fassade"><a class="anchor" href="#realisierung-service-fassade"></a>3.3. Realisierung der Service-Fassade</h3>
<div class="paragraph">
<p>Die Service-Fassade übernimmt die restlichen Aufgaben der Service-Logik, d.h. Transformation der Transportobjekte in Objekte des Anwendungskerns und umgekehrt, sowie die Autorisierung des Aufrufs.</p>
</div>
<div class="paragraph">
<p>In <a href="#listing-BSPServiceFassade">Listing 4</a> ist ein Beispiel für eine Service-Fassade angegeben.
Die Implementierung der Service-Fassade erfolgt analog zur Implementierung der Exception-Fassade.
Die nach außen angebotene Service-Operation (<code>holeBeispielAnfrage</code>) wird jedoch nicht eins-zu-eins an die implementierende Klasse weitergeleitet, da sich die Parameter und der Rückgabewert des Aufrufs unterscheiden.
Nach außen hin werden Transportobjekte angeboten.
Intern arbeitet die Anwendung mit ihren eigenen Entitäten.
Diese können sich von den nach außen hin angebotenen Transportobjekten unterscheiden, z.B. weil sie zusätzliche Attribute enthalten, einzelne Attribute anders benennen oder die Daten in irgendeiner Form anders repräsentieren als die Transportobjekte.</p>
</div>
<div class="paragraph">
<p>In der Service-Fassade erfolgt auch die Autorisierung eines Zugriffs auf eine Service-Methode.
Voraussetzung für die Autorisierung ist die Auswertung des mitgelieferten AufrufKontextes über die Annotation <code>@StelltAufrufKontextBereit</code> aus der Bibliothek <code>isy-serviceapi-core</code> an der Service-Methode.
Anschließend kann über die Annotation <code>@Gesichert</code> der Bibliothek <code>isy-sicherheit</code> die Berechtigung zum Zugriff auf die Methode geprüft werden.
Hier werden alle benötigten Rechte des Aufrufers überprüft.
Alternativ kann die Annotation <code>@Gesichert</code> auch an der Service-Klasse verwendet werden, wenn alle Methoden die gleiche Autorisierung erfordern.</p>
</div>
<div class="paragraph">
<p>Das Mapping im Beispiel wird durch einen Bean Mapper umgesetzt.
Vor dem Aufruf werden die Parameter gemappt (Klasse <code>BeispielHolenAnfrageTo</code> auf Klasse <code>BeispielHolenAnfrage</code>), nach dem Aufruf der Rückgabewert (Klasse <code>BeispielHolenAntwort</code> auf Klasse <code>BeispielHolenAntwortTo</code>).</p>
</div>
<div class="paragraph">
<p>Die Komponente Service-Logik wird durch eine entsprechende Spring-Konfigurationsklasse verschaltet.</p>
</div>
<div id="listing-BSPServiceFassade" class="listingblock">
<div class="title">Listing 4. Beispiel für eine Service-Fassade</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class BeispielServiceFassade {
    private static final IsyLoggerStandard logger = ...;

    private MapperFacade beanMapper;
    private Beispiel beispiel;

    @StelltAufrufKontextBereit
    @Gesichert(Rechte.RECHT_ZUGRIFFBEISPIEL)
    public BeispielHolenAntwortTo holeBeispielAnfrage(
        AufrufKontextTo kontext, BeispielHolenAnfrageTo anfrage) {

        try {
            BeispielHolenAnfrage anfrageAwk = beanMapper.map(anfrage, BeispielHolenAnfrage.class);
            BeispielHolenAntwort antwortAwk = beispiel.holeBeispielAnfrage(anfrageAwk);

            return beanMapper.map(antwortAwk, BeispielHolenAntwortTo.class);
        } catch (MappingException e) {
            logger.error("...", e);
            throw new TechnicalException(...);
        }
	...
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="realisierung-to"><a class="anchor" href="#realisierung-to"></a>3.4. Realisierung von Transportobjekten</h3>
<div class="paragraph">
<p>Transportobjekte dürfen keine externen Abhängigkeiten haben, da sie Teil der ausgelieferten Schnittstelle sind.
Bei Transportobjekten ist zu beachten, dass die UID stets 0 ist (s. <a href="#listing-to-uid">Listing 5</a>).</p>
</div>
<div id="listing-to-uid" class="listingblock">
<div class="title">Listing 5. Definition der UID an Transportobjekten</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class BeispielTransportobjekt {
    private static final long serialVersionUID = 0L;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fehlerbehandlung"><a class="anchor" href="#fehlerbehandlung"></a>3.5. Fehlerbehandlung</h3>
<div class="paragraph">
<p>HTTP Invoker Schnittstellen besitzen, wie bereits beschrieben, eigene Exceptions, die nur zur Kommunikation mit anderen IT-Systemen dienen.
Für diese Transport-Exceptions gilt über die Vorgaben des <a href="../../isy-exception-core/konzept/master.html" class="xref page">Konzept Fehlerbehandlung</a> hinaus noch:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sie erben immer von <code>BusinessToException</code> oder <code>TechnicalToException</code> und implementieren somit immer <code>Serializable</code>.</p>
</li>
<li>
<p>Sie stellen die Felder Ausnahme-ID, UUID und Fehlernachricht zur Verfügung.</p>
</li>
<li>
<p>Sie erben nicht von internen Exceptions des IT-Systems.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Daraus ergibt sich für Transport-Exceptions folgende Hierarchie:</p>
</div>
<div id="image-010" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/fehlerbehandlung010.png" alt="fehlerbehandlung010">
</div>
<div class="title">Abbildung 1. Vererbungshierarchie für Transport-Exceptions</div>
</div>
<div class="paragraph">
<p>Weiterhin gelten pro Service-Methode folgende Vorgaben:</p>
</div>
<div class="paragraph">
<p><strong>Definition von technischen Exceptions:</strong> Service-Methoden deklarieren keine oder eine technische Exception.
Die technische Exception muss für alle Service-Methoden einer Service-Schnittstelle gleich sein.</p>
</div>
<div class="paragraph">
<p><strong>Definition von fachlichen Exceptions:</strong> Service-Methoden können beliebig viele fachliche Exceptions deklarieren.
Diese können spezifisch für jede Service-Methode sein.</p>
</div>
<div class="paragraph">
<p><strong>Übermittlung von Daten:</strong> Die Felder Ausnahme-ID, UUID und Fehlernachricht müssen stets übertragen werden.
Weiterhin darf kein Stack-Trace übertragen werden.</p>
</div>
<div class="paragraph">
<p>Die Fehlerbehandlung geschieht in der Exception-Fassade, die einen Service-Aufruf nach außen hin kapselt (siehe <a href="#image-011">Abbildung 2</a>).</p>
</div>
<div id="image-011" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/fehlerbehandlung011.png" alt="fehlerbehandlung011" width="80%">
</div>
<div class="title">Abbildung 2. Aufrufkette von der Service-Schnittstelle zum Anwendungskern</div>
</div>
<div class="paragraph">
<p>Die Exception-Fassade bildet die Klammer um einen Aufruf an die Anwendung und ist für die Top-Level Fehlerbehandlung zuständig.
Sie leitet den Aufruf an die Service-Fassade weiter, die wiederum den Anwendungskern aufruft.
Dieser zweistufige Prozess ist notwendig, falls es unerwartete Exceptions in der Service-Fassade selbst gibt (z.B. falls diese die Transaktionsklammer um mehrere Aufrufe des Anwendungskerns bildet).
Solche unerwartete Exceptions treten außerhalb der eigentlichen Anwendung auf und könnten die Fehlerbehandlung an der Schnittstelle selbst stören.
Daher liegt die Exception-Fassade noch vor der Service-Fassade, um auch diese Fehler abzufangen, zu loggen, in Transport-Exceptions umzuwandeln und an den Aufrufer weiterzureichen.</p>
</div>
<div class="paragraph">
<p><a href="#listing-FehlerbehandlungExceptionFassade">Listing 6</a> zeigt die Fehlerbehandlung in der Exception-Fassade für das Beispiel-Remote-Bean.</p>
</div>
<div id="listing-FehlerbehandlungExceptionFassade" class="listingblock">
<div class="title">Listing 6. Fehlerbehandlung in der Exception-Fassade</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class BeispielExceptionFassade implements BeispielRemoteBean {
    private static final IsyLoggerStandard LOG = ...;

    private final BeispielServiceFassade service;

    ...

    @StelltLoggingKontextBereit
    public BeispielHolenAntwortTo holeBeispielAnfrage(
        AufrufKontextTo kontext, BeispielHolenAnfrageTo anfrage) {
        throws BeispielBusinessToException, BeispielTechnicalToException {

    try {
        return service.holeBeispielAnfrage(kontext, anfrage);
    } catch (InternalBusinessException ex) {
        LOG.debug("...", ex);
        // Exceptions in Schnittstellen-Exceptions transformieren.
        throw (BeispielBusinessToException)ExceptionMapper.mapException(
                ex, BeispielBusinessToException.class);
    } catch (InternalTechnicalRuntimeException ex) {
        LOG.error("...", ex);
        throw (BeispielTechnicalToException)ExceptionMapper.mapException(
            ex, BeispielTechnicalToException.class);
    } catch (Throwable t) {
        LOG.error("...", t);
        // Unbekannte Exceptions in Schnittstellen-Exceptions transformieren.
        BeispielTechnicalToException ex = ExceptionMapper.createToException(
                AusnahmeIdUtil.getAusnahmeId(t),
                new FehlertextProviderImpl(),
                BeispielTechnicalToException.class);
        LOG.error("Übergebener Fehler: " + ex.getMessage());
        throw ex;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Das Code-Beispiel in <a href="#listing-FehlerbehandlungExceptionFassade">Listing 6</a> fängt alle Exceptions und wandelt diese in entsprechende Transport-Exceptions um.
Als erwartete Exceptions gibt es hier die Exception <code>InternalBusinessException</code>.
Diese wird, sofern sie auftritt, in eine <code>BeispielBusinessToException</code> umgewandelt und weitergereicht.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warnung"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Zu beachten ist, dass in das Error-Log nur betrieblich relevante Fehler geschrieben werden sollen.
Fachliche Fehler sind in der Regel irrelevant für den Betrieb.
Daher wird die <code>InternalBusinessException</code> ins Debug-Log geschrieben.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Weitere erwartete Fehler gibt es nicht, somit wird nun eine Fehlerbehandlung für unerwartete Fehler der Anwendung durchgeführt (alle Exceptions vom Typ <code>InternalTechnicalRuntimeException</code>).
Als letzte mögliche Fehlerbehandlung werden alle unerwarteten Exceptions vom Typ <code>Throwable</code> gefangen.</p>
</div>
<div class="paragraph">
<p>Der erste Block in diesem Beispiel behandelt eine fachliche Exception.
Die restlichen Blöcke behandeln unerwartete, technische Exceptions.
Fachliche Exceptions müssen immer in fachliche Transport-Exceptions umgewandelt werden, alle anderen Exceptions sind in technische Transport-Exceptions umzuwandeln.</p>
</div>
<div class="paragraph">
<p>Alle Blöcke einer solchen Fassade auf der Anwendungsgrenze verwenden die Klasse <code>ExceptionMapper</code> (siehe <a href="#mapping-von-exceptions">Mapping von Exceptions</a>) zur Umwandlung der fachlichen und technischen Exceptions in Transport-Exceptions und zur Erstellung von Transport-Exceptions.
Letzteres wird im letzten <code>catch</code>-Block des obigen Code-Beispiels genutzt, da in diesem Fall keine gemäß <a href="../../isy-exception-core/konzept/master.html" class="xref page">Konzept Fehlerbehandlung</a> aufgebaute Exception und somit weder Ausnahme-ID, UUID noch Fehlernachricht vorhanden sind.
In diesem Fall ist die benötigte Ausnahme-ID zu berechnen, mithilfe der Schnittstelle <code>AusnahmeIdErmittler</code> (siehe <a href="#mapping-von-exceptions">Mapping von Exceptions</a>).</p>
</div>
<div class="paragraph">
<p>Die <code>catch</code>-Blöcke für interne Runtime-Exceptions (hier vom Typ <code>InternalTechnicalRuntimeException</code>) und alle übrigen unerwarteten Exceptions (<code>Throwable</code>) müssen immer implementiert werden.
Hierdurch wird verhindert, dass die Schnittstelle nicht spezifizierte Exceptions weiterreicht.</p>
</div>
<div class="sect3">
<h4 id="mapping-von-exceptions"><a class="anchor" href="#mapping-von-exceptions"></a>3.5.1. Mapping von Exceptions</h4>
<div class="paragraph">
<p>Zur Umwandlung von internen Exceptions in Transport-Exceptions stellt die Bibliothek <code>isy-serviceapi-core</code> eine eigene Klasse zur Verfügung: <code>ExceptionMapper</code> (siehe <a href="#image-012">Abbildung 3</a>).</p>
</div>
<div id="image-012" class="imageblock text-center">
<div class="content">
<img src="../_images/nutzungsvorgaben/fehlerbehandlung012.png" alt="fehlerbehandlung012" width="50%">
</div>
<div class="title">Abbildung 3. Methoden der Klasse ExceptionMapper</div>
</div>
<div class="paragraph">
<p>Die Klasse <code>ExceptionMapper</code> bietet zwei statische Methoden an, um aus fachlichen oder technischen Exceptions entsprechende Transport-Exceptions zu erstellen.
Hierfür muss lediglich die umzuwandelnde Exception und die Klasse der gewünschten Transport-Exception mitgegeben werden.
<a href="#listing-MappingExceptionNachToException">Listing 7</a> zeigt ein Beispiel für die Umwandlung einer technischen Exception in eine technische Transport-Exception.</p>
</div>
<div id="listing-MappingExceptionNachToException" class="listingblock">
<div class="title">Listing 7. Mappen einer BaseException in eine technische Transport-Exception</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ExceptionMapper.mapException(ex, BeispielTechnicalToException.class)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Es können jedoch weitere Exceptions auftreten, die nicht gemäß <a href="../../isy-exception-core/konzept/master.html" class="xref page">Konzept Fehlerbehandlung</a> aufgebaut sind.
Diese besitzen keine Ausnahme-ID oder eine UUID, z.B. Runtime-Exceptions aus Frameworks von Drittherstellern.
Auch diese Exceptions müssen in Transport-Exceptions umgewandelt werden.
<a href="#listing-createToException">Listing 8</a> zeigt ein Beispiel für eine solche Umwandlung.</p>
</div>
<div id="listing-createToException" class="listingblock">
<div class="title">Listing 8. Erstellen von Transport-Exceptions</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Throwable t = ...;
AusnahmeIdErmittler a = ...;
BeispielTechnicalToException ex = ExceptionMapper.createToException(
                                    a.ermittleAusnahmeId(t),
                                    new FehlertextProviderImpl(),
                                    BeispielTechnicalToException.class);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dazu muss die Schnittstelle <code>AusnahmeIdErmittler</code> implementiert werden.
Sie bietet eine Methode, <code>String getAusnahmeId(Throwable)</code>, zur Analyse einer übergebenen Exception und zur Rückgabe der zur Exception passenden Ausnahme-ID.
Diese Klasse ist anwendungsspezifisch und für jede Anwendung zu implementieren.</p>
</div>
<div class="paragraph">
<p><a href="#listing-MappingExceptions">Listing 9</a> zeigt eine mögliche Implementierung für das Mapping von Exceptions auf Ausnahme-IDs.</p>
</div>
<div id="listing-MappingExceptions" class="listingblock">
<div class="title">Listing 9. Beispielhaftes Mapping von Exceptions auf Ausnahme-IDs</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Bean
public class BeispielAusnahmeIdErmittler implements AusnahmeIdErmittler {

    public String ermittleAusnahmeId(Throwable e) {
        if (throwable instanceof DataAccessException) {
            // generische Datenbank-Fehlermeldung
            return FehlerSchluessel.MSG_GENERISCHER_DB_FEHLER;
        } else if (throwable instanceof JmxException) {
            // generische JMX-Fehlermeldung
            return FehlerSchluessel.MSG_GENERISCHER_JMX_FEHLER;
        } else if (throwable instanceof InternalBusinessException) {
            // Bei Exceptions mit Ausnahme-ID: diese auslesen
            return ((InternalBusinessException) throwable).getAusnahmeID();
        }
        // Kein Mapping Möglich: generische Fehlermeldung
        return FehlerSchluessel.MSG_GENERISCHER_FEHLER;
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die Ermittlung der Ausnahme-ID sollte auch auf die internen Exceptions der Anwendung prüfen, auch wenn es nie zu einer positiven Prüfung dieser Bedingungen kommen sollte.
Sollte hier also ein Treffer für interne Exceptions auftreten, so wurden die <code>catch</code>-Blöcke nicht sauber implementiert (z.B. wurde einfach nur <code>catch Throwable</code> verwendet).
Dies würde dazu führen, dass die Original-Nachricht überschrieben würde, was besonders bei fachlichen Exceptions zu einem Informationsverlust für den Aufrufer führt.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="service-absicherung"><a class="anchor" href="#service-absicherung"></a>3.6. Absicherung von Service-Methoden</h3>
<div class="paragraph">
<p>In HTTP Invoker Schnittstellen werden in der Regel einzelne Methoden der Service-Fassade (hinter der Exception-Fassade) abgesichert.
Zur Autorisierung von Aufrufen sind Informationen aus dem Aufrufkontext nötig.
Dieser wird als erster Schnittstellenparameter in Form eines Transportobjekts mit jedem Aufruf übergeben.
Dieses Transportobjekt, eine Instanz der Klasse <code>AufrufKontextTo</code>, muss die Informationen zum anfragenden Anwender und dessen Rollen enthalten.</p>
</div>
<div class="paragraph">
<p>Zur Autorisierung muss die Service-Methode oder die Service-Fassade mit <code>@StelltAufrufKontextBereit</code> annotiert sein.
Die Annotation signalisiert einem Interceptor, das Transportobjekt auszulesen und die bereitgestellten Informationen in den Aufrufkontext des IT-Systems zu übertragen.</p>
</div>
<div class="paragraph">
<p>Mit dieser Voraussetzung können Service-Methoden durch die Annotation <code>@Gesichert</code> abgesichert werden.
Als Standard-Parameter werden alle Rechte aufgelistet, die eine Anfrage für einen Aufruf beinhalten muss.
Die Rechte sind immer konjunktiv verknüpft.
Eine disjunktive Verknüpfung von Rechten ist nicht möglich.</p>
</div>
<div class="paragraph">
<p>Folgendes Beispiel (<a href="#listing-absichern-einer-service-methode">Listing 10</a>) zeigt die Implementierung einer Service-Methode, für die der Aufrufkontext automatisch ausgelesen und anschließend die Autorisierung gegen den Baustein Sicherheit durchgeführt wird.</p>
</div>
<div id="listing-absichern-einer-service-methode" class="listingblock">
<div class="title">Listing 10. Absichern einer Service-Methode</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@StelltAufrufKontextBereit
@Gesichert("RechtA", "RechtB")
public void abgesicherteMethode(AufrufKontextTo kontext, ...) {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Erfüllt ein Aufrufer die Forderungen der Annotation <code>@Gesichert</code> nicht, so wird ein Fehler des Typs <code>AutorisierungFehlgeschlagenException</code> erzeugt.
Der Fehler wird in der Regel nicht lokal behandelt, sondern einfach zurückgegeben.
Letztlich deuten fehlende Rechte meist auf einen unberechtigten Zugriff oder einen Fehler in der Konfiguration einer aufrufenden Anwendung hin, sodass hier die normale Fehlerbehandlung greift.</p>
</div>
</div>
<div class="sect2">
<h3 id="kompatibilitaet-zu-weiteren-iam-systemen"><a class="anchor" href="#kompatibilitaet-zu-weiteren-iam-systemen"></a>3.7. Kompatibilität zu OAuth 2</h3>
<div class="paragraph">
<p>Aufgrund der Umstellung auf OAuth 2 zur Authentifizierung und Autorisierung muss das Bearer Token bei jedem Schnittstellenaufruf übertragen werden.
Dies geschieht für existierende Schnittstellen transparent.</p>
</div>
<div class="paragraph">
<p>Der Zugriff auf das Bearer Token geschieht über den <code>AufrufKontextVerwalter</code>.
Die Klasse enthält hierfür ein Attribut <code>bearerToken</code>.</p>
</div>
<div id="listing-aufrufkontextverwalter" class="listingblock">
<div class="title">Listing 11. Bearer Token in AufrufKontextVerwalter</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface AufrufKontextVerwalter&lt;T extends AufrufKontext&gt; {

    String getBearerToken();

    void setBearerToken(String bearerToken);

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Zur Übertragung wird der HTTP-Header <code>Authorization</code> verwendet.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="paketierung"><a class="anchor" href="#paketierung"></a>4. Paketierung einer Service-Schnittstelle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>IT-Systeme teilen sich folgende Java-Klassen der HTTP Invoker Schnittstelle:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java-Interface der Schnittstelle (Remote-Bean),</p>
</li>
<li>
<p>Java-Klassen der Transportobjekte,</p>
</li>
<li>
<p>Java-Klassen der Transport-Exceptions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Diese Klassen müssen als JAR mit einer einzigen Abhängigkeit auf die Bibliothek <code>isy-serviceapi-sst</code> paketiert werden.
Sie werden anhand der Vorgaben in <a href="../../blaupausen/detailkonzept-komponente-service/master.html" class="xref page">Detailkonzept Komponente Service</a> und <a href="../../methodik/versionierung/master.html" class="xref page">IsyFact Versionierung</a> versioniert und anhand der Vorgaben in <a href="../../methodik/namenskonventionen/master.html" class="xref page">IsyFact Namenskonventionen</a> benannt.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bereitstellung"><a class="anchor" href="#bereitstellung"></a>5. Bereitstellung einer Service-Schnittstelle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In der Konfigurationsklasse der Service-Schicht wird die HTTP Invoker Konfiguration der Service-Schnittstelle eingebunden.
Dazu werden das Remote-Bean-Interface und die zugehörige Implementierung in Form der Exception-Fassade als Service konfiguriert <a href="#listing-httpinvokerserviceexporter">Listing 12</a>.
Der Bean-Name ist für die URL, unter welcher der Service erreichbar sein wird, wichtig.</p>
</div>
<div id="listing-httpinvokerserviceexporter" class="listingblock">
<div class="title">Listing 12. Konfiguration von Remote Bean und Exception Fassade als Service</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
public class ServiceConfiguration {

    @Bean("/BeispielBean_v1_0")
    public HttpInvokerServiceExporter beispielService(BeispielExceptionFassade beispiel) {
        HttpInvokerServiceExporter exporter = new HttpInvokerServiceExporter();
        exporter.setService(beispiel);
        exporter.setServiceInterface(BeispielRemoteBean.class);
        return exporter;
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="nutzung"><a class="anchor" href="#nutzung"></a>6. Nutzung einer Service-Schnittstelle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Zur Nutzung einer entfernten Schnittstelle bindet ein IT-System das JAR der Schnittstelle via Maven ein und initialisiert die Remote-Beans damit.
Das geschieht über die vom Spring Framework bereitgestellte Factory-Klasse <code>HttpInvokerProxyFactoryBean</code>, wie in <a href="#listing-invokerconfig">Listing 13</a> dargestellt.
Auf dieser Bean können dann die entfernten Methoden aufgerufen werden.</p>
</div>
<div id="listing-invokerconfig" class="listingblock">
<div class="title">Listing 13. Konfiguration für die Nutzung einer entfernten Schnittstelle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
public class ServiceConfiguration {
    @Bean
    public HttpInvokerProxyFactoryBean beispielRemoteBean(HttpInvokerRequestExecutor executor, ServiceConfigProperties config) {
        HttpInvokerProxyFactoryBean invoker = new HttpInvokerProxyFactoryBean();
        invoker.setServiceUrl(config.getServiceUrl());
        invoker.setServiceInterface(BeispielRemoteBean.class);
        invoker.setHttpInvokerRequestExecutor(executor);
        return invoker;
    }

    @Bean
    public TimeoutWiederholungHttpInvokerRequestExecutor executor(ServiceConfigProperties config) {
        TimeoutWiederholungHttpInvokerRequestExecutor executor = new TimeoutWiederholungHttpInvokerRequestExecutor();
        executor.setAnzahlWiederholungen(config.getWiederholungen());
        executor.setTimeout(config.getTimeout());
        return executor;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die FactoryBean erwartet eine Service-URL und ein Remote-Bean-Interface zur Initialisierung.
Der Host-Teil der URL muss in jedem Fall in der betrieblichen Konfiguration der Anwendung zu finden sein.
Das Remote-Bean-Interface ist im Schnittstellen-JAR verfügbar.</p>
</div>
<div class="paragraph">
<p>Die Nutzung des hier im Beispiel verwendeten <code>TimeoutWiederholungHttpInvokerRequestExecutor</code> ist zwar optional, wird aber dringend empfohlen, um Langläufer zu vermeiden.
Dieser Executor bricht nach dem angegebenen Timeout die Anfrage ab und wiederholt sie bis zur maximalen angegebenen Wiederholungsanzahl.
Die Parameter für Timeout und Wiederholungen sind Bestandteil der betrieblichen Konfiguration (s. <a href="../../isy-konfiguration/konzept/master.html" class="xref page">Konzept Konfiguration</a>).</p>
</div>
<div class="paragraph">
<p>Nutzt das IT-System den Baustein Logging, muss statt der Spring-eigenen Factory die erweiterte <code>IsyHttpInvokerProxyFactoryBean</code> genutzt werden.
Sie versieht die Remote-Beans automatisch mit einem <code>LogMethodInterceptor</code>, der die Aufrufzeiten der ausgehenden Aufrufe misst und loggt.
Die Konfiguration erfolgt wie in <a href="#listing-isyinvokerconfig">Listing 14</a> gezeigt.</p>
</div>
<div id="listing-isyinvokerconfig" class="listingblock">
<div class="title">Listing 14. Konfiguration mit IsyHttpInvokerProxyFactoryBean</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
public class ServiceConfiguration {
    @Bean
    public IsyHttpInvokerProxyFactoryBean beispielRemoteBean(HttpInvokerRequestExecutor executor, ServiceConfigProperties config) {
        IsyHttpInvokerProxyFactoryBean invoker = new IsyHttpInvokerProxyFactoryBean();
        invoker.setServiceUrl(config.getServiceUrl());
        invoker.setServiceInterface(BeispielRemoteBean.class);
        invoker.setHttpInvokerRequestExecutor(executor);
        invoker.setRemoteSystemName(config.getRemoteSystemName());
        return invoker;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die erweiterte FactoryBean erwartet nur einen zusätzlichen Parameter <code>remoteSystemName</code>.
Dieser wird genutzt, um in allen Log-Ausgaben einen sprechenden Systemnamen zu setzen.</p>
</div>
<div class="sect2">
<h3 id="kompatibilitaet_if1_2_3"><a class="anchor" href="#kompatibilitaet_if1_2_3"></a>6.1. Kompatibilität zu IF1/IF2/IF3</h3>
<div class="sect3">
<h4 id="if1_if2_client"><a class="anchor" href="#if1_if2_client"></a>6.1.1. IF1- und IF2-Client</h4>
<div class="paragraph">
<p>Anwendungen basierend auf der IF1 oder IF2 können HTTP-Invoker-Aufrufe wie gewohnt durchführen, da diese einen gefüllten <code>AufrufKontext</code> besitzen.
Hier bleibt das Vorgehen wie bisher in der Anleitung  beschrieben.</p>
</div>
</div>
<div class="sect3">
<h4 id="if3_client"><a class="anchor" href="#if3_client"></a>6.1.2. IF3-Client</h4>
<div class="paragraph">
<p>Im Zuge des Upgrades zu IF3 wird der <code>AufrufKontext</code> (deprecated)  nicht mehr verwendet und der von IF3-Anwendungen verwendete Sicherheitsbaustein <code>isy-security</code> wird nativ keine HTTP-Invoker Schnittstellen mehr unterstützen.
Um weiterhin die Kompatibilität von HTTP-Invoker-Aufrufen gegenüber IF1-, IF2- und IF3-Anwendungen zu gewährleisten, muss bei einem HTTP-Invoker-Aufruf ein <code>AufrufKontext</code> als Transportobjekt ad hoc erzeugt werden.</p>
</div>
<div class="paragraph">
<p>Das <code>AufrufKontextTo</code> wird dabei direkt aus dem Spring <code>SecurityContext</code> bzw. dem <code>AccessToken</code> erzeugt.
Dazu wird der <code>Berechtigungsmanager</code> des Bausteins <code>isy-security</code> verwendet; <code>isy-security</code> ist als eine <code>provided</code>-Dependency im <code>isy-serviceapi-core</code>-Baustein eingebunden, d.h. für IF1 und IF2-Anwendungen wird diese Dependency nicht benötigt, da diese Anwendungen bereits einen gefüllten <code>AufrufKontext</code> vorhalten und für eine IF3-Anwendung muss diese Dependency zur Runtime zur Verfügung stehen, wenn ein Transportobjekt des <code>AufrufKontext</code> ad hoc erzeugt werden soll.
In der IF3-Applikation muss somit isy-security eingebunden sein, um ein <code>AufrufKontextTo</code> zu erzeugen.</p>
</div>
<div class="paragraph">
<p>Zur Erzeugung des <code>AufrufKontextTo</code> wird eine <code>RemoteInvocationFactory</code> verwendet, an die der Anwender als ersten Parameter null übergeben muss (der AufrufKontext kommt immer zuerst).
Per Default wird die <code>RemoteInvocationFactory</code> nur in <code>IsyHttpInvokerProxyFactoryBean</code> verwendet.
Falls die Spring-eigene Factory verwendet wird, muss die <code>RemoteInvocationFactory</code> explizit in einem Setter (<code>setRemoteInvocationFactory()</code>) gesetzt werden.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sicherheit"><a class="anchor" href="#sicherheit"></a>7. Sicherheit</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Bei der Übertragung von Daten über eine HTTP-Invoker-Schnittstelle werden Java-Klassen serialisiert und deserialisiert.
Wird bei der Deserialisierung die Integrität der Daten nicht sichergestellt, können Angreifer schadhaften Code über eine HTTP-Invoker-Schnittstelle einschleusen (siehe <a href="../../../../glossary/latest/literaturextern/inhalt.html#litextern-cwe-502" class="xref page">CWE-502</a>).
Das Betrifft alle HTTP-Invoker-Schnittstellen, die direkt von außerhalb einer Anwendungslandschaft benutzt werden können.</p>
</div>
<div class="paragraph">
<p>Um die Sicherheit an dieser Stelle zu erhöhen, müssen HTTP-Invoker-Schnittstellen den <code>IsyHttpInvokerServiceExporter</code> verwenden.
Dieser Exporter deaktiviert standardmäßig die Verwendung von Proxy-Klassen, über welche potenziell schadhafter Code deserialisiert werden kann.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<div class="divFooter"></div>

<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/isyfact.js"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/vendor/lunr-languages.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
  </body>
</html>
