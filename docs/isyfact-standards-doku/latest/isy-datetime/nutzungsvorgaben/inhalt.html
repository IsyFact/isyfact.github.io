<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nutzungsvorgaben Datum &amp; Zeit: Inhalt :: IsyFact Dokumentation</title>
    <link rel="canonical" href="https://github.com/isyfact/isyfact-standards-doku/latest/isy-datetime/nutzungsvorgaben/inhalt.html">
    <meta name="generator" content="Antora 3.0.1">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="stylesheet" href="../../../../_/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../../../_/css/isyfact.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://github.com/isyfact">IsyFact Dokumentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="isyfact-standards-doku" data-version="2.5-SNAPSHOT">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../einstieg/vorstellung.html">IsyFact Standards</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Einstieg</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../einstieg/vorstellung.html">Vorstellung der IsyFact</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../einstieg/vorstellung/isyfact-standards.html">IsyFact-Standards</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../einstieg/vorstellung/isyfact-erweiterungen.html">IsyFact-Erweiterungen</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../einstieg/vorstellung/rahmenbedingungen.html">Rahmenbedingungen</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../einstieg/erste-schritte.html">Erste Schritte</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../einstieg/tutorial/master.html">Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../einstieg/whitepaper/master.html">Whitepaper</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../einstieg/migrationsleitfaden-if2/master.html">Migrationsleitfaden IsyFact 2</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Blaupausen</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../blaupausen/referenzarchitektur/master.html">Referenzarchitektur</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../blaupausen/referenzarchitektur-it-system/master.html">Referenzarchitektur IT-System</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-anwendungskern/master.html">Anwendungskern</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-datenzugriff/master.html">Datenzugriff</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-service/master.html">Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-web-gui/master.html">Web GUI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/detailkonzept-komponente-batch/master.html">Batch</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Vorgaben</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/vorgaben-architektur/master.html">Architektur</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../blaupausen/vorgaben-it-sicherheit/master.html">IT-Sicherheit</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Bausteine</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Datum &amp; Zeit</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Fehlerbehandlung</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-exception-core/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-exception-core/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">HttpInvoker</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-serviceapi-core/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-serviceapi-core/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Konfiguration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-konfiguration/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-konfiguration/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Logging</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-logging/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-logging/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Polling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-polling/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-polling/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">REST</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-service-rest/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-service-rest/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Sicherheit</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-sicherheit/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-sicherheit/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Sonderzeichen</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-sonderzeichen/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-sonderzeichen/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Task Scheduling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-task/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-task/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Überwachung</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-ueberwachung/konzept/master.html">Konzept</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-ueberwachung/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Util</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../isy-util/nutzungsvorgaben/master.html">Nutzungsvorgaben</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Methodik</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../methodik/namenskonventionen/master.html">Namenskonventionen</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../methodik/versionierung/master.html">Versionierung</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../methodik/java-programmierkonventionen/master.html">Java-Programmierkonventionen</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../methodik/diagrammerstellung.html">Diagrammerstellung und Modellierung</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../methodik/diagrammerstellung/diagramsnet.html">diagrams.net</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../methodik/diagrammerstellung/enterprise-architect.html">Enterprise Architect</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../methodik/vorlagen.html">Vorlagen</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../methodik/tailoring/tailoring.html">Tailoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../methodik/spezifikation/datenflussdiagramme.html">Datenflussdiagramme</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Werkzeuge</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../werkzeuge/einrichtung_entwicklungsumgebung/master.html">Entwicklungsumgebung</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../werkzeuge/versionierungskontrolle/master.html">Versionierungskontrolle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../werkzeuge/handbuch_dokumentation/master.html">Dokumentation der IsyFact</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../werkzeuge/seitenvorlage.html">Seitenvorlage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../werkzeuge/kopiervorlage.html">Kopiervorlage für neue Seiten</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../changelog/changelog.html">Changelog</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">IsyFact Standards</span>
    <span class="version">2.5-SNAPSHOT</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../../../glossary/latest/glossary/master.html">Glossar</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../../glossary/latest/glossary/master.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../../einstieg/vorstellung.html">IsyFact Standards</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../einstieg/vorstellung.html">2.5-SNAPSHOT</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../einstieg/vorstellung.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../einstieg/vorstellung.html">IsyFact Standards</a></li>
    <li><a href="inhalt.html">Nutzungsvorgaben Datum &amp; Zeit: Inhalt</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Inhalt" data-levels="3">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Nutzungsvorgaben Datum &amp; Zeit: Inhalt</h1>
<div class="sect1">
<h2 id="dauern-und-zeitzonen"><a class="anchor" href="#dauern-und-zeitzonen"></a>1. Dauern und Zeitzonen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dieses Kapitel enthält einige grundlegende Informationen zum Umgang Dauern und Zeitzonen.</p>
</div>
<div class="sect2">
<h3 id="zeitdauer-mit-period-und-duration"><a class="anchor" href="#zeitdauer-mit-period-und-duration"></a>1.1. Zeitdauer mit Period und Duration</h3>
<div class="paragraph">
<p>Zur Darstellung einer Dauer sind die Java 8 Typen <code>Period</code> und <code>Duration</code> zu verwenden.</p>
</div>
<div class="paragraph">
<p>Eine <code>Period</code> ist eine datumsbasierte Menge von Zeit, wie z.B. „2 Jahre, 3 Monate und 4 Tage“.
Eine Dauer wird also auf der Basis von Jahren, Monaten und Tagen modelliert.</p>
</div>
<div class="paragraph">
<p>Eine <code>Duration</code> ist eine zeitbasierte Menge von Zeit, wie z.B. „34,5 Sekunden“.
Eine Dauer wird hier auf der Basis von Sekunden und Nanosekunden modelliert.
Der Zugriff ist auch über andere Zeiteinheiten, wie z.B. Minute, Stunde oder Tag, möglich.</p>
</div>
<div class="paragraph">
<p><code>Period</code> und <code>Duration</code> unterscheiden sich bei Berechnungen mit einer <code>ZonedDateTime</code> im Zusammenhang mit der Sommerzeit.
Mit einer <code>Duration</code> wird eine exakte Anzahl von Sekunden hinzuaddiert und die Dauer eines Tages ist somit immer 24 Stunden.
Im Gegensatz dazu wird bei einer <code>Period</code> ein „konzeptioneller“ Tag hinzuaddiert.
Wenn also am Tag vor der Umstellung auf die Sommerzeit um 18:00 eine <code>Duration</code> von einem Tag addiert wird, wird die resultierende <code>ZonedDateTime</code> am nächsten Tag auf 19:00 stehen.
Bei der Addition einer <code>Period</code> wird dagegen die Uhrzeit auf 18:00 stehen, obwohl das nur 23 Stunden sind.</p>
</div>
<div class="paragraph">
<p>Das Mischen der beiden Darstellungen (2 Monaten, 3 Stunden) ist nicht möglich.</p>
</div>
</div>
<div class="sect2">
<h3 id="zeitzonen-und-offsets"><a class="anchor" href="#zeitzonen-und-offsets"></a>1.2. Zeitzonen und Offsets</h3>
<div class="paragraph">
<p>Zum allgemeinen Verständnis folgen ein paar Erläuterungen zum Thema Offsets (Zeitverschiebung) und Zeitzonen.</p>
</div>
<div class="paragraph">
<p>Eine Zeitzone kann nicht nur durch einen Offset von UTC repräsentiert werden.
Viele Zeitzonen haben mehr als einen Offset aufgrund der Sommerzeitumstellung.
Das Datum, an dem die Umstellung von Normal- auf Sommerzeit und wieder zurück erfolgt, ist ebenfalls Teil der Zeitzonenregeln.
Sollten sich diese Datumsangaben im Laufe der Geschichte geändert haben, sind auch diese Daten in den Regeln für die jeweilige Zeitzone enthalten.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ein <strong>Offset / Zeitverschiebung</strong> ist nur eine Zahl die besagt, wie weit bestimmte Datums- und Zeitangabe hinter oder vor der UTC-Zeit ist.</p>
<div class="ulist">
<ul>
<li>
<p>Die meisten Offsets sind in ganzen Stunden angegeben.</p>
</li>
<li>
<p>Es existieren aber auch Offsets mit einem 30-minütigen Offset.</p>
</li>
<li>
<p>Einige wenige verwenden 45-minütigen Offset.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Eine <strong>Zeitzone</strong> enthält deutlich mehr:</p>
<div class="ulist">
<ul>
<li>
<p>Ein Name oder ID, mit der die Zone eindeutig identifiziert werden kann.</p>
</li>
<li>
<p>Einer oder mehrere Offsets von UTC</p>
</li>
<li>
<p>Die Daten und Zeiten, an denen zwischen den Offsets gewechselt wird.</p>
</li>
<li>
<p>Optional ein sprachspezifischer Anzeigename für die Anzeige beim Nutzer.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="abkürzungen-für-zeitzonen-offsets"><a class="anchor" href="#abkürzungen-für-zeitzonen-offsets"></a>1.3. Abkürzungen für Zeitzonen / Offsets</h3>
<div class="paragraph">
<p>Häufig werden Zeitzonen oder Offsets mit drei oder mehr Buchstaben abgekürzt, wie z.B. MEZ für „Mitteleuropäische Zeit“ oder PST für "Pacific Standard Time".
Die Verwendung solcher Abkürzungen kann aber zu Problemen führen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Häufig sind Abkürzungen nicht eindeutig.
Es gibt fünf Interpretationen für “CST”:</p>
<div class="ulist">
<ul>
<li>
<p>Central Standard Time (Nord Amerika)</p>
</li>
<li>
<p>Central Standard Time (Australien)</p>
</li>
<li>
<p>Central Summer Time (Australien)</p>
</li>
<li>
<p>China Standard Time</p>
</li>
<li>
<p>Cuba Standard Time</p>
</li>
</ul>
</div>
</li>
<li>
<p>Bestenfalls wird durch eine Abkürzung ein Offset, aber keine Zeitzone repräsentiert.
In Deutschland wird beispielsweise die Mitteleuropäische Zeit (MEZ) zur Normalzeit, aber die Mitteleuropäische Sommerzeit (MESZ) während der Sommerzeit.</p>
</li>
<li>
<p>Ein großer Teil der Abkürzungen kommt aus dem Englischen.
Manchmal existiert eine gültige Abkürzung auf Deutsch (z.B. MEZ für CET) und es kann zu Verwirrung kommen, welche Abkürzung genutzt werden soll.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Wenn solche Abkürzungen genutzt werden, sollte diese nur zur Anzeige für den Nutzer verwendet werden.
Abkürzungen sollten nicht geparst oder anderweitig technisch verarbeitet werden.
Die Abkürzungen "UTC" und "GMT" sind die einzigen, die davon explizit ausgenommen sind.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="verwendung-der-querschnittsbibliothek-isy-datetime"><a class="anchor" href="#verwendung-der-querschnittsbibliothek-isy-datetime"></a>2. Verwendung der Querschnittsbibliothek <strong><em>isy-datetime</em></strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In diesem Abschnitt werden Inhalt und Einsatz der Querschnittsbibliothek <em>isy-datetime</em> beschrieben.</p>
</div>
<div class="sect2">
<h3 id="inhalt-von-isy-datetime"><a class="anchor" href="#inhalt-von-isy-datetime"></a>2.1. Inhalt von <strong><em>isy-datetime</em></strong></h3>
<div class="sect3">
<h4 id="formatierung"><a class="anchor" href="#formatierung"></a>2.1.1. Formatierung</h4>
<div class="paragraph">
<p>Zur formatierten Ein- und Ausgabe stellt <em>isy-datetime</em> die Klassen <code>InFormat</code> und <code>OutFormat</code> bereit.
Diese beinhalten vorkonfigurierte <code>DateTimeFormatter</code> für die im Konzept beschriebene Formate.
Die Verarbeitung in der ISO-8601-konformen Darstellung wird direkt durch die Klassen der <em>Java 8 Date and Time API</em> unterstützt.</p>
</div>
<div class="sect4">
<h5 id="ausgabeformate-fuer-datum--und-zeitangaben"><a class="anchor" href="#ausgabeformate-fuer-datum--und-zeitangaben"></a>2.1.1.1. Ausgabeformate für Datum- und Zeitangaben</h5>
<div class="paragraph">
<p>Folgende Formate und deren zugehörige <code>DateTimeFormatter</code> werden von <em>isy-datetime</em> in der Klasse <code>InFormat</code> bereitgestellt:</p>
</div>
<table id="table-DatumZeitFormat" class="tableblock frame-all grid-all stretch">
<caption class="title">Tabelle 1. Datum Zeit Format</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>Format (Beispiel)</strong></th>
<th class="tableblock halign-center valign-top"><strong>Formatter in OutFormat</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Montag, 17. Juli 2017 14:35:19 MESZ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATUM_ZEIT_LANG_TAG_ZONE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17. Juli 2017 14:35:19 MESZ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATUM_ZEIT_LANG_ZONE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Montag, 17.Juli 2017 14:35:19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATUM_ZEIT_LANG_TAG</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17.07.2017 14:35:19 +02:00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATUM_ZEIT_ZONE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17.07.2017 14:35:19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATUM_ZEIT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17.07.2017</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATUM</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14:35:19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZEIT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14:35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZEIT_KURZ</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="eingabeformate-fuer-datum--und-zeitangaben"><a class="anchor" href="#eingabeformate-fuer-datum--und-zeitangaben"></a>2.1.1.2. Eingabeformate für Datum- und Zeitangaben</h5>
<div class="paragraph">
<p>Für die Eingabe werden <code>DateTimeFormatter</code> bereitgestellt.
Diese sind nach Datum und Zeit getrennt.
Zur direkten Verwendung dieser Formate stellt die Klasse <code>InFormat</code> verschiedene Methoden zum Parsen in verschiedene Typen bereit.</p>
</div>
<table id="table-DatumZeitEingabeformate" class="tableblock frame-all grid-all stretch">
<caption class="title">Tabelle 2. Datum Zeit Eingabeformate</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>Methode</strong></th>
<th class="tableblock halign-center valign-top"><strong>Mögliche Eingabe (Beispiel)</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">parseToLocalTime()</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">“15:24“</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">parseToLocalDate()</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">“30.08.2017“</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">parseToLocalDateTime()</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">“17.07.2017 14:35:19“</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">parseToOffsetTime()</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">“14:35:19 +02:00“</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">parseToOffsetDateTime()</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">“17.07.2017 14:35:19 +02:00“</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">parseToZonedDateTime()</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">“17.07.2017 14:35:19 Europe/Berlin“</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="formate-fuer-dauer"><a class="anchor" href="#formate-fuer-dauer"></a>2.1.1.3. Formate für Dauer</h5>
<div class="paragraph">
<p>Zur Eingabe von Dauern werden folgende Methoden von <code>InFormat</code> bereitgestellt:</p>
</div>
<table id="table-FormateFuerDauer" class="tableblock frame-all grid-all stretch">
<caption class="title">Tabelle 3. Formate für Dauer</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>Methode</strong></th>
<th class="tableblock halign-center valign-top"><strong>Mögliche Eingabe (Beispiel)</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">parseToDuration()</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4h 3min 2s 1ms</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">parseToPeriod()</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7a 6M 5d</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Hierbei ist zu beachten, dass nicht alle Zeiteinheiten von <code>Period</code> bzw. <code>Duration</code> unterstützt werden.
Enthält die Zeichenkette Zeiteinheiten, die nicht unterstützt werden, wird eine Exception geworfen.</p>
</div>
</div>
<div class="sect4">
<h5 id="formate-fuer-zeitraum"><a class="anchor" href="#formate-fuer-zeitraum"></a>2.1.1.4. Formate für Zeitraum</h5>
<div class="paragraph">
<p>Zur Eingabe von Zeiträumen stellt die Klasse <code>Zeitraum</code> die Methode <code>parse()</code> bereit.
Unterstützt werden die Eingabe von Anfang und Ende oder von Anfang und Dauer.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="zeitraum"><a class="anchor" href="#zeitraum"></a>2.1.2. Zeitraum</h4>
<div class="paragraph">
<p>Die Repräsentation eines Zeitraums im Sinne des Konzepts wird nicht durch die <em>Java 8 Date and Time API</em> bereitgestellt.
Für diesen Zweck stellt <em>isy-datetime</em> die Klasse <code>Zeitraum</code> bereit.</p>
</div>
<div class="paragraph">
<p>Ein Zeitraum kann aus einem zwei Datumsangaben, zwei Datums- und Zeitangaben oder nur aus Zeitangaben erstellt werden.
Das angegebene Ende ist immer exklusive und nicht Teil des Zeitraums.
Ein Zeitraum, der nur aus Zeiten besteht, kann nicht länger als 24 Stunden sein, aber über einen Tageswechsel (22:00 – 06:00) gehen.
Bei Zeiträumen die nur aus Datumsangaben bestehen, ist die Anfangszeit 00:00 des Anfangstages und die Endzeit 00:00 des Endtages.</p>
</div>
<div class="paragraph">
<p>Intern werden Anfang und Ende mit Angabe der Zeitzone gespeichert, um die Dauer bei Zeitumstellungen korrekt berechnen zu können.
Wird bei der Erstellung keine Zeitzone angegeben, wird Standard-Zeitzone der JVM verwendet.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="berechnungen"><a class="anchor" href="#berechnungen"></a>2.2. Berechnungen</h3>
<div class="paragraph">
<p>Wenn möglich, sollten Berechnungen mit Datums- und Zeitangaben mit den Bordmitteln der <em>Java 8</em> Date <em>and Time API</em> umgesetzt werden.
Für die im Konzept geforderten Berechnungen gibt es folgende Möglichkeiten zur Umsetzung:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Chronologische Sortierung einer Menge von Datums- und Zeitwerten und chronologische Vergleiche zwischen Datums- und Zeitwerten („früher als“, „später als“, „gleichzeitig“).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die Klassen <code>LocalDate</code>, <code>LocalTime</code>, <code>LocalDateTime</code>, <code>OffsetTime</code>, <code>OffsetDateTime</code>, <code>ZonedDateTime</code> und <code>Duration</code> implementieren das Interface <code>Comparable</code>, daher ist ein Sortieren mit Bordmitteln möglich (bspw. mit <code>Collections.sort()</code>).</p>
</div>
<div class="paragraph">
<p>Für chronologische Vergleiche werden die Methoden <code>isBefore()</code>, <code>isAfter()</code>, <code>isEqual()</code> bereitgestellt.
Bei <code>LocalTime</code> ist die Methode <code>equals()</code> zu verwenden.
Der Unterschied zwischen <code>equals()</code> und <code>isEqual()</code> besteht darin, dass <code>isEqual()</code> einen chronologischen Vergleich und <code>equals()</code> einen „technischen“ Vergleich durchführt.
Dazu ein Beispiel:</p>
</div>
<div id="listing-VergleichZeiten" class="listingblock">
<div class="title">Listing 1. Vergleich von Zeiten mit equals() und isEqual()</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">OffsetTime offsetTime1 = OffsetTime.of(15, 0, 0, 0, ZoneOffset.ofHours(2));
OffsetTime offsetTime2 = OffsetTime.of(13, 0, 0, 0, ZoneOffset.UTC);
offsetTime1.isEqual(offsetTime2); // true
offsetTime1.equals(offsetTime2); // false

JapaneseDate todayJapanese = JapaneseDate.now();
LocalDate todayLocal = LocalDate.now();
todayJapanese.equals(todayLocal); // false
todayJapanese.isEqual(todayLocal); // true</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Ermittlung des „Tagesdatums“ (der zeitliche Anteil eines Datumswerts wird auf 0, d.h. auf Mitternacht, gestellt)<br></p>
<div class="paragraph">
<p>Dafür sollte die Methode <code>toLocalDate()</code> verwendet werden.
Wenn das Ergebnis kein <code>LocalDate</code> sein soll, sondern einer Objekt des gleichen Typs mit dem Zeitwert auf 0 gesetzt, ist die Methode <code>truncatedTo(ChronoUnit.DAYS)</code> zu verwenden.</p>
</div>
</li>
<li>
<p>Berechnung des Abstands („Dauer“) zwischen zwei Datums- oder Zeitwerten<br></p>
<div class="paragraph">
<p>Es ist die Methode <code>until()</code> der Datum- und Zeitklassen oder die Methode <code>between()</code> des Interfaces <code>TemporalUnit</code> zu verwenden.
Beispiele:</p>
</div>
</li>
</ul>
</div>
<div id="listing-AbstandDatumUndZeit" class="listingblock">
<div class="title">Listing 2. Berechnung des Abstands zwischen zwei Datums- oder Zeitwerten</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">LocalTime time1 = LocalTime.of(15, 0);
LocalTime time2 = LocalTime.of(16, 30);

time1.until(time2, ChronoUnit.MINUTES); // 90
ChronoUnit.MINUTES.between(time1, time2); // 90

LocalDate date1 = LocalDate.of(2017, 8, 1);
LocalDate date2 = LocalDate.of(2017, 9, 1);

date1.until(date2); // Period von 1 Monat
ChronoUnit.DAYS.between(date1, date2); // 31

ZonedDateTime zonedDateTime1 = ZonedDateTime.of(
  LocalDateTime.of(2017, 3, 25, 18, 0),
  ZoneId.of("Europe/Berlin"));
ZonedDateTime zonedDateTime2 = ZonedDateTime.of(
  LocalDateTime.of(2017, 3, 26, 18, 0),
  ZoneId.of("Europe/Berlin"));
zonedDateTime1.until(zonedDateTime2, ChronoUnit.DAYS); // 1
ChronoUnit.HOURS.between(zonedDateTime1, zonedDateTime2); // 23</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Addition und Subtraktion von Datums- und Zeitwerten mit einer Dauer.<br>
Die Datums- und Zeitklassen von Java 8 stellen umfangreiche <code>plus*()</code> und <code>minus*()</code>-Methoden zur Addition/Subtraktion von Datums- und Zeitwerten bereit.</p>
</li>
<li>
<p>Prüfung, ob zwei Datumswerte für zwei direkt aufeinanderfolgende Tage stehen ("Liegt der 28.2.2016 direkt vor dem 1.3.2016?“).</p>
</li>
</ul>
</div>
<div id="listing-AufeinanderfolgendeTage" class="listingblock">
<div class="title">Listing 3. Berechnung mit aufeinanderfolgenden Tagen</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">LocalDate date1 = LocalDate.of(2016, 2, 28);
LocalDate date2 = LocalDate.of(2016, 3, 1);

date1.plusDays(1).isEqual(date2)); // false</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Berechnung des nächsten Werktags nach einem übergebenen Datumswert.<br></p>
<div class="paragraph">
<p>Die Klasse <code>DateTimeUtil</code> stellt hierfür die Methode <code>getWerkTag(LocalDate datum)</code> bereit.<br></p>
</div>
<div class="paragraph">
<p>Liegt das übergebene Datum auf einem Sonntag, wird das Datum des folgenden Montags zurückgegeben, sonst das gleiche Datum.
Feiertage werden nicht berücksichtigt.</p>
</div>
</li>
<li>
<p>Prüfung, ob ein Datum in einem Zeitraum liegt.<br></p>
<div class="paragraph">
<p>Die Klasse <code>Zeitraum</code> aus <em>isy-datetime</em> stellt dazu die Methode <code>isInZeitraum()</code> bereit.</p>
</div>
</li>
<li>
<p>Prüfung, ob sich zwei Zeiträume überlappen.<br></p>
<div class="paragraph">
<p>Die Klasse <code>Zeitraum</code> aus <em>isy-datetime</em> stellt dazu die Methode <code>ueberschneidetSichMit()</code> bereit.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="testunterstützung"><a class="anchor" href="#testunterstützung"></a>2.3. Testunterstützung</h3>
<div class="paragraph">
<p>Für die Umsetzung der Testunterstützung stellt <em>isy-datetime</em> die Klasse <code>TestClock</code> bereit.
Sie erweitert die Klasse <code>java.time.Clock</code> und wird an Stelle dieser verwendet.</p>
</div>
<div class="paragraph">
<p>Damit diese Klasse bei Tests verwendet kann, dürfen in der zu testenden Anwendung keine Aufrufe der <code>now()</code>-Methoden <em>Java 8 Date and Time API</em> Klassen benutzt werden.
Stattdessen müssen die Methoden <code>*now()</code> aus der Klasse <code>DateTimeUtil</code> zum Erzeugen von Datums- und Zeitobjekten verwendet werden.
Diese rufen intern die Methode <code>now(Clock)</code> der Java 8 Klassen auf.
Als <code>Clock</code> wird standardmäßig <code>Clock.systemDefaultZone()</code> verwendet.</p>
</div>
<div class="paragraph">
<p>Zum Test wird als <code>Clock</code> eine <code>TestClock</code> gesetzt.
Der Ablauf eines Tests mit der <code>TestClock</code> sieht dann schematisch folgendermaßen aus:</p>
</div>
<div id="listing-VerwendungTestClock" class="listingblock">
<div class="title">Listing 4. Verwendung der Klasse TestClock</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Test
public void someTest() {
    TestClock testClock = TestClock.at(LocalDateTime.of(2017, 9, 1, 15, 0));
    DateTimeUtil.setClock(testClock);

    // Test der Anwendung zu bestimmer Zeit

    // Zeit um eine Stunde nach vorne Stellen
    DateTimeUtil.getClock().advanceBy(Duration.ofHours(1));
    // Erneuter Test der Anwendung eine Stunde später...</code></pre>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<div class="divFooter"></div>

<script src="../../../../_/js/site.js"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script src="../../../../_/js/isyfact.js"></script>
  </body>
</html>
